var Yh=Object.defineProperty;var a=(fe,c)=>Yh(fe,"name",{value:c,configurable:!0});(()=>{var __webpack_modules__={5326:(fe,c,b)=>{"use strict";b.r(c),b.d(c,{AppInsightsCore:()=>$,BaseCore:()=>j,BaseTelemetryPlugin:()=>ct.i,CoreUtils:()=>N.Tr,DiagnosticLogger:()=>B.AQ,ESPromise:()=>le,ESPromiseScheduler:()=>we,EventHelper:()=>Z.zB,EventLatency:()=>C,EventPersistence:()=>E,EventPropertyType:()=>f,EventsDiscardedReason:()=>Ze.h,FullVersionString:()=>N.vs,InternalAppInsightsCore:()=>K.F,InternalBaseCore:()=>R.A,LoggingSeverity:()=>w.X,MinChannelPriorty:()=>De,NotificationManager:()=>ee.f,PerfEvent:()=>I.zn,PerfManager:()=>I.Jk,ProcessTelemetryContext:()=>qe.Vi,TraceLevel:()=>S,Undefined:()=>_e.jA,Utils:()=>N.cQ,ValueKind:()=>O,ValueSanitizer:()=>Oe,Version:()=>N.Gf,_ExtendedInternalMessageId:()=>_,_InternalLogMessage:()=>B.lQ,_InternalMessageId:()=>w.v,__getRegisteredEvents:()=>te.um,_logInternalMessage:()=>B.L4,_throwInternal:()=>B.kP,_warnToConsole:()=>B.jV,addEventHandler:()=>te.Ib,addEventListeners:()=>te.yw,addPageHideEventListener:()=>te.TJ,addPageShowEventListener:()=>te.nD,addPageUnloadEventListener:()=>te.c9,areCookiesSupported:()=>Ge.p7,arrForEach:()=>y.tO,arrIndexOf:()=>y.UA,arrMap:()=>y.Mr,arrReduce:()=>y.Xz,attachEvent:()=>te.pZ,cookieAvailable:()=>Ge.p7,createCookieMgr:()=>Ge.Nz,createEnumStyle:()=>p.By,createGuid:()=>N.cm,createProcessTelemetryContext:()=>qe.CD,createTraceParent:()=>Re.SU,createUniqueNamespace:()=>lt.J,createUnloadHandlerContainer:()=>Se.Y,dateNow:()=>y.m6,deleteCookie:()=>N.kT,detachEvent:()=>te.pD,disableCookies:()=>N.oF,disallowsSameSiteNone:()=>Ge.UY,doPerf:()=>I.Lm,dumpObj:()=>q.eU,eventOff:()=>te.QY,eventOn:()=>te.XO,extend:()=>N.l7,findW3cTraceParent:()=>Re.lq,formatTraceParent:()=>Re.aR,generateW3CId:()=>Z.DO,getCommonSchemaMetaData:()=>N.Vv,getConsole:()=>q.dr,getCookie:()=>N.ej,getCookieValue:()=>N.Do,getCrypto:()=>q.MX,getDocument:()=>q.Me,getExceptionName:()=>y.jj,getFieldValueType:()=>N.Sy,getGlobal:()=>Ce.Rd,getGlobalInst:()=>q.a8,getHistory:()=>q.s1,getIEVersion:()=>q.sA,getISOString:()=>y.Y6,getJSON:()=>q.xA,getLocation:()=>q.k$,getMsCrypto:()=>q.gz,getNavigator:()=>q.jW,getPerformance:()=>q.r,getSetValue:()=>y.qK,getTenantId:()=>N.jM,getTime:()=>N.hK,getWindow:()=>q.Jj,hasDocument:()=>q.Nv,hasHistory:()=>q.fE,hasJSON:()=>q.nS,hasNavigator:()=>q.d6,hasOwnProperty:()=>y.nr,hasWindow:()=>q.Ym,isArray:()=>y.kJ,isArrayValid:()=>N.JT,isBeaconsSupported:()=>q.MF,isBoolean:()=>y.jn,isChromium:()=>N.mJ,isDate:()=>y.J_,isDocumentObjectAvailable:()=>N.x9,isError:()=>y.VZ,isFetchSupported:()=>q.JO,isFunction:()=>y.mf,isIE:()=>q.w1,isLatency:()=>N.r7,isNotTruthy:()=>y.F,isNullOrUndefined:()=>y.le,isNumber:()=>y.hj,isObject:()=>y.Kn,isReactNative:()=>q.b$,isSampledFlag:()=>Re.Pn,isString:()=>y.HD,isTruthy:()=>y.fQ,isTypeof:()=>y.Ym,isUint8ArrayAvailable:()=>N.IZ,isUndefined:()=>y.o8,isValidSpanId:()=>Re.Lc,isValidTraceId:()=>Re.jN,isValidTraceParent:()=>Re.J6,isValueAssigned:()=>N.Sn,isValueKind:()=>N.oS,isWindowObjectAvailable:()=>N.dH,isXhrSupported:()=>q.Z3,mergeEvtNamespace:()=>te.jU,newGuid:()=>Z.GW,newId:()=>ae.pZ,normalizeJsName:()=>y.Gf,objCreate:()=>Ce.pu,objDefineAccessors:()=>y.l_,objForEachKey:()=>y.rW,objFreeze:()=>y.FL,objKeys:()=>y.FY,objSeal:()=>y.Xi,openXhr:()=>N.ot,optimizeObject:()=>y.Ax,parseTraceParent:()=>Re.j_,perfNow:()=>Z.Jj,proxyAssign:()=>y.cf,proxyFunctionAs:()=>y.Oi,proxyFunctions:()=>y.Vb,random32:()=>ae._l,randomValue:()=>ae.az,removeEventHandler:()=>te.C1,removeEventListeners:()=>te.nJ,removePageHideEventListener:()=>te.C9,removePageShowEventListener:()=>te.Yl,removePageUnloadEventListener:()=>te.JA,safeGetCookieMgr:()=>Ge.JP,safeGetLogger:()=>B.vH,sanitizeProperty:()=>N.yj,setCookie:()=>N.d8,setEnableEnvMocks:()=>q.dI,setProcessTelemetryTimings:()=>N.if,setValue:()=>y.sO,strContains:()=>y._Q,strEndsWith:()=>y.Id,strFunction:()=>_e.cb,strObject:()=>_e.fK,strPrototype:()=>_e.hB,strStartsWith:()=>y.xe,strTrim:()=>y.nd,strUndefined:()=>_e.jA,throwError:()=>y._y,toISOString:()=>y.Y6,useXDomainRequest:()=>q.cp});var v=b(1088),p=b(4873),y=b(6708),w=b(7310),O=(0,p.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),C=(0,p.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),f=(0,p.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),E=(0,p.By)({Normal:1,Critical:2}),S=(0,p.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),_=(0,y.FL)((0,v.uc)((0,v.uc)({},w.v),(0,p.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),x=b(1679),B=b(5018),I=b(9288),q=b(7630),K=b(5121),se=b(7984),N=b(3599),z=function(Te){(0,v.ne)(xe,Te);function xe(){var ke=Te.call(this)||this;return ke.pluginVersionStringArr=[],(0,x.Z)(xe,ke,function(ve,ft){(!ve.logger||!ve.logger.queue)&&(ve.logger=new B.AQ({loggingLevelConsole:1})),ve.initialize=function(We,U,J,ge){(0,I.Lm)(ve,function(){return"AppInsightsCore.initialize"},function(){var Qe=ve.pluginVersionStringArr;if(We){We.endpointUrl||(We.endpointUrl=se.YT);var ut=We.propertyStorageOverride;ut&&(!ut.getProperty||!ut.setProperty)&&(0,y._y)("Invalid property storage override passed."),We.channels&&(0,y.tO)(We.channels,function(D){D&&(0,y.tO)(D,function(h){if(h.identifier&&h.version){var m=h.identifier+"="+h.version;Qe.push(m)}})})}ve.getWParam=function(){return typeof document!="undefined"||!!We.enableWParam?0:-1},U&&(0,y.tO)(U,function(D){if(D&&D.identifier&&D.version){var h=D.identifier+"="+D.version;Qe.push(h)}}),ve.pluginVersionString=Qe.join(";"),ve.pluginVersionStringArr=Qe;try{ft.initialize(We,U,J,ge),ve.pollInternalLogs("InternalLog")}catch(D){var wt=ve.logger,ot=(0,q.eU)(D);ot.indexOf("channels")!==-1&&(ot+=`
 - Channels must be provided through config.channels only!`),(0,B.kP)(wt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+ot)}},function(){return{config:We,extensions:U,logger:J,notificationManager:ge}})},ve.track=function(We){(0,I.Lm)(ve,function(){return"AppInsightsCore.track"},function(){var U=We;if(U){U.timings=U.timings||{},U.timings.trackStart=(0,N.hK)(),(0,N.r7)(U.latency)||(U.latency=1);var J=U.ext=U.ext||{};J.sdk=J.sdk||{},J.sdk.ver=N.vs;var ge=U.baseData=U.baseData||{};ge[se.o6]=ge[se.o6]||{};var Qe=ge[se.o6];Qe[se.p8]=Qe[se.p8]||ve.pluginVersionString||se.qS}ft.track(U)},function(){return{item:We}},!We.sync)}}),ke}return a(xe,"AppInsightsCore"),xe.__ieDyn=1,xe}(K.F);const $=z;var R=b(6900),L=function(Te){(0,v.ne)(xe,Te);function xe(){var ke=Te.call(this)||this;return(0,x.Z)(xe,ke,function(ve,ft){ve.initialize=function(We,U,J,ge){We&&!We.endpointUrl&&(We.endpointUrl=se.YT),ve.getWParam=function(){return N.x9||!!We.enableWParam?0:-1};try{ft.initialize(We,U,J,ge)}catch(Qe){(0,B.kP)(ve.logger,1,514,"Initialization Failed: "+(0,q.eU)(Qe)+`
 - Note: Channels must be provided through config.channels only`)}},ve.track=function(We){var U=We;if(U){var J=U.ext=U.ext||{};J.sdk=J.sdk||{},J.sdk.ver=N.vs}ft.track(U)}}),ke}return a(xe,"BaseCore"),xe.__ieDyn=1,xe}(R.A);const j=L;var X=y.mf;function re(Te,xe,ke){return function(ve){Te[xe]=ve,ke()}}a(re,"_createPromiseAllOnResolvedFunction");var ne=function(){function Te(xe){var ke=0,ve=null,ft=[];(0,x.Z)(Te,this,function(Qe){Qe.then=function(ut,wt){return new Te(function(ot,D){We(ut,wt,ot,D)})},Qe.catch=function(ut){return Qe.then(null,ut)}});function We(Qe,ut,wt,ot){ft.push(function(){var D;try{ke===1?D=X(Qe)?Qe(ve):ve:D=X(ut)?ut(ve):ve,D instanceof Te?D.then(wt,ot):ke===2&&!X(ut)?ot(D):wt(D)}catch(h){ot(h);return}}),ke!==0&&U()}a(We,"_enqueue");function U(){if(ft.length>0){var Qe=ft.slice();ft=[],setTimeout(function(){for(var ut=0,wt=Qe.length;ut<wt;++ut)try{Qe[ut]()}catch(ot){}},0)}}a(U,"_processQueue");function J(Qe){ke===0&&(ve=Qe,ke=1,U())}a(J,"_resolve");function ge(Qe){ke===0&&(ve=Qe,ke=2,U())}a(ge,"_reject"),a(function(){if(!X(xe))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{xe(J,ge)}catch(ut){ge(ut)}},"_initialize")()}return a(Te,"ESPromise"),Te.resolve=function(xe){return xe instanceof Te?xe:xe&&X(xe.then)?new Te(function(ke,ve){try{xe.then(ke,ve)}catch(ft){ve(ft)}}):new Te(function(ke){ke(xe)})},Te.reject=function(xe){return new Te(function(ke,ve){ve(xe)})},Te.all=function(xe){if(!(!xe||!xe.length))return new Te(function(ke,ve){try{for(var ft=[],We=0,U=0;U<xe.length;U++){var J=xe[U];J&&X(J.then)?(We++,J.then(re(ft,U,function(){--We==0&&ke(ft)}),ve)):ft[U]=J}We===0&&setTimeout(function(){ke(ft)},0)}catch(ge){ve(ge)}})},Te.race=function(xe){return new Te(function(ke,ve){if(!(!xe||!xe.length))try{for(var ft=a(function(U){var J=xe[U];J&&X(J.then)?J.then(ke,ve):setTimeout(function(){ke(J)},0)},"_loop_1"),We=0;We<xe.length;We++)ft(We)}catch(U){ve(U)}})},Te}();const le=ne;var Ce=b(2091),ie=6e5,G=0,me=[],Ue=[],Le=[];function ue(){return new Date().getTime()}a(ue,"_getTime");var Y=function(){function Te(xe,ke){var ve=0,ft=(xe||"<unnamed>")+"."+G;G++,(0,x.Z)(Te,this,function(J){var ge=null,Qe=0;J.scheduleEvent=function(wt,ot,D){var h=ft+"."+Qe;Qe++,ot&&(h+="-("+ot+")");var m=h+"{"+ve+"}";ve++;var Q={evt:null,tm:ue(),id:m,isRunning:!1,isAborted:!1};return ge?Q.evt=kt(Q,ge):Q.evt=vt(Q),ge=Q,ge.evt._schId=m,Q.evt;function de(nt){for(var Jt=ue(),ar=Jt-ie,Qt=nt.length,Gt=0;Gt<Qt;){var yr=nt[Gt];if(yr&&yr.tm<ar){var Ir=null;yr.abort?(Ir="Aborting ["+yr.id+"] due to Excessive runtime ("+(Jt-yr.tm)+" ms)",yr.abort(Ir)):Ir="Removing ["+yr.id+"] due to Excessive runtime ("+(Jt-yr.tm)+" ms)",U(Ir),nt.splice(Gt,1),Qt--}else Gt++}}a(de,"_abortAndRemoveOldEvents");function Ne(nt,Jt){var ar=!1,Qt=ut(me,nt);if(Qt||(Qt=ut(Le,nt),ar=!0),Qt){Qt.to&&(clearTimeout(Qt.to),Qt.to=null);var Gt=ue()-Qt.tm;Jt?ar?U("Timed out event ["+nt+"] finally complete -- "+Gt+" ms"):We("Promise ["+nt+"] Complete -- "+Gt+" ms"):(Le.push(Qt),U("Event ["+nt+"] Timed out and removed -- "+Gt+" ms"))}else We("Failed to remove ["+nt+"] from running queue");ge&&ge.id===nt&&(ge=null),de(me),de(Ue),de(Le)}a(Ne,"_cleanup");function he(nt,Jt){return function(ar){return Ne(nt,!0),Jt&&Jt(ar),ar}}a(he,"_removeScheduledEvent");function st(nt,Jt,ar,Qt){Jt.then(function(Gt){return Gt instanceof le?(We("Event ["+nt+"] returned a promise -- waiting"),st(nt,Gt,ar,Qt),Gt):he(nt,ar)(Gt)},he(nt,Qt))}a(st,"_waitForFinalResult");function Ot(nt,Jt){var ar=nt.id;return new le(function(Qt,Gt){We("Event ["+ar+"] Starting -- waited for "+(nt.wTm||"--")+" ms"),nt.isRunning=!0,nt.abort=function(Ir){nt.abort=null,nt.isAborted=!0,Ne(ar,!1),Gt(new Error(Ir))};var yr=Jt(ar);yr instanceof le?(D&&(nt.to=setTimeout(function(){Ne(ar,!1),Gt(new Error("Timed out after ["+D+"] ms"))},D)),st(ar,yr,function(Ir){We("Event ["+ar+"] Resolving after "+(ue()-nt.tm)+" ms"),Qt(Ir)},Gt)):(We("Promise ["+ar+"] Auto completed as the start action did not return a promise"),Qt())})}a(Ot,"_createScheduledEvent");function vt(nt){var Jt=ue();return nt.wTm=Jt-nt.tm,nt.tm=Jt,nt.isAborted?le.reject(new Error("["+h+"] was aborted")):(me.push(nt),Ot(nt,wt))}a(vt,"_startWaitingEvent");function kt(nt,Jt){var ar=new le(function(Qt,Gt){var yr=ue()-Jt.tm,Ir=Jt.id;We("["+h+"] is waiting for ["+Ir+":"+yr+" ms] to complete before starting -- ["+Ue.length+"] waiting and ["+me.length+"] running"),nt.abort=function(bn){nt.abort=null,ut(Ue,h),nt.isAborted=!0,Gt(new Error(bn))},Jt.evt.then(function(bn){ut(Ue,h),vt(nt).then(Qt,Gt)},function(bn){ut(Ue,h),vt(nt).then(Qt,Gt)})});return Ue.push(nt),ar}a(kt,"_waitForPreviousEvent")};function ut(wt,ot){for(var D=0;D<wt.length;D++)if(wt[D].id===ot)return wt.splice(D,1)[0];return null}a(ut,"_removeQueuedEvent")});function We(J){var ge=(0,Ce.Rd)();ge&&ge.QUnit&&console&&console.log("ESPromiseScheduler["+ft+"] "+J)}a(We,"_debugLog");function U(J){(0,B.jV)(ke,"ESPromiseScheduler["+ft+"] "+J)}a(U,"_warnLog")}return a(Te,"ESPromiseScheduler"),Te.incomplete=function(){return me},Te.waitingToStart=function(){return Ue},Te}();const we=Y;var Oe=function(){function Te(xe){var ke=this,ve={},ft=[],We=[];xe&&We.push(xe);function U(ut,wt){var ot,D=ve[ut];if(D&&(ot=D[wt]),!ot&&ot!==null){if((0,y.HD)(ut)&&(0,y.HD)(wt))if(We.length>0){for(var h=0;h<We.length;h++)if(We[h].handleField(ut,wt)){ot={canHandle:!0,fieldHandler:We[h]};break}}else ft.length===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var h=0;h<ft.length;h++)if(ft[h].handleField(ut,wt)){ot={canHandle:!0,handler:ft[h],fieldHandler:null};break}}D||(D=ve[ut]={}),D[wt]=ot}return ot}a(U,"_getFieldSanitizer"),ke.addSanitizer=function(ut){ut&&(ft.push(ut),ve={})},ke.addFieldSanitizer=function(ut){ut&&(We.push(ut),ve={})},ke.handleField=function(ut,wt){var ot=U(ut,wt);return ot?ot.canHandle:!1},ke.value=function(ut,wt,ot,D){var h=U(ut,wt);if(h&&h.canHandle){if(!h||!h.canHandle)return null;if(h.handler)return h.handler.value(ut,wt,ot,D);if(!(0,y.HD)(wt)||(0,y.le)(ot)||ot===se.qS)return null;var m=null,Q=(0,N.Sy)(ot);if((Q&8192)==8192){var de=Q&~8192;if(m=ot,!(0,N.Sn)(m.value)||de!==1&&de!==2&&de!==3&&(de&4096)!=4096)return null}else Q===1||Q===2||Q===3||(Q&4096)==4096?m=ge(ut,wt,ot):Q===4&&(m=ge(ut,wt,D?JSON.stringify(ot):ot));if(m)return J(h,ut,wt,Q,m,D)}return null},ke.property=function(ut,wt,ot,D){var h=U(ut,wt);if(!h||!h.canHandle||!(0,y.HD)(wt)||(0,y.le)(ot)||!(0,N.Sn)(ot.value))return null;var m=(0,N.Sy)(ot.value);return m===0?null:J(h,ut,wt,m,ot,D)};function J(ut,wt,ot,D,h,m){if(ut.handler)return ut.handler.property(wt,ot,h,m);if(!(0,y.le)(h.kind)){if((D&4096)==4096||!(0,N.oS)(h.kind))return null;h.value=h.value.toString()}return Qe(ut.fieldHandler,wt,ot,D,h)}a(J,"_handleProperty");function ge(ut,wt,ot){return(0,N.Sn)(ot)?{value:ot}:null}a(ge,"_convertToProperty");function Qe(ut,wt,ot,D,h){if(h&&ut){var m=ut.getSanitizer(wt,ot,D,h.kind,h.propertyType);if(m)if(D===4){var Q={},de=h.value;(0,y.rW)(de,function(he,st){var Ot=wt+"."+ot;if((0,N.Sn)(st)){var vt=ge(Ot,he,st);vt=Qe(ut,Ot,he,(0,N.Sy)(st),vt),vt&&(Q[he]=vt.value)}}),h.value=Q}else{var Ne={path:wt,name:ot,type:D,prop:h,sanitizer:ke};h=m.call(ke,Ne)}}return h}a(Qe,"_callFieldSanitizer")}return a(Te,"ValueSanitizer"),Te.getFieldType=N.Sy,Te}(),De=100,ee=b(1880),ct=b(4063),qe=b(1589),Ze=b(5928),Z=b(5843),te=b(4869),ae=b(4878),_e=b(4392),Ge=b(3242),lt=b(5883),Se=b(310),Re=b(4206)},7984:(fe,c,b)=>{"use strict";b.d(c,{qS:()=>v,YT:()=>p,p8:()=>O,o6:()=>C});var v="",p="https://browser.events.data.microsoft.com/OneCollector/1.0/",y="pluginVersionString",w=y+"Arr",O="version",C="properties"},3599:(fe,c,b)=>{"use strict";b.d(c,{Gf:()=>x,vs:()=>B,x9:()=>z,dH:()=>$,Sn:()=>R,jM:()=>L,IZ:()=>j,r7:()=>X,yj:()=>re,Vv:()=>ne,oF:()=>le,d8:()=>Ce,kT:()=>ie,ej:()=>G,Do:()=>me,cm:()=>Ue,l7:()=>Le,hK:()=>ue,oS:()=>Y,JT:()=>De,if:()=>ee,Sy:()=>ct,cQ:()=>qe,Tr:()=>Ze,mJ:()=>Z,ot:()=>te});var v=b(7630),p=b(6708),y=b(3242),w=b(5843),O=b(4392),C=b(4869),f=b(4878),E=b(2091),S=b(7984),_,x="3.2.8",B="1DS-Web-JS-"+x,I="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",q="withCredentials",K="timeout",se=(_={},_[0]=0,_[2]=6,_[1]=1,_[3]=7,_[4096|2]=6,_[4096|1]=1,_[4096|3]=7,_),N=null,z=Boolean((0,v.Me)()),$=Boolean((0,v.Jj)());function R(ae){return!(ae===S.qS||(0,p.le)(ae))}a(R,"isValueAssigned");function L(ae){if(ae){var _e=ae.indexOf("-");if(_e>-1)return ae.substring(0,_e)}return S.qS}a(L,"getTenantId");function j(){return N===null&&(N=!(0,p.o8)(Uint8Array)&&!Oe()&&!(0,v.b$)()),N}a(j,"isUint8ArrayAvailable");function X(ae){return!!(ae&&(0,p.hj)(ae)&&ae>=1&&ae<=4)}a(X,"isLatency");function re(ae,_e,Ge){if(!_e&&!R(_e)||typeof ae!="string")return null;var lt=typeof _e;if(lt==="string"||lt==="number"||lt==="boolean"||(0,p.kJ)(_e))_e={value:_e};else if(lt==="object"&&!O.CY.call(_e,"value"))_e={value:Ge?JSON.stringify(_e):_e};else if((0,p.le)(_e.value)||_e.value===S.qS||!(0,p.HD)(_e.value)&&!(0,p.hj)(_e.value)&&!(0,p.jn)(_e.value)&&!(0,p.kJ)(_e.value))return null;if((0,p.kJ)(_e.value)&&!De(_e.value))return null;if(!(0,p.le)(_e.kind)){if((0,p.kJ)(_e.value)||!Y(_e.kind))return null;_e.value=_e.value.toString()}return _e}a(re,"sanitizeProperty");function ne(ae,_e,Ge){var lt=-1;if(!(0,p.o8)(ae))if(_e>0&&(_e===32?lt=1<<13:_e<=13&&(lt=_e<<5)),we(Ge))lt===-1&&(lt=0),lt|=Ge;else{var Se=se[ct(ae)]||-1;lt!==-1&&Se!==-1?lt|=Se:Se===6&&(lt=Se)}return lt}a(ne,"getCommonSchemaMetaData");function le(){(0,y.JP)(null).setEnabled(!1)}a(le,"disableCookies");function Ce(ae,_e,Ge){(0,y.p7)(null)&&(0,y.JP)(null).set(ae,_e,Ge*86400,null,"/")}a(Ce,"setCookie");function ie(ae){(0,y.p7)(null)&&(0,y.JP)(null).del(ae)}a(ie,"deleteCookie");function G(ae){return(0,y.p7)(null)?me((0,y.JP)(null),ae):S.qS}a(G,"getCookie");function me(ae,_e,Ge){Ge===void 0&&(Ge=!0);var lt;return ae&&(lt=ae.get(_e),Ge&&lt&&decodeURIComponent&&(lt=decodeURIComponent(lt))),lt||S.qS}a(me,"getCookieValue");function Ue(ae){ae===void 0&&(ae="D");var _e=(0,w.GW)();return ae==="B"?_e="{"+_e+"}":ae==="P"?_e="("+_e+")":ae==="N"&&(_e=_e.replace(/-/g,S.qS)),_e}a(Ue,"createGuid");function Le(ae,_e,Ge,lt,Se){var Re={},Te=!1,xe=0,ke=arguments.length,ve=Object[O.hB],ft=arguments;for(ve.toString.call(ft[0])==="[object Boolean]"&&(Te=ft[0],xe++);xe<ke;xe++){var ae=ft[xe];(0,p.rW)(ae,function(U,J){Te&&J&&(0,p.Kn)(J)?(0,p.kJ)(J)?(Re[U]=Re[U]||[],(0,p.tO)(J,function(ge,Qe){ge&&(0,p.Kn)(ge)?Re[U][Qe]=Le(!0,Re[U][Qe],ge):Re[U][Qe]=ge})):Re[U]=Le(!0,Re[U],J):Re[U]=J})}return Re}a(Le,"extend");var ue=w.Jj;function Y(ae){return ae===0||ae>0&&ae<=13||ae===32}a(Y,"isValueKind");function we(ae){return ae>=0&&ae<=9}a(we,"isDataType");function Oe(){var ae=(0,v.jW)();if(!(0,p.o8)(ae)&&ae.userAgent){var _e=ae.userAgent.toLowerCase();if((_e.indexOf("safari")>=0||_e.indexOf("firefox")>=0)&&_e.indexOf("chrome")<0)return!0}return!1}a(Oe,"isSafariOrFirefox");function De(ae){return ae.length>0}a(De,"isArrayValid");function ee(ae,_e){var Ge=ae;Ge.timings=Ge.timings||{},Ge.timings.processTelemetryStart=Ge.timings.processTelemetryStart||{},Ge.timings.processTelemetryStart[_e]=ue()}a(ee,"setProcessTelemetryTimings");function ct(ae){var _e=0;if(ae!=null){var Ge=typeof ae;Ge==="string"?_e=1:Ge==="number"?_e=2:Ge==="boolean"?_e=3:Ge===O.fK&&(_e=4,(0,p.kJ)(ae)?(_e=4096,ae.length>0&&(_e|=ct(ae[0]))):O.CY.call(ae,"value")&&(_e=8192|ct(ae.value)))}return _e}a(ct,"getFieldValueType");var qe={Version:x,FullVersionString:B,strUndefined:O.jA,strObject:O.fK,Undefined:O.jA,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,objKeys:p.FY,toISOString:p.Y6,isReactNative:v.b$,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,isFunction:p.mf,isArray:p.kJ,isObject:p.Kn,strTrim:p.nd,isDocumentObjectAvailable:z,isWindowObjectAvailable:$,isValueAssigned:R,getTenantId:L,isBeaconsSupported:v.MF,isUint8ArrayAvailable:j,isLatency:X,sanitizeProperty:re,getISOString:p.Y6,useXDomainRequest:v.cp,getCommonSchemaMetaData:ne,cookieAvailable:y.p7,disallowsSameSiteNone:y.UY,setCookie:Ce,deleteCookie:ie,getCookie:G,createGuid:Ue,extend:Le,getTime:ue,isValueKind:Y,isArrayValid:De,objDefineAccessors:p.l_,addPageUnloadEventListener:C.c9,setProcessTelemetryTimings:ee,addEventHandler:C.Ib,getFieldValueType:ct,strEndsWith:p.Id,objForEachKey:p.rW},Ze={_canUseCookies:void 0,isTypeof:p.Ym,isUndefined:p.o8,isNullOrUndefined:p.le,hasOwnProperty:p.nr,isFunction:p.mf,isObject:p.Kn,isDate:p.J_,isArray:p.kJ,isError:p.VZ,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,toISOString:p.Y6,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,strTrim:p.nd,objCreate:E.pu,objKeys:p.FY,objDefineAccessors:p.l_,addEventHandler:C.Ib,dateNow:p.m6,isIE:v.w1,disableCookies:le,newGuid:w.GW,perfNow:w.Jj,newId:f.pZ,randomValue:f.az,random32:f._l,mwcRandomSeed:f.CN,mwcRandom32:f.F6,generateW3CId:w.DO};function Z(){return!!(0,v.a8)("chrome")}a(Z,"isChromium");function te(ae,_e,Ge,lt,Se,Re){lt===void 0&&(lt=!1),Se===void 0&&(Se=!1);function Te(ke,ve,ft){try{ke[ve]=ft}catch(We){}}a(Te,"_wrapSetXhrProp");var xe=new XMLHttpRequest;return lt&&Te(xe,I,lt),Ge&&Te(xe,q,Ge),xe.open(ae,_e,!Se),Ge&&Te(xe,q,Ge),!Se&&Re&&Te(xe,K,Re),xe}a(te,"openXhr")},9865:(fe,c,b)=>{"use strict";b.r(c),b.d(c,{BE_PROFILE:()=>q,NRT_PROFILE:()=>I,PostChannel:()=>Nr,RT_PROFILE:()=>B});var v=b(1088),p=b(1679),y=b(9288),w=b(4869),O=b(5883),C=b(3599),f=b(6708),E=b(7630),S=b(5928),_=b(5018),x=b(4063),B="REAL_TIME",I="NEAR_REAL_TIME",q="BEST_EFFORT",K="",se="POST",N="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",z="drop",$="send",R="requeue",L="rspFail",j="oth",X="no-cache, no-store",re="application/x-json-stream",ne="cache-control",le="content-type",Ce="kill-tokens",ie="kill-duration",G="kill-duration-seconds",me="time-delta-millis",Ue="client-version",Le="client-id",ue="time-delta-to-apply-millis",Y="upload-time",we="apikey",Oe="AuthMsaDeviceTicket",De="AuthXToken",ee="sdk-version",ct="NoResponseBody",qe="msfpc",Ze="trace",Z="user";function te(Tt){var Rt=(Tt.ext||{}).intweb;return Rt&&(0,C.Sn)(Rt[qe])?Rt[qe]:null}a(te,"_getEventMsfpc");function ae(Tt){for(var Rt=null,$t=0;Rt===null&&$t<Tt.length;$t++)Rt=te(Tt[$t]);return Rt}a(ae,"_getMsfpc");var _e=function(){function Tt(Rt,$t){var _t=$t?[].concat($t):[],Xt=this,zt=ae(_t);Xt.iKey=function(){return Rt},Xt.Msfpc=function(){return zt||K},Xt.count=function(){return _t.length},Xt.events=function(){return _t},Xt.addEvent=function(Et){return Et?(_t.push(Et),zt||(zt=te(Et)),!0):!1},Xt.split=function(Et,tr){var or;if(Et<_t.length){var _r=_t.length-Et;(0,f.le)(tr)||(_r=tr<_r?tr:_r),or=_t.splice(Et,_r),zt=ae(_t)}return new Tt(Rt,or)}}return a(Tt,"EventBatch"),Tt.create=function(Rt,$t){return new Tt(Rt,$t)},Tt}(),Ge=function(){function Tt(){var Rt=!0,$t=!0,_t=!0,Xt="use-collector-delta",zt=!1;(0,p.Z)(Tt,this,function(Et){Et.allowRequestSending=function(){return Rt},Et.firstRequestSent=function(){_t&&(_t=!1,zt||(Rt=!1))},Et.shouldAddClockSkewHeaders=function(){return $t},Et.getClockSkewHeaderValue=function(){return Xt},Et.setClockSkew=function(tr){zt||(tr?(Xt=tr,$t=!0,zt=!0):$t=!1,Rt=!0)}})}return a(Tt,"ClockSkewManager"),Tt.__ieDyn=1,Tt}();const lt=Ge;var Se=1e3,Re=function(){function Tt(){var Rt={};function $t(_t){var Xt=[];return _t&&(0,f.tO)(_t,function(zt){Xt.push((0,f.nd)(zt))}),Xt}a($t,"_normalizeTenants"),(0,p.Z)(Tt,this,function(_t){_t.setKillSwitchTenants=function(Xt,zt){if(Xt&&zt)try{var Et=$t(Xt.split(","));if(zt==="this-request-only")return Et;for(var tr=parseInt(zt,10)*Se,or=0;or<Et.length;++or)Rt[Et[or]]=(0,f.m6)()+tr}catch(_r){return[]}return[]},_t.isTenantKilled=function(Xt){var zt=Rt,Et=(0,f.nd)(Xt);return zt[Et]!==void 0&&zt[Et]>(0,f.m6)()?!0:(delete zt[Et],!1)}})}return a(Tt,"KillSwitch"),Tt.__ieDyn=1,Tt}();const Te=Re;var xe=b(4392),ke=.8,ve=1.2,ft=3e3,We=6e5;function U(Tt){return!(Tt>=300&&Tt<500&&Tt!=408&&Tt!=429||Tt==501||Tt==505)}a(U,"retryPolicyShouldRetryForStatus");function J(Tt){var Rt=0,$t=ft*ke,_t=ft*ve,Xt=Math.floor(Math.random()*(_t-$t))+$t;return Rt=Math.pow(2,Tt)*Xt,Math.min(Rt,We)}a(J,"retryPolicyGetMillisToBackoffForRetry");var ge=20,Qe=3984588,ut=65e3,wt=2e6,ot=Math.min(wt,ut),D="metadata",h="f",m=/\./,Q=function(){function Tt(Rt,$t,_t,Xt){var zt="data",Et="baseData",tr="ext",or=!!Xt,_r=!0,gr=$t,$r={};(0,p.Z)(Tt,this,function(xr){xr.createPayload=function(Lt,rr,er,Er,Kt,ur){return{apiKeys:[],payloadBlob:K,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Lt,isTeardown:rr,isSync:er,isBeacon:Er,sendType:ur,sendReason:Kt}},xr.appendPayload=function(Lt,rr,er){var Er=Lt&&rr&&!Lt.overflow;return Er&&(0,y.Lm)(Rt,function(){return"Serializer:appendPayload"},function(){for(var Kt=rr.events(),ur=Lt.payloadBlob,wr=Lt.numEvents,Dr=!1,nr=[],Ar=[],Br=Lt.isBeacon,Rr=Br?ut:Qe,Hr=Br?ot:wt,Xe=0,kr=0;Xe<Kt.length;){var Yt=Kt[Xe];if(Yt){if(wr>=er){Lt.overflow=rr.split(Xe);break}var Nt=xr.getEventBlob(Yt);if(Nt&&Nt.length<=Hr){var Lr=Nt.length,Sn=ur.length;if(Sn+Lr>Rr){Lt.overflow=rr.split(Xe);break}ur&&(ur+=`
`),ur+=Nt,kr++,kr>ge&&(ur.substr(0,1),kr=0),Dr=!0,wr++}else Nt?nr.push(Yt):Ar.push(Yt),Kt.splice(Xe,1),Xe--}Xe++}if(nr&&nr.length>0&&Lt.sizeExceed.push(_e.create(rr.iKey(),nr)),Ar&&Ar.length>0&&Lt.failedEvts.push(_e.create(rr.iKey(),Ar)),Dr){Lt.batches.push(rr),Lt.payloadBlob=ur,Lt.numEvents=wr;var Wr=rr.iKey();(0,f.UA)(Lt.apiKeys,Wr)===-1&&Lt.apiKeys.push(Wr)}},function(){return{payload:Lt,theBatch:{iKey:rr.iKey(),evts:rr.events()},max:er}}),Er},xr.getEventBlob=function(Lt){try{return(0,y.Lm)(Rt,function(){return"Serializer.getEventBlob"},function(){var rr={};rr.name=Lt.name,rr.time=Lt.time,rr.ver=Lt.ver,rr.iKey="o:"+(0,C.jM)(Lt.iKey);var er={},Er=Lt[tr];Er&&(rr[tr]=er,(0,f.rW)(Er,function(wr,Dr){var nr=er[wr]={};fr(Dr,nr,"ext."+wr,!0,null,null,!0)}));var Kt=rr[zt]={};Kt.baseType=Lt.baseType;var ur=Kt[Et]={};return fr(Lt.baseData,ur,Et,!1,[Et],function(wr,Dr,nr){de(er,wr,Dr,nr)},_r),fr(Lt.data,Kt,zt,!1,[],function(wr,Dr,nr){de(er,wr,Dr,nr)},_r),JSON.stringify(rr)},function(){return{item:Lt}})}catch(rr){return null}};function Fr(Lt,rr){var er=$r[Lt];return er===void 0&&(Lt.length>=7&&(er=(0,f.xe)(Lt,"ext.metadata")||(0,f.xe)(Lt,"ext.web")),$r[Lt]=er),er}a(Fr,"_isReservedField");function fr(Lt,rr,er,Er,Kt,ur,wr){(0,f.rW)(Lt,function(Dr,nr){var Ar=null;if(nr||(0,C.Sn)(nr)){var Br=er,Rr=Dr,Hr=Kt,Xe=rr;if(or&&!Er&&m.test(Dr)){var kr=Dr.split("."),Yt=kr.length;if(Yt>1){Hr&&(Hr=Hr.slice());for(var Nt=0;Nt<Yt-1;Nt++){var Lr=kr[Nt];Xe=Xe[Lr]=Xe[Lr]||{},Br+="."+Lr,Hr&&Hr.push(Lr)}Rr=kr[Yt-1]}}var Sn=Er&&Fr(Br,Rr);if(!Sn&&gr&&gr.handleField(Br,Rr)?Ar=gr.value(Br,Rr,nr,_t):Ar=(0,C.yj)(Rr,nr,_t),Ar){var Wr=Ar.value;if(Xe[Rr]=Wr,ur&&ur(Hr,Rr,Ar),wr&&typeof Wr=="object"&&!(0,f.kJ)(Wr)){var tn=Hr;tn&&(tn=tn.slice(),tn.push(Rr)),fr(nr,Wr,Br+"."+Rr,Er,tn,ur,wr)}}}})}a(fr,"_processPathKeys")})}return a(Tt,"Serializer"),Tt.__ieDyn=1,Tt}();function de(Tt,Rt,$t,_t){if(_t&&Tt){var Xt=(0,C.Vv)(_t.value,_t.kind,_t.propertyType);if(Xt>-1){var zt=Tt[D];zt||(zt=Tt[D]={f:{}});var Et=zt[h];if(Et||(Et=zt[h]={}),Rt)for(var tr=0;tr<Rt.length;tr++){var or=Rt[tr];Et[or]||(Et[or]={f:{}});var _r=Et[or][h];_r||(_r=Et[or][h]={}),Et=_r}Et=Et[$t]={},(0,f.kJ)(_t.value)?Et.a={t:Xt}:Et.t=Xt}}}a(de,"_addJSONPropertyMetaData");var Ne,he="sendAttempt",st="&"+ct+"=true",Ot=(Ne={},Ne[1]=R,Ne[100]=R,Ne[200]="sent",Ne[8004]=z,Ne[8003]=z,Ne),vt={},kt={};function nt(Tt,Rt,$t){vt[Tt]=Rt,$t!==!1&&(kt[Rt]=Tt)}a(nt,"_addCollectorHeaderQsMapping"),nt(Oe,Oe,!1),nt(Ue,Ue),nt(Le,"Client-Id"),nt(we,we),nt(ue,ue),nt(Y,Y),nt(De,De);function Jt(Tt){try{return Tt.responseText}catch(Rt){}return K}a(Jt,"_getResponseText");function ar(Tt,Rt){var $t=!1;if(Tt&&Rt){var _t=(0,f.FY)(Tt);if(_t&&_t.length>0)for(var Xt=Rt.toLowerCase(),zt=0;zt<_t.length;zt++){var Et=_t[zt];if(Et&&(0,f.nr)(Rt,Et)&&Et.toLowerCase()===Xt){$t=!0;break}}}return $t}a(ar,"_hasHeader");function Qt(Tt,Rt,$t,_t){Rt&&$t&&$t.length>0&&(_t&&vt[Rt]?(Tt.hdrs[vt[Rt]]=$t,Tt.useHdrs=!0):Tt.url+="&"+Rt+"="+$t)}a(Qt,"_addRequestDetails");function Gt(Tt,Rt){return Rt&&((0,f.hj)(Rt)?Tt=[Rt].concat(Tt):(0,f.kJ)(Rt)&&(Tt=Rt.concat(Tt))),Tt}a(Gt,"_prependTransports");var yr=function(){function Tt(Rt,$t,_t,Xt,zt){this._responseHandlers=[];var Et="?cors=true&"+le.toLowerCase()+"="+re,tr=new Te,or=!1,_r=new lt,gr=!1,$r=0,xr,Fr,fr,Lt,rr=!0,er=[],Er={},Kt=[],ur=null,wr=!1,Dr,nr=!1,Ar=!1,Br,Rr,Hr,Xe,kr;(0,p.Z)(Tt,this,function(Yt){var Nt=!0;Yt.initialize=function(Ae,P,W,ye,Ke){var Dt;Ke||(Ke={}),Et=Ae+Et,Ar=(0,f.o8)(Ke.avoidOptions)?!0:!Ke.avoidOptions,Lt=P,Dr=P.getCookieMgr(),wr=!Lt.config.disableEventTimings;var ht=!!Lt.config.enableCompoundKey;xr=W,Fr=xr.diagLog();var be=Ke.valueSanitizer,Pe=Ke.stringifyObjects;(0,f.o8)(Ke.enableCompoundKey)||(ht=!!Ke.enableCompoundKey),Br=Ke.xhrTimeout,Rr=!!Ke.disableXhrSync,Hr=!!Ke.disableFetchKeepAlive,kr=Ke.addNoResponse!==!1,gr=!(0,E.b$)(),ur=new Q(Lt,be,Pe,ht),(0,f.le)(Ke.useSendBeacon)||(gr=!!Ke.useSendBeacon);var He=ye,et=Ke.alwaysUseXhrOverride?ye:null,gt=Ke.alwaysUseXhrOverride?ye:null,yt=[3,2];if(!ye){rr=!1;var Ht=(0,E.k$)();Ht&&Ht.protocol&&Ht.protocol.toLowerCase()==="file:"&&(Nt=!1);var Bt=[];(0,E.b$)()?(Bt=[2,1],yt=[2,1,3]):Bt=[1,2,3],Bt=Gt(Bt,Ke.transports),ye=Lr(Bt,!1),ye||(0,_.jV)(Fr,"No available transport to send events"),He=Lr(Bt,!0)}et||(yt=Gt(yt,Ke.unloadTransports),et=Lr(yt,!0)),Xe=!rr&&(gr&&(0,E.MF)()||!Hr&&(0,E.JO)(!0)),fr=(Dt={},Dt[0]=ye,Dt[1]=He||Lr([1,2,3],!0),Dt[2]=et||He||Lr([1],!0),Dt[3]=gt||Lr([2,3],!0)||He||Lr([1],!0),Dt)};function Lr(Ae,P){for(var W=0,ye=null,Ke=0;ye==null&&Ke<Ae.length;)W=Ae[Ke],W===1?(0,E.cp)()?ye=Sn:(0,E.Z3)()&&(ye=tn):W===2&&(0,E.JO)(P)&&(!P||P&&!Hr)?ye=Wr:gr&&W===3&&(0,E.MF)()&&(ye=Bn),Ke++;return ye?{_transport:W,_isSync:P,sendPOST:ye}:null}a(Lr,"_getSenderInterface"),Yt._getDbgPlgTargets=function(){return[fr[0],tr,ur,fr]};function Sn(Ae,P,W){var ye=new XDomainRequest;ye.open(se,Ae.urlString),Ae.timeout&&(ye.timeout=Ae.timeout),ye.onload=function(){var Ke=Jt(ye);zr(P,200,{},Ke),Cr(Ke)},ye.onerror=function(){zr(P,400,{})},ye.ontimeout=function(){zr(P,500,{})},ye.onprogress=function(){},W?ye.send(Ae.data):zt.set(function(){ye.send(Ae.data)},0)}a(Sn,"_xdrSendPost");function Wr(Ae,P,W){var ye,Ke=Ae.urlString,Dt=!1,ht=!1,be=(ye={body:Ae.data,method:se},ye[N]=!0,ye);W&&(be.keepalive=!0,Ae._sendReason===2&&(Dt=!0,kr&&(Ke+=st))),Nt&&(be.credentials="include"),Ae.headers&&(0,f.FY)(Ae.headers).length>0&&(be.headers=Ae.headers),fetch(Ke,be).then(function(Pe){var He={},et=K,gt=Pe.headers;gt&&gt.forEach(function(yt,Ht){He[Ht]=yt}),Pe.body&&Pe.text().then(function(yt){et=yt}),ht||(ht=!0,zr(P,Pe.status,He,et),Cr(et))}).catch(function(Pe){ht||(ht=!0,zr(P,0,{}))}),Dt&&!ht&&(ht=!0,zr(P,200,{})),!ht&&Ae.timeout>0&&zt.set(function(){ht||(ht=!0,zr(P,500,{}))},Ae.timeout)}a(Wr,"_fetchSendPost");function tn(Ae,P,W){var ye=Ae.urlString;function Ke(Pe,He,et){if(!Pe[et]&&He&&He.getResponseHeader){var gt=He.getResponseHeader(et);gt&&(Pe[et]=(0,f.nd)(gt))}return Pe}a(Ke,"_appendHeader");function Dt(Pe){var He={};return Pe.getAllResponseHeaders?He=Qn(Pe.getAllResponseHeaders()):(He=Ke(He,Pe,me),He=Ke(He,Pe,ie),He=Ke(He,Pe,G)),He}a(Dt,"_getAllResponseHeaders");function ht(Pe,He){zr(P,Pe.status,Dt(Pe),He)}a(ht,"xhrComplete"),W&&Ae.disableXhrSync&&(W=!1);var be=(0,C.ot)(se,ye,Nt,!0,W,Ae.timeout);(0,f.rW)(Ae.headers,function(Pe,He){be.setRequestHeader(Pe,He)}),be.onload=function(){var Pe=Jt(be);ht(be,Pe),Cr(Pe)},be.onerror=function(){ht(be)},be.ontimeout=function(){ht(be)},be.send(Ae.data)}a(tn,"_xhrSendPost");function zr(Ae,P,W,ye){try{Ae(P,W,ye)}catch(Ke){(0,_.kP)(Fr,2,518,(0,E.eU)(Ke))}}a(zr,"_doOnComplete");function Bn(Ae,P,W){var ye=Ae,Ke=200,Dt=ye._thePayload,ht=Ae.urlString+(kr?st:K);try{var be=(0,E.jW)();if(!be.sendBeacon(ht,Ae.data))if(Dt){var Pe=[];(0,f.tO)(Dt.batches,function(He){if(Pe&&He&&He.count()>0){for(var et=He.events(),gt=0;gt<et.length;gt++)if(!be.sendBeacon(ht,ur.getEventBlob(et[gt]))){Pe.push(He.split(gt));break}}else Pe.push(He.split(0))}),Mr(Pe,8003,Dt.sendType,!0)}else Ke=0}catch(He){(0,_.jV)(Fr,"Failed to send telemetry using sendBeacon API. Ex:"+(0,E.eU)(He)),Ke=0}finally{zr(P,Ke,{},K)}}a(Bn,"_beaconSendPost");function rn(Ae){return Ae===2||Ae===3}a(rn,"_isBeaconPayload");function Ur(Ae){return nr&&rn(Ae)&&(Ae=2),Ae}a(Ur,"_adjustSendType"),Yt.addQueryStringParameter=function(Ae,P){for(var W=0;W<er.length;W++)if(er[W].name===Ae){er[W].value=P;return}er.push({name:Ae,value:P})},Yt.addHeader=function(Ae,P){Er[Ae]=P},Yt.canSendRequest=function(){return Vn()&&_r.allowRequestSending()},Yt.sendQueuedRequests=function(Ae,P){(0,f.o8)(Ae)&&(Ae=0),nr&&(Ae=Ur(Ae),P=2),mn(Kt,Ae,0)&&_n(vn(),0,!1,Ae,P||0)},Yt.isCompletelyIdle=function(){return!or&&$r===0&&Kt.length===0},Yt.setUnloading=function(Ae){nr=Ae},Yt.addBatch=function(Ae){if(Ae&&Ae.count()>0){if(tr.isTenantKilled(Ae.iKey()))return!1;Kt.push(Ae)}return!0},Yt.teardown=function(){Kt.length>0&&_n(vn(),0,!0,2,2)},Yt.pause=function(){or=!0},Yt.resume=function(){or=!1,Yt.sendQueuedRequests(0,4)},Yt.sendSynchronousBatch=function(Ae,P,W){Ae&&Ae.count()>0&&((0,f.le)(P)&&(P=1),nr&&(P=Ur(P),W=2),_n([Ae],0,!1,P,W||0))};function Vn(){return!or&&$r<$t}a(Vn,"_hasIdleConnection");function vn(){var Ae=Kt;return Kt=[],Ae}a(vn,"_clearQueue");function mn(Ae,P,W){var ye=!1;return Ae&&Ae.length>0&&!or&&fr[P]&&ur&&(ye=P!==0||Vn()&&(W>0||_r.allowRequestSending())),ye}a(mn,"_canSendPayload");function xn(Ae){var P={};return Ae&&(0,f.tO)(Ae,function(W,ye){P[ye]={iKey:W.iKey(),evts:W.events()}}),P}a(xn,"_createDebugBatches");function _n(Ae,P,W,ye,Ke){if(!(!Ae||Ae.length===0)){if(or){Mr(Ae,1,ye);return}ye=Ur(ye);try{var Dt=Ae,ht=ye!==0;(0,y.Lm)(Lt,function(){return"HttpManager:_sendBatches"},function(be){be&&(Ae=Ae.slice(0));for(var Pe=[],He=null,et=(0,C.hK)(),gt=fr[ye]||(ht?fr[1]:fr[0]),yt=gt&&gt._transport,Ht=Xe&&(nr||rn(ye)||yt===3||gt._isSync&&yt===2);mn(Ae,ye,P);){var Bt=Ae.shift();Bt&&Bt.count()>0&&(tr.isTenantKilled(Bt.iKey())?Pe.push(Bt):(He=He||ur.createPayload(P,W,ht,Ht,Ke,ye),ur.appendPayload(He,Bt,Rt)?He.overflow!==null&&(Ae=[He.overflow].concat(Ae),He.overflow=null,dn(He,et,(0,C.hK)(),Ke),et=(0,C.hK)(),He=null):(dn(He,et,(0,C.hK)(),Ke),et=(0,C.hK)(),Ae=[Bt].concat(Ae),He=null)))}He&&dn(He,et,(0,C.hK)(),Ke),Ae.length>0&&(Kt=Ae.concat(Kt)),Mr(Pe,8004,ye)},function(){return{batches:xn(Dt),retryCount:P,isTeardown:W,isSynchronous:ht,sendReason:Ke,useSendBeacon:rn(ye),sendType:ye}},!ht)}catch(be){(0,_.kP)(Fr,2,48,"Unexpected Exception sending batch: "+(0,E.eU)(be))}}}a(_n,"_sendBatches");function gi(Ae,P){var W={url:Et,hdrs:{},useHdrs:!1};P?(W.hdrs=(0,C.l7)(W.hdrs,Er),W.useHdrs=(0,f.FY)(W.hdrs).length>0):(0,f.rW)(Er,function(be,Pe){kt[be]?Qt(W,kt[be],Pe,!1):(W.hdrs[be]=Pe,W.useHdrs=!0)}),Qt(W,Le,"NO_AUTH",P),Qt(W,Ue,C.vs,P);var ye=K;(0,f.tO)(Ae.apiKeys,function(be){ye.length>0&&(ye+=","),ye+=be}),Qt(W,we,ye,P),Qt(W,Y,(0,f.m6)().toString(),P);var Ke=An(Ae);if((0,C.Sn)(Ke)&&(W.url+="&ext.intweb.msfpc="+Ke),_r.shouldAddClockSkewHeaders()&&Qt(W,ue,_r.getClockSkewHeaderValue(),P),Lt.getWParam){var Dt=Lt.getWParam();Dt>=0&&(W.url+="&w="+Dt)}for(var ht=0;ht<er.length;ht++)W.url+="&"+er[ht].name+"="+er[ht].value;return W}a(gi,"_buildRequestDetails");function wn(Ae,P,W){Ae[P]=Ae[P]||{},Ae[P][xr.identifier]=W}a(wn,"_setTimingValue");function dn(Ae,P,W,ye){if(Ae&&Ae.payloadBlob&&Ae.payloadBlob.length>0){var Ke=!!Yt.sendHook,Dt=fr[Ae.sendType];!rn(Ae.sendType)&&Ae.isBeacon&&Ae.sendReason===2&&(Dt=fr[2]||fr[3]||Dt);var ht=Ar;(Ae.isBeacon||Dt._transport===3)&&(ht=!1);var be=gi(Ae,ht);ht=ht||be.useHdrs;var Pe=(0,C.hK)();(0,y.Lm)(Lt,function(){return"HttpManager:_doPayloadSend"},function(){for(var He=0;He<Ae.batches.length;He++)for(var et=Ae.batches[He],gt=et.events(),yt=0;yt<gt.length;yt++){var Ht=gt[yt];if(wr){var Bt=Ht.timings=Ht.timings||{};wn(Bt,"sendEventStart",Pe),wn(Bt,"serializationStart",P),wn(Bt,"serializationCompleted",W)}Ht[he]>0?Ht[he]++:Ht[he]=1}Mr(Ae.batches,1e3+(ye||0),Ae.sendType,!0);var qt={data:Ae.payloadBlob,urlString:be.url,headers:be.hdrs,_thePayload:Ae,_sendReason:ye,timeout:Br,disableXhrSync:Rr,disableFetchKeepAlive:Hr};ht&&(ar(qt.headers,ne)||(qt.headers[ne]=X),ar(qt.headers,le)||(qt.headers[le]=re));var Gr=null;Dt&&(Gr=a(function(jt){_r.firstRequestSent();var Jr=a(function(Zr,yn){On(Zr,yn,Ae,ye)},"onComplete"),Yr=Ae.isTeardown||Ae.isSync;try{Dt.sendPOST(jt,Jr,Yr),Yt.sendListener&&Yt.sendListener(qt,jt,Yr,Ae.isBeacon)}catch(Zr){(0,_.jV)(Fr,"Unexpected exception sending payload. Ex:"+(0,E.eU)(Zr)),zr(Jr,0,{})}},"sender")),(0,y.Lm)(Lt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Gr)if(Ae.sendType===0&&$r++,Ke&&!Ae.isBeacon&&Dt._transport!==3){var jt={data:qt.data,urlString:qt.urlString,headers:(0,C.l7)({},qt.headers),timeout:qt.timeout,disableXhrSync:qt.disableXhrSync,disableFetchKeepAlive:qt.disableFetchKeepAlive},Jr=!1;(0,y.Lm)(Lt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Yt.sendHook(jt,function(Yr){Jr=!0,!rr&&!Yr._thePayload&&(Yr._thePayload=Yr._thePayload||qt._thePayload,Yr._sendReason=Yr._sendReason||qt._sendReason),Gr(Yr)},Ae.isSync||Ae.isTeardown)}catch(Yr){Jr||Gr(qt)}})}else Gr(qt)})},function(){return{thePayload:Ae,serializationStart:P,serializationCompleted:W,sendReason:ye}},Ae.isSync)}Ae.sizeExceed&&Ae.sizeExceed.length>0&&Mr(Ae.sizeExceed,8003,Ae.sendType),Ae.failedEvts&&Ae.failedEvts.length>0&&Mr(Ae.failedEvts,8002,Ae.sendType)}a(dn,"_doPayloadSend");function Fn(Ae,P){wr&&(0,f.tO)(Ae,function(W){var ye=W.timings=W.timings||{};wn(ye,"sendEventCompleted",P)})}a(Fn,"_addEventCompletedTimings");function On(Ae,P,W,ye){var Ke=9e3,Dt=null,ht=!1,be=!1;try{var Pe=!0;if(typeof Ae!==xe.jA){if(P){_r.setClockSkew(P[me]);var He=P[ie]||P["kill-duration-seconds"];(0,f.tO)(tr.setKillSwitchTenants(P[Ce],He),function(gt){(0,f.tO)(W.batches,function(yt){if(yt.iKey()===gt){Dt=Dt||[];var Ht=yt.split(0);W.numEvents-=Ht.count(),Dt.push(Ht)}})})}if(Ae==200||Ae==204){Ke=200;return}(!U(Ae)||W.numEvents<=0)&&(Pe=!1),Ke=9e3+Ae%1e3}if(Pe){Ke=100;var et=W.retryCnt;W.sendType===0&&(et<_t?(ht=!0,Cn(function(){W.sendType===0&&$r--,_n(W.batches,et+1,W.isTeardown,nr?2:W.sendType,5)},nr,J(et))):(be=!0,nr&&(Ke=8001)))}}finally{ht||(_r.setClockSkew(),ni(W,Ke,ye,be)),Mr(Dt,8004,W.sendType)}}a(On,"_retryRequestIfNeeded");function ni(Ae,P,W,ye){try{ye&&xr._backOffTransmission(),P===200&&(!ye&&!Ae.isSync&&xr._clearBackOff(),Zn(Ae.batches)),Mr(Ae.batches,P,Ae.sendType,!0)}finally{Ae.sendType===0&&($r--,W!==5&&Yt.sendQueuedRequests(Ae.sendType,W))}}a(ni,"_handleRequestFinished");function Zn(Ae){if(wr){var P=(0,C.hK)();(0,f.tO)(Ae,function(W){W&&W.count()>0&&Fn(W.events(),P)})}}a(Zn,"_addCompleteTimings");function Cn(Ae,P,W){P?Ae():zt.set(Ae,W)}a(Cn,"_doAction");function Qn(Ae){var P={};if((0,f.HD)(Ae)){var W=(0,f.nd)(Ae).split(/[\r\n]+/);(0,f.tO)(W,function(ye){if(ye){var Ke=ye.indexOf(": ");if(Ke!==-1){var Dt=(0,f.nd)(ye.substring(0,Ke)).toLowerCase(),ht=(0,f.nd)(ye.substring(Ke+1));P[Dt]=ht}else P[(0,f.nd)(ye)]=1}})}return P}a(Qn,"_convertAllHeadersToMap");function An(Ae){for(var P=0;P<Ae.batches.length;P++){var W=Ae.batches[P].Msfpc();if(W)return encodeURIComponent(W)}return K}a(An,"_getMsfpc");function Cr(Ae){var P=Yt._responseHandlers;try{for(var W=0;W<P.length;W++)try{P[W](Ae)}catch(Ke){(0,_.kP)(Fr,1,519,"Response handler failed: "+Ke)}if(Ae){var ye=JSON.parse(Ae);(0,C.Sn)(ye.webResult)&&(0,C.Sn)(ye.webResult[qe])&&Dr.set("MSFPC",ye.webResult[qe],365*86400)}}catch(Ke){}}a(Cr,"_handleCollectorResponse");function Mr(Ae,P,W,ye){if(Ae&&Ae.length>0&&Xt){var Ke=Xt[Tr(P)];if(Ke){var Dt=W!==0;(0,y.Lm)(Lt,function(){return"HttpManager:_sendBatchesNotification"},function(){Cn(function(){try{Ke.call(Xt,Ae,P,Dt,W)}catch(ht){(0,_.kP)(Fr,1,74,"send request notification failed: "+ht)}},ye||Dt,0)},function(){return{batches:xn(Ae),reason:P,isSync:Dt,sendSync:ye,sendType:W}},!Dt)}}}a(Mr,"_sendBatchesNotification");function Tr(Ae){var P=Ot[Ae];return(0,C.Sn)(P)||(P=j,Ae>=9e3&&Ae<=9999?P=L:Ae>=8e3&&Ae<=8999?P=z:Ae>=1e3&&Ae<=1999&&(P=$)),P}a(Tr,"_getNotificationAction")})}return a(Tt,"HttpManager"),Tt.__ieDyn=1,Tt}();function Ir(Tt,Rt){for(var $t=[],_t=2;_t<arguments.length;_t++)$t[_t-2]=arguments[_t];return setTimeout(Tt,Rt,$t)}a(Ir,"defaultSetTimeout");function bn(Tt){clearTimeout(Tt)}a(bn,"defaultClearTimeout");function Xr(Tt,Rt){return{set:Tt||Ir,clear:Rt||bn}}a(Xr,"createTimeoutWrapper");var Or=.25,Ln=500,pn=20,qn=6,In=2,Tn=4,Mn=2,ce=1,Je="eventsDiscarded",pt="overrideInstrumentationKey",Ct="maxEventRetryAttempts",Wt="maxUnloadEventRetryAttempts",Ut="addUnloadCb",Pr=function(Tt){(0,v.ne)(Rt,Tt);function Rt(){var $t=Tt.call(this)||this;$t.identifier="PostChannel",$t.priority=1011,$t.version="3.2.8";var _t,Xt=!1,zt=[],Et=null,tr=!1,or=0,_r=500,gr=0,$r=1e4,xr={},Fr=B,fr=null,Lt=null,rr=0,er=0,Er,Kt,ur={},wr,Dr,nr=-1,Ar,Br=!0,Rr=!1,Hr=qn,Xe=In,kr,Yt;return(0,p.Z)(Rt,$t,function(Nt,Lr){Vn(),Nt._getDbgPlgTargets=function(){return[Kt]},Nt.initialize=function(be,Pe,He){(0,y.Lm)(Pe,function(){return"PostChannel:initialize"},function(){var et=Pe;Lr.initialize(be,Pe,He);try{var gt=!!Pe[Ut];kr=(0,w.jU)((0,O.J)(Nt.identifier),Pe.evtNamespace&&Pe.evtNamespace());var yt=Nt._getTelCtx();be.extensionConfig[Nt.identifier]=be.extensionConfig[Nt.identifier]||{},_t=yt.getExtCfg(Nt.identifier),Yt=Xr(_t.setTimeoutOverride,_t.clearTimeoutOverride),Br=!_t.disableOptimizeObj&&(0,C.mJ)(),Sn(et),_t.eventsLimitInMem>0&&($r=_t.eventsLimitInMem),_t.immediateEventLimit>0&&(_r=_t.immediateEventLimit),_t.autoFlushEventsLimit>0&&(wr=_t.autoFlushEventsLimit),(0,f.hj)(_t[Ct])&&(Hr=_t[Ct]),(0,f.hj)(_t[Wt])&&(Xe=_t[Wt]),ht(),_t.httpXHROverride&&_t.httpXHROverride.sendPOST&&(Er=_t.httpXHROverride),(0,C.Sn)(be.anonCookieName)&&Kt.addQueryStringParameter("anoncknm",be.anonCookieName),Kt.sendHook=_t.payloadPreprocessor,Kt.sendListener=_t.payloadListener;var Ht=_t.overrideEndpointUrl?_t.overrideEndpointUrl:be.endpointUrl;Nt._notificationManager=Pe.getNotifyMgr(),Kt.initialize(Ht,Nt.core,Nt,Er,_t);var Bt=be.disablePageUnloadEvents||[];(0,w.c9)(Wr,Bt,kr),(0,w.TJ)(Wr,Bt,kr),(0,w.nD)(tn,be.disablePageShowEvents,kr)}catch(qt){throw Nt.setInitialized(!1),qt}},function(){return{coreConfig:be,core:Pe,extensions:He}})},Nt.processTelemetry=function(be,Pe){(0,C.if)(be,Nt.identifier),Pe=Nt._getTelCtx(Pe);var He=Pe.getExtCfg(Nt.identifier),et=!!_t.disableTelemetry;He&&(et=et||!!He.disableTelemetry);var gt=be;!et&&!Xt&&(_t[pt]&&(gt.iKey=_t[pt]),He&&He[pt]&&(gt.iKey=He[pt]),zr(gt,!0),Rr?xn(2,2):Ur()),Nt.processNext(gt,Pe)},Nt._doTeardown=function(be,Pe){xn(2,2),Xt=!0,Kt.teardown(),(0,w.JA)(null,kr),(0,w.C9)(null,kr),(0,w.Yl)(null,kr),Vn()};function Sn(be){var Pe=be.getWParam;be.getWParam=function(){var He=0;return _t.ignoreMc1Ms0CookieProcessing&&(He=He|2),He|Pe()}}a(Sn,"_hookWParam");function Wr(be){var Pe=be||(0,E.Jj)().event;Pe.type!=="beforeunload"&&(Rr=!0,Kt.setUnloading(Rr)),xn(2,2)}a(Wr,"_handleUnloadEvents");function tn(be){Rr=!1,Kt.setUnloading(Rr)}a(tn,"_handleShowEvents");function zr(be,Pe){if(be.sendAttempt||(be.sendAttempt=0),be.latency||(be.latency=1),be.ext&&be.ext[Ze]&&delete be.ext[Ze],be.ext&&be.ext[Z]&&be.ext[Z].id&&delete be.ext[Z].id,Br&&(C.if,be.ext=(0,f.Ax)(be.ext),be.baseData&&(be.baseData=(0,f.Ax)(be.baseData)),be.data&&(be.data=(0,f.Ax)(be.data))),be.sync){if(rr||tr)be.latency=3,be.sync=!1;else if(Kt){Br&&(be=(0,f.Ax)(be)),Kt.sendSynchronousBatch(_e.create(be.iKey,[be]),be.sync===!0?1:be.sync,3);return}}var He=be.latency,et=gr,gt=$r;He===4&&(et=or,gt=_r);var yt=!1;if(et<gt)yt=!dn(be,Pe);else{var Ht=1,Bt=pn;He===4&&(Ht=4,Bt=1),yt=!0,Fn(be.iKey,be.latency,Ht,Bt)&&(yt=!dn(be,Pe))}yt&&Tr(Je,[be],S.h.QueueFull)}a(zr,"_addEventToQueues"),Nt.setEventQueueLimits=function(be,Pe){$r=be>0?be:1e4,wr=Pe>0?Pe:0,ht();var He=gr>be;if(!He&&Dr>0)for(var et=1;!He&&et<=3;et++){var gt=ur[et];gt&&gt.batches&&(0,f.tO)(gt.batches,function(yt){yt&&yt.count()>=Dr&&(He=!0)})}wn(!0,He)},Nt.pause=function(){mn(),tr=!0,Kt.pause()},Nt.resume=function(){tr=!1,Kt.resume(),Ur()},Nt.addResponseHandler=function(be){Kt._responseHandlers.push(be)},Nt._loadTransmitProfiles=function(be){Qn(),(0,f.rW)(be,function(Pe,He){var et=He.length;if(et>=2){var gt=et>2?He[2]:0;if(He.splice(0,et-2),He[1]<0&&(He[0]=-1),He[1]>0&&He[0]>0){var yt=He[0]/He[1];He[0]=Math.ceil(yt)*He[1]}gt>=0&&He[1]>=0&&gt>He[1]&&(gt=He[1]),He.push(gt),xr[Pe]=He}})},Nt.flush=function(be,Pe,He){if(be===void 0&&(be=!0),!tr)if(He=He||1,be)Et==null?(mn(),ni(1,0,He),Et=vn(function(){Et=null,Zn(Pe,He)},0)):zt.push(Pe);else{var et=mn();Bn(1,1,He),Pe!=null&&Pe(),et&&Ur()}},Nt.setMsaAuthTicket=function(be){Kt.addHeader(Oe,be)},Nt.hasEvents=rn,Nt._setTransmitProfile=function(be){Fr!==be&&xr[be]!==void 0&&(mn(),Fr=be,Ur())};function Bn(be,Pe,He){var et=ni(be,Pe,He);return Kt.sendQueuedRequests(Pe,He),et}a(Bn,"_sendEventsForLatencyAndAbove");function rn(){return gr>0}a(rn,"_hasEvents");function Ur(){if(nr>=0&&ni(nr,0,Ar)&&Kt.sendQueuedRequests(0,Ar),or>0&&!Lt&&!tr){var be=xr[Fr][2];be>=0&&(Lt=vn(function(){Lt=null,Bn(4,0,1),Ur()},be))}var Pe=xr[Fr][1];!fr&&!Et&&Pe>=0&&!tr&&(rn()?fr=vn(function(){fr=null,Bn(er===0?3:1,0,1),er++,er%=2,Ur()},Pe):er=0)}a(Ur,"_scheduleTimer"),Nt._backOffTransmission=function(){rr<Tn&&(rr++,mn(),Ur())},Nt._clearBackOff=function(){rr&&(rr=0,mn(),Ur())};function Vn(){_t=null,Xt=!1,zt=[],Et=null,tr=!1,or=0,_r=500,gr=0,$r=1e4,xr={},Fr=B,fr=null,Lt=null,rr=0,er=0,Er=null,ur={},wr=void 0,Dr=0,nr=-1,Ar=null,Br=!0,Rr=!1,Hr=qn,Xe=In,kr=null,Yt=Xr(),Kt=new yr(Ln,Mn,ce,{requeue:Cr,send:P,sent:W,drop:ye,rspFail:Ke,oth:Dt},Yt),An(),_n(),ht()}a(Vn,"_initDefaults");function vn(be,Pe){Pe===0&&rr&&(Pe=1);var He=1e3;return rr&&(He=J(rr-1)),Yt.set(be,Pe*He)}a(vn,"_createTimer");function mn(){return fr!==null?(Yt.clear(fr),fr=null,er=0,!0):!1}a(mn,"_clearScheduledTimer");function xn(be,Pe){mn(),Et&&(Yt.clear(Et),Et=null),tr||Bn(1,be,Pe)}a(xn,"_releaseAllQueues");function _n(){ur[4]={batches:[],iKeyMap:{}},ur[3]={batches:[],iKeyMap:{}},ur[2]={batches:[],iKeyMap:{}},ur[1]={batches:[],iKeyMap:{}}}a(_n,"_clearQueues");function gi(be,Pe,He){var et=ur[Pe];et||(Pe=1,et=ur[Pe]);var gt=et.iKeyMap[be];return!gt&&He&&(gt=_e.create(be),et.batches.push(gt),et.iKeyMap[be]=gt),gt}a(gi,"_getEventBatch");function wn(be,Pe){Kt.canSendRequest()&&!rr&&(wr>0&&gr>wr&&(Pe=!0),Pe&&Et==null&&Nt.flush(be,null,20))}a(wn,"_performAutoFlush");function dn(be,Pe){Br&&(be=(0,f.Ax)(be));var He=be.latency,et=gi(be.iKey,He,!0);return et.addEvent(be)?(He!==4?(gr++,Pe&&be.sendAttempt===0&&wn(!be.sync,Dr>0&&et.count()>=Dr)):or++,!0):!1}a(dn,"_addEventToProperQueue");function Fn(be,Pe,He,et){for(;He<=Pe;){var gt=gi(be,Pe,!0);if(gt&&gt.count()>0){var yt=gt.split(0,et),Ht=yt.count();if(Ht>0)return He===4?or-=Ht:gr-=Ht,Ae(Je,[yt],S.h.QueueFull),!0}He++}return On(),!1}a(Fn,"_dropEventWithLatencyOrLess");function On(){for(var be=0,Pe=0,He=a(function(gt){var yt=ur[gt];yt&&yt.batches&&(0,f.tO)(yt.batches,function(Ht){gt===4?be+=Ht.count():Pe+=Ht.count()})},"_loop_1"),et=1;et<=4;et++)He(et);gr=Pe,or=be}a(On,"_resetQueueCounts");function ni(be,Pe,He){var et=!1,gt=Pe===0;return!gt||Kt.canSendRequest()?(0,y.Lm)(Nt.core,function(){return"PostChannel._queueBatches"},function(){for(var yt=[],Ht=4;Ht>=be;){var Bt=ur[Ht];Bt&&Bt.batches&&Bt.batches.length>0&&((0,f.tO)(Bt.batches,function(qt){Kt.addBatch(qt)?et=et||qt&&qt.count()>0:yt=yt.concat(qt.events()),Ht===4?or-=qt.count():gr-=qt.count()}),Bt.batches=[],Bt.iKeyMap={}),Ht--}yt.length>0&&Tr(Je,yt,S.h.KillSwitch),et&&nr>=be&&(nr=-1,Ar=0)},function(){return{latency:be,sendType:Pe,sendReason:He}},!gt):(nr=nr>=0?Math.min(nr,be):be,Ar=Math.max(Ar,He)),et}a(ni,"_queueBatches");function Zn(be,Pe){Bn(1,0,Pe),On(),Cn(function(){be&&be(),zt.length>0?Et=vn(function(){Et=null,Zn(zt.shift(),Pe)},0):(Et=null,Ur())})}a(Zn,"_flushImpl");function Cn(be){Kt.isCompletelyIdle()?be():Et=vn(function(){Et=null,Cn(be)},Or)}a(Cn,"_waitForIdleManager");function Qn(){mn(),An(),Fr=B,Ur()}a(Qn,"_resetTransmitProfiles");function An(){xr={},xr[B]=[2,1,0],xr[I]=[6,3,0],xr[q]=[18,9,0]}a(An,"_initializeProfiles");function Cr(be,Pe){var He=[],et=Hr;Rr&&(et=Xe),(0,f.tO)(be,function(gt){gt&&gt.count()>0&&(0,f.tO)(gt.events(),function(yt){yt&&(yt.sync&&(yt.latency=4,yt.sync=!1),yt.sendAttempt<et?((0,C.if)(yt,Nt.identifier),zr(yt,!1)):He.push(yt))})}),He.length>0&&Tr(Je,He,S.h.NonRetryableStatus),Rr&&xn(2,2)}a(Cr,"_requeueEvents");function Mr(be,Pe){var He=Nt._notificationManager||{},et=He[be];if(et)try{et.apply(He,Pe)}catch(gt){(0,_.kP)(Nt.diagLog(),1,74,be+" notification failed: "+gt)}}a(Mr,"_callNotification");function Tr(be,Pe){for(var He=[],et=2;et<arguments.length;et++)He[et-2]=arguments[et];Pe&&Pe.length>0&&Mr(be,[Pe].concat(He))}a(Tr,"_notifyEvents");function Ae(be,Pe){for(var He=[],et=2;et<arguments.length;et++)He[et-2]=arguments[et];Pe&&Pe.length>0&&(0,f.tO)(Pe,function(gt){gt&&gt.count()>0&&Mr(be,[gt.events()].concat(He))})}a(Ae,"_notifyBatchEvents");function P(be,Pe,He){be&&be.length>0&&Mr("eventsSendRequest",[Pe>=1e3&&Pe<=1999?Pe-1e3:0,He!==!0])}a(P,"_sendingEvent");function W(be,Pe){Ae("eventsSent",be,Pe),Ur()}a(W,"_eventsSentEvent");function ye(be,Pe){Ae(Je,be,Pe>=8e3&&Pe<=8999?Pe-8e3:S.h.Unknown)}a(ye,"_eventsDropped");function Ke(be){Ae(Je,be,S.h.NonRetryableStatus),Ur()}a(Ke,"_eventsResponseFail");function Dt(be,Pe){Ae(Je,be,S.h.Unknown),Ur()}a(Dt,"_otherEvent");function ht(){!_t||!_t.disableAutoBatchFlushLimit?Dr=Math.max(Ln*(Mn+1),$r/6):Dr=0}a(ht,"_setAutoLimits"),(0,f.l_)(Nt,"_setTimeoutOverride",function(){return Yt.set},function(be){Yt=Xr(be,Yt.clear)}),(0,f.l_)(Nt,"_clearTimeoutOverride",function(){return Yt.clear},function(be){Yt=Xr(Yt.set,be)})}),$t}return a(Rt,"PostChannel"),Rt.__ieDyn=1,Rt}(x.i);const Nr=Pr},4873:(fe,c,b)=>{"use strict";b.d(c,{By:()=>p,cc:()=>w});var v=b(6708);function p(O){var C={};return(0,v.rW)(O,function(f,E){C[f]=E,C[E]=f}),(0,v._A)(C)}a(p,"createEnumStyle");function y(O){var C={};return objForEachKey(O,function(f,E){C[f]=f,C[E]=f}),deepFreeze(C)}a(y,"createEnumMap");function w(O){var C={};return(0,v.rW)(O,function(f,E){C[f]=E[1],C[E[0]]=E[1]}),(0,v._A)(C)}a(w,"createValueMap")},5928:(fe,c,b)=>{"use strict";b.d(c,{h:()=>p});var v=b(4873),p=(0,v.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(fe,c,b)=>{"use strict";b.d(c,{X:()=>z,v:()=>$});var v=b(4873),p,y="Failed",w=y+"MonitorAjax",O="Track",C="Start",f="Stop",E="Event",S="AuthContext",_="Exception",x="Local",B="Session",I="Storage",q="Browser",K="Cannot",se="Buffer",N="InstrumentationKey",z=(0,v.By)({CRITICAL:1,WARNING:2}),$=(0,v.By)((p={},p[q+"DoesNotSupport"+x+I]=0,p[q+K+"Read"+x+I]=1,p[q+K+"Read"+B+I]=2,p[q+K+"Write"+x+I]=3,p[q+K+"Write"+B+I]=4,p[q+y+"RemovalFrom"+x+I]=5,p[q+y+"RemovalFrom"+B+I]=6,p[K+"SendEmptyTelemetry"]=7,p.ClientPerformanceMathError=8,p["ErrorParsingAI"+B+"Cookie"]=9,p.ErrorPVCalc=10,p[_+"WhileLoggingError"]=11,p[y+"AddingTelemetryTo"+se]=12,p[w+"Abort"]=13,p[w+"Dur"]=14,p[w+"Open"]=15,p[w+"RSC"]=16,p[w+"Send"]=17,p[w+"GetCorrelationHeader"]=18,p[y+"ToAddHandlerForOnBeforeUnload"]=19,p[y+"ToSendQueuedTelemetry"]=20,p[y+"ToReportDataLoss"]=21,p["Flush"+y]=22,p.MessageLimitPerPVExceeded=23,p.MissingRequiredFieldSpecification=24,p.NavigationTimingNotSupported=25,p.OnError=26,p[B+"RenewalDateIsZero"]=27,p.SenderNotInitialized=28,p[C+O+E+y]=29,p[f+O+E+y]=30,p[C+O+y]=31,p[f+O+y]=32,p.TelemetrySampledAndNotSent=33,p[O+E+y]=34,p[O+_+y]=35,p[O+"Metric"+y]=36,p[O+"PV"+y]=37,p[O+"PV"+y+"Calc"]=38,p[O+"Trace"+y]=39,p["Transmission"+y]=40,p[y+"ToSet"+I+se]=41,p[y+"ToRestore"+I+se]=42,p.InvalidBackendResponse=43,p[y+"ToFixDepricatedValues"]=44,p.InvalidDurationValue=45,p.TelemetryEnvelopeInvalid=46,p.CreateEnvelopeError=47,p[K+"SerializeObject"]=48,p[K+"SerializeObjectNonSerializable"]=49,p.CircularReferenceDetected=50,p["Clear"+S+y]=51,p[_+"Truncated"]=52,p.IllegalCharsInName=53,p.ItemNotInArray=54,p.MaxAjaxPerPVExceeded=55,p.MessageTruncated=56,p.NameTooLong=57,p.SampleRateOutOfRange=58,p["Set"+S+y]=59,p["Set"+S+y+"AccountName"]=60,p.StringValueTooLong=61,p.StartCalledMoreThanOnce=62,p.StopCalledWithoutStart=63,p["TelemetryInitializer"+y]=64,p.TrackArgumentsNotSpecified=65,p.UrlTooLong=66,p[B+I+se+"Full"]=67,p[K+"AccessCookie"]=68,p.IdTooLong=69,p.InvalidEvent=70,p[w+"SetRequestHeader"]=71,p["Send"+q+"InfoOnUserInit"]=72,p["Plugin"+_]=73,p["Notification"+_]=74,p.SnippetScriptLoadFailure=99,p["Invalid"+N]=100,p[K+"ParseAiBlobValue"]=101,p.InvalidContentBlob=102,p[O+"PageAction"+E+y]=103,p[y+"AddingCustomDefinedRequestContext"]=104,p["InMemory"+I+se+"Full"]=105,p[N+"Deprecation"]=106,p))},5121:(fe,c,b)=>{"use strict";b.d(c,{F:()=>_});var v=b(1088),p=b(1679),y=b(8096),w=b(6900),O=b(5018),C=b(6708),f=b(6041),E=b(1880),S=b(9288),_=function(x){(0,v.ne)(B,x);function B(){var I=x.call(this)||this;return(0,p.Z)(B,I,function(q,K){q[y.VL]=function(z,$,R,L){K[y.VL](z,$,R||new O.AQ(z),L||new E.f(z))},q.track=function(z){(0,S.Lm)(q[f.kl](),function(){return"AppInsightsCore:track"},function(){z===null&&(N(z),(0,C._y)("Invalid telemetry item")),se(z),K.track(z)},function(){return{item:z}},!z.sync)};function se(z){(0,C.le)(z[y.I])&&(N(z),(0,C._y)("telemetry name required"))}a(se,"_validateTelemetryItem");function N(z){var $=q[y.tb]();$&&$[f.$F]([z],2)}a(N,"_notifyInvalidEvent")}),I}return a(B,"AppInsightsCore"),B.__ieDyn=1,B}(w.A)},6900:(fe,c,b)=>{"use strict";b.d(c,{A:()=>Le});var v=b(1088),p=b(1679),y=b(2091),w=b(8096),O=b(6708),C=b(6041),f=b(1589),E=b(3833),S=500,_="Channel has invalid priority - ";function x(ue,Y,we){Y&&(0,O.kJ)(Y)&&Y[w.R5]>0&&(Y=Y.sort(function(Oe,De){return Oe[C.yi]-De[C.yi]}),(0,O.tO)(Y,function(Oe){Oe[C.yi]<S&&(0,O._y)(_+Oe[w.pZ])}),ue[w.MW]({queue:(0,O.FL)(Y),chain:(0,f.jV)(Y,we[w.TC],we)}))}a(x,"_addChannelQueue");function B(ue,Y){function we(){return(0,f.CD)(null,Y[w.TC],Y,null)}a(we,"_getTelCtx");function Oe(Z,te,ae,_e){var Ge=Z?Z[w.R5]+1:1;function lt(){Ge--,Ge===0&&(_e&&_e(),_e=null)}a(lt,"_runChainOnComplete"),Ge>0&&(0,O.tO)(Z,function(Se){if(Se&&Se.queue[w.R5]>0){var Re=Se.chain,Te=te[w.zV](Re);Te[w.Fc](lt),ae(Te)}else Ge--}),lt()}a(Oe,"_processChannelQueue");function De(Z,te){var ae=te||{reason:0};return Oe(ue,Z,function(_e){_e[w.uL](ae)},function(){Z[w.uL](ae)}),!0}a(De,"_doUpdate");function ee(Z,te){var ae=te||{reason:0,isAsync:!1};return Oe(ue,Z,function(_e){_e[w.uL](ae)},function(){Z[w.uL](ae),qe=!1}),!0}a(ee,"_doTeardown");function ct(Z){var te=null;return ue&&ue[w.R5]>0&&(0,O.tO)(ue,function(ae){if(ae&&ae.queue[w.R5]>0&&((0,O.tO)(ae.queue,function(_e){if(_e[w.pZ]===Z)return te=_e,-1}),te))return-1}),te}a(ct,"_getChannel");var qe=!1,Ze={identifier:"ChannelControllerPlugin",priority:S,initialize:function(Z,te,ae,_e){qe=!0,(0,O.tO)(ue,function(Ge){Ge&&Ge.queue[w.R5]>0&&(0,E.bP)((0,f.CD)(Ge.chain,Z,te),ae)})},isInitialized:function(){return qe},processTelemetry:function(Z,te){Oe(ue,te||we(),function(ae){ae[w.uL](Z)},function(){te[w.uL](Z)})},update:De,pause:function(){Oe(ue,we(),function(Z){Z.iterate(function(te){te.pause&&te.pause()})},null)},resume:function(){Oe(ue,we(),function(Z){Z.iterate(function(te){te.resume&&te.resume()})},null)},teardown:ee,getChannel:ct,flush:function(Z,te,ae,_e){var Ge=1,lt=!1,Se=null;_e=_e||5e3;function Re(){Ge--,lt&&Ge===0&&(Se&&(clearTimeout(Se),Se=null),te&&te(lt),te=null)}return a(Re,"doCallback"),Oe(ue,we(),function(Te){Te.iterate(function(xe){if(xe[w.kL]){Ge++;var ke=!1;xe[w.kL](Z,function(){ke=!0,Re()},ae)||ke||(Z&&Se==null?Se=setTimeout(function(){Se=null,Re()},_e):Re())}})},function(){lt=!0,Re()}),!0},_setQueue:function(Z){ue=Z}};return Ze}a(B,"createChannelControllerPlugin");function I(ue,Y,we){var Oe=[];if(ue&&(0,O.tO)(ue,function(ee){return x(Oe,ee,we)}),Y){var De=[];(0,O.tO)(Y,function(ee){ee[C.yi]>S&&De[w.MW](ee)}),x(Oe,De,we)}return Oe}a(I,"createChannelQueues");var q=b(3242),K=b(5883),se=b(7158),N=b(5018),z=b(9288),$=b(4063),R=b(7630),L=function(ue){(0,v.ne)(Y,ue);function Y(){var we=ue.call(this)||this;we.identifier="TelemetryInitializerPlugin",we.priority=199;var Oe,De;ee(),(0,p.Z)(Y,we,function(ct,qe){ct.addTelemetryInitializer=function(Ze){var Z={id:Oe++,fn:Ze};De[w.MW](Z);var te={remove:function(){(0,O.tO)(De,function(ae,_e){if(ae.id===Z.id)return De[w.cb](_e,1),-1})}};return te},ct[C.hL]=function(Ze,Z){for(var te=!1,ae=De[w.R5],_e=0;_e<ae;++_e){var Ge=De[_e];if(Ge)try{if(Ge.fn[w.ZV](null,[Ze])===!1){te=!0;break}}catch(lt){(0,N.kP)(Z[w.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,O.jj)(lt),{exception:(0,R.eU)(lt)},!0)}}te||ct[w.uL](Ze,Z)},ct[w.F3]=function(){ee()}});function ee(){Oe=0,De=[]}return a(ee,"_initDefaults"),we}return a(Y,"TelemetryInitializerPlugin"),Y.__ieDyn=1,Y}($.i),j=b(310),X="Plugins must provide initialize method",re="_notificationManager",ne="SDK is still unloading...",le="SDK is not initialized",Ce={loggingLevelConsole:1};function ie(ue,Y){return new z.Jk(Y)}a(ie,"_createPerfManager");function G(ue,Y,we){var Oe,De=[],ee={};return(0,O.tO)(we,function(ct){((0,O.le)(ct)||(0,O.le)(ct[w.VL]))&&(0,O._y)(X);var qe=ct[C.yi],Ze=ct[w.pZ];ct&&qe&&((0,O.le)(ee[qe])?ee[qe]=Ze:(0,N.jV)(ue,"Two extensions have same priority #"+qe+" - "+ee[qe]+", "+Ze)),(!qe||qe<Y)&&De[w.MW](ct)}),Oe={all:we},Oe[C.oV]=De,Oe}a(G,"_validateExtensions");function me(ue,Y){var we=!1;return(0,O.tO)(Y,function(Oe){if(Oe===ue)return we=!0,-1}),we}a(me,"_isPluginPresent");function Ue(){var ue;return(0,y.pu)((ue={},ue[w.g]=function(Y){},ue[w.n7]=function(Y){},ue[C.uC]=function(Y){},ue[C.$F]=function(Y,we){},ue[C.f_]=function(Y,we){},ue))}a(Ue,"_createDummyNotificationManager");var Le=function(){function ue(){var Y,we,Oe,De,ee,ct,qe,Ze,Z,te,ae,_e,Ge,lt,Se,Re,Te,xe,ke,ve,ft=0;(0,p.Z)(ue,this,function(We){U(),We[w.yl]=function(){return we},We[w.VL]=function(he,st,Ot,vt){lt&&(0,O._y)(ne),We[w.yl]()&&(0,O._y)("Core should not be initialized more than once"),Y=he||{},We[w.TC]=Y,(0,O.le)(he[w.p$])&&(0,O._y)("Please provide instrumentation key"),De=vt,We[re]=vt,h(),m(),Q(),Ot&&(We[w.eZ]=Ot);var kt=(0,O.qK)(Y,C.js,[]);Z=[],Z[w.MW].apply(Z,(0,v.$h)((0,v.$h)([],st,!1),kt,!1)),_e=(0,O.qK)(Y,C.Z,[]),ge(null),(!Ge||Ge[w.R5]===0)&&(0,O._y)("No "+C.Z+" available"),we=!0,We.releaseQueue()},We.getTransmissionControls=function(){var he=[];return Ge&&(0,O.tO)(Ge,function(st){he[w.MW](st.queue)}),(0,O.FL)(he)},We.track=function(he){he.iKey=he.iKey||Y[w.p$],he[w.Z_]=he[w.Z_]||(0,O.Y6)(new Date),he.ver=he.ver||"4.0",!lt&&We[w.yl]()?J()[w.uL](he):Oe[w.MW](he)},We[w.SD]=J,We[w.tb]=function(){return De||(De=Ue(),We[re]=De),De},We[w.g]=function(he){De&&De[w.g](he)},We[w.n7]=function(he){De&&De[w.n7](he)},We.getCookieMgr=function(){return qe||(qe=(0,q.Nz)(Y,We[w.eZ])),qe},We.setCookieMgr=function(he){qe=he},We[C.kl]=function(){if(!ee&&!ct&&(0,O.v4)(Y.enablePerfMgr)){var he=(0,O.v4)(Y[C.DN]);(0,O.mf)(he)&&(ct=he(We,We[w.tb]()))}return ee||ct||(0,z.j5)()},We.setPerfMgr=function(he){ee=he},We.eventCnt=function(){return Oe[w.R5]},We.releaseQueue=function(){if(we&&Oe[w.R5]>0){var he=Oe;Oe=[],(0,O.tO)(he,function(st){J()[w.uL](st)})}},We.pollInternalLogs=function(he){Re=he||null;var st=(0,O.v4)(Y.diagnosticLogInterval);return(!st||!(st>0))&&(st=1e4),ft&&clearInterval(ft),ft=setInterval(function(){ot()},st),ft},We[w.LS]=function(){ft&&(clearInterval(ft),ft=0,ot())},(0,O.Vb)(We,function(){return Se},["addTelemetryInitializer"]),We.unload=function(he,st,Ot){var vt;he===void 0&&(he=!0),we||(0,O._y)(le),lt&&(0,O._y)(ne);var kt=(vt={reason:50},vt[w.d]=he,vt.flushComplete=!1,vt),nt=(0,f.Bt)(ut(),We);nt[w.Fc](function(){U(),st&&st(kt)},We);function Jt(ar){kt.flushComplete=ar,lt=!0,xe.run(nt,kt),We[w.LS](),nt[w.uL](kt)}a(Jt,"_doUnload"),D(he,Jt,6,Ot)||Jt(!1)},We[w.TO]=Qe,We.addPlugin=function(he,st,Ot,vt){if(!he){vt&&vt(!1),Ne(X);return}var kt=Qe(he[w.pZ]);if(kt&&!st){vt&&vt(!1),Ne("Plugin ["+he[w.pZ]+"] is already loaded!");return}var nt={reason:16};function Jt(Gt){Z[w.MW](he),nt.added=[he],ge(nt),vt&&vt(!0)}if(a(Jt,"_addPlugin"),kt){var ar=[kt.plugin],Qt={reason:2,isAsync:!!Ot};wt(ar,Qt,function(Gt){Gt?(nt.removed=ar,nt.reason|=32,Jt(!0)):vt&&vt(!1)})}else Jt(!1)},We.evtNamespace=function(){return Te},We[w.kL]=D,We.getTraceCtx=function(he){return ve||(ve=(0,E.Yn)()),ve},We.setTraceCtx=function(he){ve=he||null},(0,O.Oi)(We,"addUnloadCb",function(){return xe},"add");function U(){we=!1,Y=(0,O.mm)(!0,{},Ce),We[w.TC]=Y,We[w.eZ]=new N.AQ(Y),We[w.iC]=[],Se=new L,Oe=[],De=null,ee=null,ct=null,qe=null,Ze=null,te=null,Z=[],ae=null,_e=null,Ge=null,lt=!1,Re=null,Te=(0,K.J)("AIBaseCore",!0),xe=(0,j.Y)(),ve=null}a(U,"_initDefaults");function J(){return(0,f.CD)(ut(),Y,We)}a(J,"_createTelCtx");function ge(he){var st=G(We[w.eZ],S,Z);te=st[C.oV],Ze=null;var Ot=st.all;if(Ge=(0,O.FL)(I(_e,Ot,We)),ae){var vt=(0,O.UA)(Ot,ae);vt!==-1&&Ot[w.cb](vt,1),vt=(0,O.UA)(te,ae),vt!==-1&&te[w.cb](vt,1),ae._setQueue(Ge)}else ae=B(Ge,We);Ot[w.MW](ae),te[w.MW](ae),We[w.iC]=(0,E.AA)(Ot),ae[w.VL](Y,We,Ot),(0,E.bP)(J(),Ot),We[w.iC]=(0,O.FL)((0,E.AA)(te||[])).slice(),he&&de(he)}a(ge,"_initPluginChain");function Qe(he){var st,Ot=null,vt=null;return(0,O.tO)(We[w.iC],function(kt){if(kt[w.pZ]===he&&kt!==ae&&kt!==Se)return vt=kt,-1}),!vt&&ae&&(vt=ae.getChannel(he)),vt&&(Ot=(st={plugin:vt},st[w.$h]=function(kt){(0,E.OY)(vt)[C.mE]=!kt},st.isEnabled=function(){var kt=(0,E.OY)(vt);return!kt[w.fi]&&!kt[C.mE]},st.remove=function(kt,nt){var Jt;kt===void 0&&(kt=!0);var ar=[vt],Qt=(Jt={reason:1},Jt[w.d]=kt,Jt);wt(ar,Qt,function(Gt){Gt&&ge({reason:32,removed:ar}),nt&&nt(Gt)})},st)),Ot}a(Qe,"_getPlugin");function ut(){if(!Ze){var he=(te||[]).slice();(0,O.UA)(he,Se)===-1&&he[w.MW](Se),Ze=(0,f.jV)((0,E.AA)(he),Y,We)}return Ze}a(ut,"_getPluginChain");function wt(he,st,Ot){if(he&&he[w.R5]>0){var vt=(0,f.jV)(he,Y,We),kt=(0,f.Bt)(vt,We);kt[w.Fc](function(){var nt=!1,Jt=[];(0,O.tO)(Z,function(Qt,Gt){me(Qt,he)?nt=!0:Jt[w.MW](Qt)}),Z=Jt;var ar=[];_e&&((0,O.tO)(_e,function(Qt,Gt){var yr=[];(0,O.tO)(Qt,function(Ir){me(Ir,he)?nt=!0:yr[w.MW](Ir)}),ar[w.MW](yr)}),_e=ar),Ot&&Ot(nt)}),kt[w.uL](st)}else Ot(!1)}a(wt,"_removePlugins");function ot(){var he=We[w.eZ]?We[w.eZ].queue:[];he&&((0,O.tO)(he,function(st){var Ot,vt=(Ot={},Ot[w.I]=Re||"InternalMessageId: "+st[w.Gc],Ot.iKey=(0,O.v4)(Y[w.p$]),Ot.time=(0,O.Y6)(new Date),Ot.baseType=N.lQ.dataType,Ot.baseData={message:st[w.gU]},Ot);We.track(vt)}),he[w.R5]=0)}a(ot,"_flushInternalLogs");function D(he,st,Ot,vt){return ae?ae[w.kL](he,st,Ot||6,vt):(st&&st(!1),!0)}a(D,"_flushChannels");function h(){var he=(0,O.v4)(Y.disableDbgExt);he===!0&&ke&&(De[w.n7](ke),ke=null),De&&!ke&&he!==!0&&(ke=(0,se.p)(Y),De[w.g](ke))}a(h,"_initDebugListener");function m(){var he=(0,O.v4)(Y.enablePerfMgr);!he&&ct&&(ct=null),he&&(0,O.qK)(Y,C.DN,ie)}a(m,"_initPerfManager");function Q(){var he=(0,O.qK)(Y,C.Zh,{});he.NotificationManager=De}a(Q,"_initExtConfig");function de(he){var st=(0,f.xy)(ut(),We);(!We._updateHook||We._updateHook(st,he)!==!0)&&st[w.uL](he)}a(de,"_doUpdate");function Ne(he){var st=We[w.eZ];st?(0,N.kP)(st,2,73,he):(0,O._y)(he)}a(Ne,"_logOrThrowError")})}return a(ue,"BaseCore"),ue.__ieDyn=1,ue}()},4063:(fe,c,b)=>{"use strict";b.d(c,{i:()=>E});var v=b(1679),p=b(8096),y=b(6708),w=b(6041),O=b(1589),C=b(310),f="getPlugin",E=function(){function S(){var _=this,x,B,I,q,K;z(),(0,v.Z)(S,_,function($){$[p.VL]=function(R,L,j,X){N(R,L,X),x=!0},$[p.fi]=function(R,L){var j,X=$[w.oV];if(!X||R&&X!==R[w.oV]())return;var re,ne=!1,le=R||(0,O.Bt)(null,X,I&&I[f]?I[f]():I),Ce=L||(j={reason:0},j[p.d]=!1,j);function ie(){if(!ne){ne=!0,q.run(le,L);var G=K;K=[],(0,y.tO)(G,function(me){me.rm()}),re===!0&&le[p.uL](Ce),z()}}return a(ie,"_unloadCallback"),!$[p.F3]||$[p.F3](le,Ce,ie)!==!0?ie():re=!0,re},$[p.Tu]=function(R,L){var j=$[w.oV];if(!j||R&&j!==R[w.oV]())return;var X,re=!1,ne=R||(0,O.xy)(null,j,I&&I[f]?I[f]():I),le=L||{reason:0};function Ce(){re||(re=!0,N(ne.getCfg(),ne.core(),ne[p.W2]()))}return a(Ce,"_updateCallback"),!$._doUpdate||$._doUpdate(ne,le,Ce)!==!0?Ce():X=!0,X},$._addHook=function(R){R&&((0,y.kJ)(R)?K=K.concat(R):K[p.MW](R))},(0,y.Oi)($,"_addUnloadCb",function(){return q},"add")}),_[p.mc]=function($){return se($)[p.mc]()},_[p.yl]=function(){return x},_.setInitialized=function($){x=$},_[p.Jd]=function($){I=$},_[p.uL]=function($,R){R?R[p.uL]($):I&&(0,y.mf)(I[w.hL])&&I[w.hL]($,null)},_._getTelCtx=se;function se($){$===void 0&&($=null);var R=$;if(!R){var L=B||(0,O.CD)(null,{},_[w.oV]);I&&I[f]?R=L[p.zV](null,I[f]):R=L[p.zV](null,I)}return R}a(se,"_getTelCtx");function N($,R,L){$&&(0,y.sO)($,w.Zh,[],null,y.le),!L&&R&&(L=R[p.SD]()[p.W2]());var j=I;I&&I[f]&&(j=I[f]()),_[w.oV]=R,B=(0,O.CD)(L,$,R,j)}a(N,"_setDefaults");function z(){x=!1,_[w.oV]=null,B=null,I=null,K=[],q=(0,C.Y)()}a(z,"_initDefaults")}return a(S,"BaseTelemetryPlugin"),S.__ieDyn=1,S}()},3242:(fe,c,b)=>{"use strict";b.d(c,{kj:()=>R,JP:()=>ne,Nz:()=>le,p7:()=>Ce,UY:()=>ue});var v=b(8096),p=b(5018),y=b(7630),w=b(6708),O=b(6041),C="toGMTString",f="toUTCString",E="cookie",S="expires",_="enabled",x="isCookieUseDisabled",B="disableCookiesUsage",I="_ckMgr",q=null,K=null,se=null,N=(0,y.Me)(),z={},$={};function R(Y,we){var Oe=le[I]||$[I];return Oe||(Oe=le[I]=le(Y,we),$[I]=Oe),Oe}a(R,"_gblCookieMgr");function L(Y){return Y?Y.isEnabled():!0}a(L,"_isMgrEnabled");function j(Y){var we=Y[v.Lk]=Y[v.Lk]||{};if((0,w.sO)(we,"domain",Y.cookieDomain,w.BX,w.le),(0,w.sO)(we,"path",Y.cookiePath||"/",null,w.le),(0,w.le)(we[_])){var Oe=void 0;(0,w.o8)(Y[x])||(Oe=!Y[x]),(0,w.o8)(Y[B])||(Oe=!Y[B]),we[_]=Oe}return we}a(j,"_createCookieMgrConfig");function X(Y,we){return we&&Y&&(0,w.kJ)(Y.ignoreCookies)?Y.ignoreCookies[v.ou](we)!==-1:!1}a(X,"_isIgnoredCookie");function re(Y,we){return we&&Y&&(0,w.kJ)(Y.blockedCookies)&&Y.blockedCookies[v.ou](we)!==-1?!0:X(Y,we)}a(re,"_isBlockedCookie");function ne(Y,we){var Oe;if(Y)Oe=Y.getCookieMgr();else if(we){var De=we[v.Lk];De[I]?Oe=De[I]:Oe=le(we)}return Oe||(Oe=R(we,(Y||{})[v.eZ])),Oe}a(ne,"safeGetCookieMgr");function le(Y,we){var Oe,De=j(Y||$),ee=De.path||"/",ct=De.domain,qe=De[_]!==!1,Ze=(Oe={isEnabled:function(){var Z=qe&&Ce(we),te=$[I];return Z&&te&&Ze!==te&&(Z=L(te)),Z}},Oe[v.$h]=function(Z){qe=Z!==!1},Oe.set=function(Z,te,ae,_e,Ge){var lt=!1;if(L(Ze)&&!re(De,Z)){var Se={},Re=(0,w.nd)(te||O.qS),Te=Re[v.ou](";");if(Te!==-1&&(Re=(0,w.nd)(te[v.zc](0,Te)),Se=ie(te[v.zc](Te+1))),(0,w.sO)(Se,"domain",_e||ct,w.fQ,w.o8),!(0,w.le)(ae)){var xe=(0,y.w1)();if((0,w.o8)(Se[S])){var ke=(0,w.m6)(),ve=ke+ae*1e3;if(ve>0){var ft=new Date;ft.setTime(ve),(0,w.sO)(Se,S,G(ft,xe?C:f)||G(ft,xe?C:f)||O.qS,w.fQ)}}xe||(0,w.sO)(Se,"max-age",O.qS+ae,null,w.o8)}var We=(0,y.k$)();We&&We.protocol==="https:"&&((0,w.sO)(Se,"secure",null,null,w.o8),K===null&&(K=!ue(((0,y.jW)()||{})[v.qV])),K&&(0,w.sO)(Se,"SameSite","None",null,w.o8)),(0,w.sO)(Se,"path",Ge||ee,null,w.o8);var U=De.setCookie||Le;U(Z,me(Re,Se)),lt=!0}return lt},Oe.get=function(Z){var te=O.qS;return L(Ze)&&!X(De,Z)&&(te=(De.getCookie||Ue)(Z)),te},Oe.del=function(Z,te){var ae=!1;return L(Ze)&&(ae=Ze.purge(Z,te)),ae},Oe.purge=function(Z,te){var ae,_e=!1;if(Ce(we)){var Ge=(ae={},ae.path=te||"/",ae[S]="Thu, 01 Jan 1970 00:00:01 GMT",ae);(0,y.w1)()||(Ge["max-age"]="0");var lt=De.delCookie||Le;lt(Z,me(O.qS,Ge)),_e=!0}return _e},Oe);return Ze[I]=Ze,Ze}a(le,"createCookieMgr");function Ce(Y){if(q===null){q=!1;try{var we=N||{};q=we[E]!==void 0}catch(Oe){(0,p.kP)(Y,2,68,"Cannot access document.cookie - "+(0,w.jj)(Oe),{exception:(0,y.eU)(Oe)})}}return q}a(Ce,"areCookiesSupported");function ie(Y){var we={};if(Y&&Y[v.R5]){var Oe=(0,w.nd)(Y)[v.w6](";");(0,w.tO)(Oe,function(De){if(De=(0,w.nd)(De||O.qS),De){var ee=De[v.ou]("=");ee===-1?we[De]=null:we[(0,w.nd)(De[v.zc](0,ee))]=(0,w.nd)(De[v.zc](ee+1))}})}return we}a(ie,"_extractParts");function G(Y,we){return(0,w.mf)(Y[we])?Y[we]():null}a(G,"_formatDate");function me(Y,we){var Oe=Y||O.qS;return(0,w.rW)(we,function(De,ee){Oe+="; "+De+((0,w.le)(ee)?O.qS:"="+ee)}),Oe}a(me,"_formatCookieValue");function Ue(Y){var we=O.qS;if(N){var Oe=N[E]||O.qS;se!==Oe&&(z=ie(Oe),se=Oe),we=(0,w.nd)(z[Y]||O.qS)}return we}a(Ue,"_getCookieValue");function Le(Y,we){N&&(N[E]=Y+"="+we)}a(Le,"_setCookieValue");function ue(Y){return(0,w.HD)(Y)?!!((0,w._Q)(Y,"CPU iPhone OS 12")||(0,w._Q)(Y,"iPad; CPU OS 12")||(0,w._Q)(Y,"Macintosh; Intel Mac OS X 10_14")&&(0,w._Q)(Y,"Version/")&&(0,w._Q)(Y,"Safari")||(0,w._Q)(Y,"Macintosh; Intel Mac OS X 10_14")&&(0,w.Id)(Y,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,w._Q)(Y,"Chrome/5")||(0,w._Q)(Y,"Chrome/6")||(0,w._Q)(Y,"UnrealEngine")&&!(0,w._Q)(Y,"Chrome")||(0,w._Q)(Y,"UCBrowser/12")||(0,w._Q)(Y,"UCBrowser/11")):!1}a(ue,"uaDisallowsSameSiteNone")},5843:(fe,c,b)=>{"use strict";b.d(c,{GW:()=>B,Jj:()=>I,DO:()=>K,Tr:()=>se,zB:()=>z,oF:()=>R,vn:()=>L,ej:()=>j,d8:()=>X,kT:()=>re});var v=b(2091),p=b(8096),y=b(3242),w=b(7630),O=b(4869),C=b(6708),f=b(6041),E=b(4878),S=null,_,x=null;function B(){var ne=K();return ne[p.zc](0,8)+"-"+ne[p.zc](8,12)+"-"+ne[p.zc](12,16)+"-"+ne[p.zc](16,20)+"-"+ne[p.zc](20)}a(B,"newGuid");function I(){var ne=(0,w.r)();return ne&&ne.now?ne.now():(0,C.m6)()}a(I,"perfNow");function q(ne,le){if(ne&&le){var Ce=ne[_DYN_LENGTH],ie=Ce-le[_DYN_LENGTH];return ne[_DYN_SUBSTRING](ie>=0?ie:0,Ce)===le}return!1}a(q,"strEndsWith");function K(){for(var ne=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],le=f.qS,Ce,ie=0;ie<4;ie++)Ce=(0,E._l)(),le+=ne[Ce&15]+ne[Ce>>4&15]+ne[Ce>>8&15]+ne[Ce>>12&15]+ne[Ce>>16&15]+ne[Ce>>20&15]+ne[Ce>>24&15]+ne[Ce>>28&15];var G=ne[8+((0,E._l)()&3)|0];return le[p.Jn](0,8)+le[p.Jn](9,4)+"4"+le[p.Jn](13,3)+G+le[p.Jn](16,3)+le[p.Jn](19,12)}a(K,"generateW3CId");var se={_canUseCookies:void 0,isTypeof:C.Ym,isUndefined:C.o8,isNullOrUndefined:C.le,hasOwnProperty:C.nr,isFunction:C.mf,isObject:C.Kn,isDate:C.J_,isArray:C.kJ,isError:C.VZ,isString:C.HD,isNumber:C.hj,isBoolean:C.jn,toISOString:C.Y6,arrForEach:C.tO,arrIndexOf:C.UA,arrMap:C.Mr,arrReduce:C.Xz,strTrim:C.nd,objCreate:v.pu,objKeys:C.FY,objDefineAccessors:C.l_,addEventHandler:O.Ib,dateNow:C.m6,isIE:w.w1,disableCookies:R,newGuid:B,perfNow:I,newId:E.pZ,randomValue:E.az,random32:E._l,mwcRandomSeed:E.CN,mwcRandom32:E.F6,generateW3CId:K},N=/[xy]/g,z={Attach:O.pZ,AttachEvent:O.pZ,Detach:O.pD,DetachEvent:O.pD};function $(ne,le){var Ce=(0,y.kj)(ne,le),ie=se._canUseCookies;return S===null&&(S=[],_=ie,(0,C.l_)(se,"_canUseCookies",function(){return _},function(G){_=G,(0,C.tO)(S,function(me){me[p.$h](G)})})),(0,C.UA)(S,Ce)===-1&&S[p.MW](Ce),(0,C.jn)(ie)&&Ce[p.$h](ie),(0,C.jn)(_)&&Ce[p.$h](_),Ce}a($,"_legacyCookieMgr");function R(){$()[p.$h](!1)}a(R,"disableCookies");function L(ne){return $(null,ne).isEnabled()}a(L,"canUseCookies");function j(ne,le){return $(null,ne).get(le)}a(j,"getCookie");function X(ne,le,Ce,ie){$(null,ne).set(le,Ce,null,ie)}a(X,"setCookie");function re(ne,le){return $(null,ne).del(le)}a(re,"deleteCookie")},5883:(fe,c,b)=>{"use strict";b.d(c,{J:()=>I,K:()=>q});var v=b(4392),p=b(8096),y=b(6708),w=b(6041),O=b(4878),C=v.RJ,f="2.8.9",E="."+(0,O.pZ)(6),S=0;function _(K,se,N){if(C)try{return C(K,se,{value:N,enumerable:!1,configurable:!0}),!0}catch(z){}return!1}a(_,"_createAccessor");function x(K){return K[p.xv]===1||K[p.xv]===9||!+K[p.xv]}a(x,"_canAcceptData");function B(K,se){var N=se[K.id];if(!N){N={};try{x(se)&&(_(se,K.id,N)||(se[K.id]=N))}catch(z){}}return N}a(B,"_getCache");function I(K,se){return se===void 0&&(se=!1),(0,y.Gf)(K+S+++(se?"."+f:w.qS)+E)}a(I,"createUniqueNamespace");function q(K){var se={id:I("_aiData-"+(K||w.qS)+"."+f),accept:function(N){return x(N)},get:function(N,z,$,R){var L=N[se.id];return L?L[(0,y.Gf)(z)]:(R&&(L=B(se,N),L[(0,y.Gf)(z)]=$),$)},kill:function(N,z){if(N&&N[z])try{delete N[z]}catch($){}}};return se}a(q,"createElmNodeData")},7158:(fe,c,b)=>{"use strict";b.d(c,{j:()=>E,p:()=>S});var v=b(8096),p=b(7630),y=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],w=null,O;function C(_,x){return function(){var B=arguments,I=E(x);if(I){var q=I.listener;q&&q[_]&&q[_][v.ZV](q,B)}}}a(C,"_listenerProxyFunc");function f(){var _=(0,p.a8)("Microsoft");return _&&(w=_.ApplicationInsights),w}a(f,"_getExtensionNamespace");function E(_){var x=w;return!x&&_.disableDbgExt!==!0&&(x=w||f()),x?x.ChromeDbgExt:null}a(E,"getDebugExt");function S(_){if(!O){O={};for(var x=0;x<y[v.R5];x++)O[y[x]]=C(y[x],_)}return O}a(S,"getDebugListener")},5018:(fe,c,b)=>{"use strict";b.d(c,{lQ:()=>B,vH:()=>I,AQ:()=>q,kP:()=>se,jV:()=>N,L4:()=>z});var v=b(1679),p=b(8096),y=b(7158),w=b(7630),O=b(6708),C=b(6041),f="AI (Internal): ",E="AI: ",S="AITR_";function _($){return $?'"'+$[p.i7](/\"/g,C.qS)+'"':C.qS}a(_,"_sanitizeDiagnosticText");function x($,R){var L=(0,w.dr)();if(L){var j="log";L[$]&&(j=$),(0,O.mf)(L[j])&&L[j](R)}}a(x,"_logToConsole");var B=function(){function $(R,L,j,X){j===void 0&&(j=!1);var re=this;re[p.Gc]=R,re[p.gU]=(j?E:f)+R;var ne=C.qS;(0,w.nS)()&&(ne=(0,w.xA)().stringify(X));var le=(L?" message:"+_(L):C.qS)+(X?" props:"+_(ne):C.qS);re[p.gU]+=le}return a($,"_InternalLogMessage"),$.dataType="MessageData",$}();function I($,R){return($||{})[p.eZ]||new q(R)}a(I,"safeGetLogger");var q=function(){function $(R){this.identifier="DiagnosticLogger",this.queue=[];var L=0,j={},X,re,ne,le;(0,v.Z)($,this,function(Ce){G(R||{}),Ce.consoleLoggingLevel=function(){return X},Ce.telemetryLoggingLevel=function(){return re},Ce.maxInternalMessageLimit=function(){return ne},Ce[p.Fr]=function(){return le},Ce.throwInternal=function(Le,ue,Y,we,Oe){Oe===void 0&&(Oe=!1);var De=new B(ue,Y,Oe,we);if(le)throw(0,w.eU)(De);var ee=Le===1?C.ys:C.cL;if((0,O.o8)(De[p.gU]))Ue("throw"+(Le===1?"Critical":"Warning"),De);else{if(Oe){var ct=+De[p.Gc];!j[ct]&&X>=Le&&(Ce[ee](De[p.gU]),j[ct]=!0)}else X>=Le&&Ce[ee](De[p.gU]);ie(Le,De)}},Ce[C.cL]=function(Le){x("warn",Le),Ue("warning",Le)},Ce[C.ys]=function(Le){x("error",Le),Ue("error",Le)},Ce.resetInternalMessageCount=function(){L=0,j={}},Ce[p.jk]=ie;function ie(Le,ue){if(!me()){var Y=!0,we=S+ue[p.Gc];if(j[we]?Y=!1:j[we]=!0,Y&&(Le<=re&&(Ce.queue[p.MW](ue),L++,Ue(Le===1?"error":"warn",ue)),L===ne)){var Oe="Internal events throttle limit per PageView reached for this app.",De=new B(23,Oe,!1);Ce.queue[p.MW](De),Le===1?Ce[C.ys](Oe):Ce[C.cL](Oe)}}}a(ie,"_logInternalMessage");function G(Le){X=(0,O.v4)(Le.loggingLevelConsole,0),re=(0,O.v4)(Le.loggingLevelTelemetry,1),ne=(0,O.v4)(Le.maxMessageLimit,25),le=(0,O.v4)(Le[p.Fr],!1)}a(G,"_setDefaultsFromConfig");function me(){return L>=ne}a(me,"_areInternalMessagesThrottled");function Ue(Le,ue){var Y=(0,y.j)(R||{});Y&&Y[p.mc]&&Y[p.mc](Le,ue)}a(Ue,"_debugExtMsg")})}return a($,"DiagnosticLogger"),$.__ieDyn=1,$}();function K($){return $||new q}a(K,"_getLogger");function se($,R,L,j,X,re){re===void 0&&(re=!1),K($).throwInternal(R,L,j,X,re)}a(se,"_throwInternal");function N($,R){K($)[C.cL](R)}a(N,"_warnToConsole");function z($,R,L){K($)[p.jk](R,L)}a(z,"_logInternalMessage")},7630:(fe,c,b)=>{"use strict";b.d(c,{dI:()=>Ce,a8:()=>ie,Ym:()=>G,Jj:()=>me,Nv:()=>Ue,Me:()=>Le,d6:()=>ue,jW:()=>Y,fE:()=>we,s1:()=>Oe,k$:()=>De,dr:()=>ee,r:()=>ct,nS:()=>qe,xA:()=>Ze,MX:()=>Z,gz:()=>te,b$:()=>ae,w1:()=>_e,sA:()=>Ge,eU:()=>lt,MF:()=>Re,JO:()=>Te,cp:()=>xe,Z3:()=>ke,ed:()=>ft,pI:()=>We});var v=b(4392),p=b(2091),y=b(8096),w=b(6708),O=b(6041),C="window",f="document",E="documentMode",S="navigator",_="history",x="location",B="console",I="performance",q="JSON",K="crypto",se="msCrypto",N="ReactNative",z="msie",$="trident/",R="XMLHttpRequest",L=null,j=null,X=!1,re=null,ne=null;function le(U,J){var ge=!1;if(U){try{if(ge=J in U,!ge){var Qe=U[v.hB];Qe&&(ge=J in Qe)}}catch(wt){}if(!ge)try{var ut=new U;ge=!(0,w.o8)(ut[J])}catch(wt){}}return ge}a(le,"_hasProperty");function Ce(U){X=U}a(Ce,"setEnableEnvMocks");function ie(U){var J=(0,p.Rd)();return J&&J[U]?J[U]:U===C&&G()?window:null}a(ie,"getGlobalInst");function G(){return Boolean(typeof window===v.fK&&window)}a(G,"hasWindow");function me(){return G()?window:ie(C)}a(me,"getWindow");function Ue(){return Boolean(typeof document===v.fK&&document)}a(Ue,"hasDocument");function Le(){return Ue()?document:ie(f)}a(Le,"getDocument");function ue(){return Boolean(typeof navigator===v.fK&&navigator)}a(ue,"hasNavigator");function Y(){return ue()?navigator:ie(S)}a(Y,"getNavigator");function we(){return Boolean(typeof history===v.fK&&history)}a(we,"hasHistory");function Oe(){return we()?history:ie(_)}a(Oe,"getHistory");function De(U){if(U&&X){var J=ie("__mockLocation");if(J)return J}return typeof location===v.fK&&location?location:ie(x)}a(De,"getLocation");function ee(){return typeof console!==v.jA?console:ie(B)}a(ee,"getConsole");function ct(){return ie(I)}a(ct,"getPerformance");function qe(){return Boolean(typeof JSON===v.fK&&JSON||ie(q)!==null)}a(qe,"hasJSON");function Ze(){return qe()?JSON||ie(q):null}a(Ze,"getJSON");function Z(){return ie(K)}a(Z,"getCrypto");function te(){return ie(se)}a(te,"getMsCrypto");function ae(){var U=Y();return U&&U.product?U.product===N:!1}a(ae,"isReactNative");function _e(){var U=Y();if(U&&(U[y.qV]!==j||L===null)){j=U[y.qV];var J=(j||O.qS)[y.T1]();L=(0,w._Q)(J,z)||(0,w._Q)(J,$)}return L}a(_e,"isIE");function Ge(U){if(U===void 0&&(U=null),!U){var J=Y()||{};U=J?(J[y.qV]||O.qS)[y.T1]():O.qS}var ge=(U||O.qS)[y.T1]();if((0,w._Q)(ge,z)){var Qe=Le()||{};return Math.max(parseInt(ge[y.w6](z)[1]),Qe[E]||0)}else if((0,w._Q)(ge,$)){var ut=parseInt(ge[y.w6]($)[1]);if(ut)return ut+4}return null}a(Ge,"getIEVersion");function lt(U){var J=Object[v.hB].toString[y._S](U),ge=O.qS;return J==="[object Error]"?ge="{ stack: '"+U.stack+"', message: '"+U.message+"', name: '"+U[y.I]+"'":qe()&&(ge=Ze().stringify(U)),J+ge}a(lt,"dumpObj");function Se(U){if(!U||!isString(U)){var J=Y()||{};U=J?(J[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var ge=(U||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return ge[_DYN_INDEX_OF]("safari")>=0}a(Se,"isSafari");function Re(){return ne===null&&(ne=ue()&&Boolean(Y().sendBeacon)),ne}a(Re,"isBeaconsSupported");function Te(U){var J=!1;try{J=!!ie("fetch");var ge=ie("Request");J&&U&&ge&&(J=le(ge,"keepalive"))}catch(Qe){}return J}a(Te,"isFetchSupported");function xe(){return re===null&&(re=typeof XDomainRequest!==v.jA,re&&ke()&&(re=re&&!le(ie(R),"withCredentials"))),re}a(xe,"useXDomainRequest");function ke(){var U=!1;try{var J=ie(R);U=!!J}catch(ge){}return U}a(ke,"isXhrSupported");function ve(U,J){if(U)for(var ge=0;ge<U[y.R5];ge++){var Qe=U[ge];if(Qe[y.I]&&Qe[y.I]===J)return Qe}return{}}a(ve,"_getNamedValue");function ft(U){var J=Le();return J&&U?ve(J.querySelectorAll("meta"),U).content:null}a(ft,"findMetaTag");function We(U){var J,ge=ct();if(ge){var Qe=ge.getEntriesByType("navigation")||[];J=ve((Qe[y.R5]>0?Qe[0]:{}).serverTiming,U).description}return J}a(We,"findNamedServerTiming")},4869:(fe,c,b)=>{"use strict";b.d(c,{um:()=>le,jU:()=>Le,XO:()=>ue,QY:()=>Y,pZ:()=>we,pD:()=>Oe,Ib:()=>De,C1:()=>ee,yw:()=>qe,nJ:()=>Ze,c9:()=>Z,JA:()=>te,TJ:()=>ae,C9:()=>_e,nD:()=>Ge,Yl:()=>lt});var v=b(8096),p=b(5883),y=b(7630),w=b(6708),O=b(6041),C="on",f="attachEvent",E="addEventListener",S="detachEvent",_="removeEventListener",x="events",B="visibilitychange",I="pagehide",q="pageshow",K="unload",se="beforeunload",N=(0,p.J)("aiEvtPageHide"),z=(0,p.J)("aiEvtPageShow"),$=/\.[\.]+/g,R=/[\.]+$/,L=1,j=(0,p.K)("events"),X=/^([^.]*)(?:\.(.+)|)/;function re(Se){return Se&&Se[v.i7]?Se[v.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,O.qS):Se}a(re,"_normalizeNamespace");function ne(Se,Re){var Te;if(Re){var xe=O.qS;(0,w.kJ)(Re)?(xe=O.qS,(0,w.tO)(Re,function(ve){ve=re(ve),ve&&(ve[0]!=="."&&(ve="."+ve),xe+=ve)})):xe=re(Re),xe&&(xe[0]!=="."&&(xe="."+xe),Se=(Se||O.qS)+xe)}var ke=X.exec(Se||O.qS)||[];return Te={},Te[v.P6]=ke[1],Te.ns=(ke[2]||O.qS).replace($,".").replace(R,O.qS)[v.w6](".").sort().join("."),Te}a(ne,"_getEvtNamespace");function le(Se,Re,Te){var xe=[],ke=j.get(Se,x,{},!1),ve=ne(Re,Te);return(0,w.rW)(ke,function(ft,We){(0,w.tO)(We,function(U){var J;(!ve[v.P6]||ve[v.P6]===U.evtName[v.P6])&&(!ve.ns||ve.ns===ve.ns)&&xe[v.MW]((J={},J[v.I]=U.evtName[v.P6]+(U.evtName.ns?"."+U.evtName.ns:O.qS),J.handler=U[v.Kn],J))})}),xe}a(le,"__getRegisteredEvents");function Ce(Se,Re,Te){Te===void 0&&(Te=!0);var xe=j.get(Se,x,{},Te),ke=xe[Re];return ke||(ke=xe[Re]=[]),ke}a(Ce,"_getRegisteredEvents");function ie(Se,Re,Te,xe){Se&&Re&&Re[v.P6]&&(Se[_]?Se[_](Re[v.P6],Te,xe):Se[S]&&Se[S](C+Re[v.P6],Te))}a(ie,"_doDetach");function G(Se,Re,Te,xe){var ke=!1;return Se&&Re&&Re[v.P6]&&Te&&(Se[E]?(Se[E](Re[v.P6],Te,xe),ke=!0):Se[f]&&(Se[f](C+Re[v.P6],Te),ke=!0)),ke}a(G,"_doAttach");function me(Se,Re,Te,xe){for(var ke=Re[v.R5];ke--;){var ve=Re[ke];ve&&(!Te.ns||Te.ns===ve.evtName.ns)&&(!xe||xe(ve))&&(ie(Se,ve.evtName,ve[v.Kn],ve.capture),Re[v.cb](ke,1))}}a(me,"_doUnregister");function Ue(Se,Re,Te){if(Re[v.P6])me(Se,Ce(Se,Re[v.P6]),Re,Te);else{var xe=j.get(Se,x,{});(0,w.rW)(xe,function(ke,ve){me(Se,ve,Re,Te)}),(0,w.FY)(xe)[v.R5]===0&&j.kill(Se,x)}}a(Ue,"_unregisterEvents");function Le(Se,Re){var Te;return Re?((0,w.kJ)(Re)?Te=[Se].concat(Re):Te=[Se,Re],Te=ne("xx",Te).ns[v.w6](".")):Te=Se,Te}a(Le,"mergeEvtNamespace");function ue(Se,Re,Te,xe,ke){var ve;ke===void 0&&(ke=!1);var ft=!1;if(Se)try{var We=ne(Re,xe);if(ft=G(Se,We,Te,ke),ft&&j.accept(Se)){var U=(ve={guid:L++,evtName:We},ve[v.Kn]=Te,ve.capture=ke,ve);Ce(Se,We.type)[v.MW](U)}}catch(J){}return ft}a(ue,"eventOn");function Y(Se,Re,Te,xe,ke){if(ke===void 0&&(ke=!1),Se)try{var ve=ne(Re,xe),ft=!1;Ue(Se,ve,function(We){return ve.ns&&!Te||We[v.Kn]===Te?(ft=!0,!0):!1}),ft||ie(Se,ve,Te,ke)}catch(We){}}a(Y,"eventOff");function we(Se,Re,Te,xe){return xe===void 0&&(xe=!1),ue(Se,Re,Te,null,xe)}a(we,"attachEvent");function Oe(Se,Re,Te,xe){xe===void 0&&(xe=!1),Y(Se,Re,Te,null,xe)}a(Oe,"detachEvent");function De(Se,Re,Te){var xe=!1,ke=(0,y.Jj)();ke&&(xe=ue(ke,Se,Re,Te),xe=ue(ke.body,Se,Re,Te)||xe);var ve=(0,y.Me)();return ve&&(xe=ue(ve,Se,Re,Te)||xe),xe}a(De,"addEventHandler");function ee(Se,Re,Te){var xe=(0,y.Jj)();xe&&(Y(xe,Se,Re,Te),Y(xe.body,Se,Re,Te));var ke=(0,y.Me)();ke&&Y(ke,Se,Re,Te)}a(ee,"removeEventHandler");function ct(Se,Re,Te,xe){var ke=!1;return Re&&Se&&Se[v.R5]>0&&(0,w.tO)(Se,function(ve){ve&&(!Te||(0,w.UA)(Te,ve)===-1)&&(ke=De(ve,Re,xe)||ke)}),ke}a(ct,"_addEventListeners");function qe(Se,Re,Te,xe){var ke=!1;return Re&&Se&&(0,w.kJ)(Se)&&(ke=ct(Se,Re,Te,xe),!ke&&Te&&Te[v.R5]>0&&(ke=ct(Se,Re,null,xe))),ke}a(qe,"addEventListeners");function Ze(Se,Re,Te){Se&&(0,w.kJ)(Se)&&(0,w.tO)(Se,function(xe){xe&&ee(xe,Re,Te)})}a(Ze,"removeEventListeners");function Z(Se,Re,Te){return qe([se,K,I],Se,Re,Te)}a(Z,"addPageUnloadEventListener");function te(Se,Re){Ze([se,K,I],Se,Re)}a(te,"removePageUnloadEventListener");function ae(Se,Re,Te){function xe(ft){var We=(0,y.Me)();Se&&We&&We.visibilityState==="hidden"&&Se(ft)}a(xe,"_handlePageVisibility");var ke=Le(N,Te),ve=ct([I],Se,Re,ke);return(!Re||(0,w.UA)(Re,B)===-1)&&(ve=ct([B],xe,Re,ke)||ve),!ve&&Re&&(ve=ae(Se,null,Te)),ve}a(ae,"addPageHideEventListener");function _e(Se,Re){var Te=Le(N,Re);Ze([I],Se,Te),Ze([B],null,Te)}a(_e,"removePageHideEventListener");function Ge(Se,Re,Te){function xe(ft){var We=(0,y.Me)();Se&&We&&We.visibilityState==="visible"&&Se(ft)}a(xe,"_handlePageVisibility");var ke=Le(z,Te),ve=ct([q],Se,Re,ke);return ve=ct([B],xe,Re,ke)||ve,!ve&&Re&&(ve=Ge(Se,null,Te)),ve}a(Ge,"addPageShowEventListener");function lt(Se,Re){var Te=Le(z,Re);Ze([q],Se,Te),Ze([B],null,Te)}a(lt,"removePageShowEventListener")},6708:(fe,c,b)=>{"use strict";b.d(c,{Ym:()=>we,o8:()=>Oe,le:()=>ee,BX:()=>ct,nr:()=>qe,Kn:()=>Ze,mf:()=>Z,Gf:()=>ae,rW:()=>_e,Id:()=>Ge,xe:()=>Se,_Q:()=>Te,J_:()=>xe,kJ:()=>ke,VZ:()=>ft,HD:()=>We,hj:()=>U,jn:()=>J,Y6:()=>ut,tO:()=>ot,UA:()=>D,Mr:()=>h,Xz:()=>m,nd:()=>Q,FY:()=>he,l_:()=>st,_A:()=>vt,FL:()=>kt,Xi:()=>nt,m6:()=>Jt,jj:()=>ar,sO:()=>Qt,qK:()=>Gt,v4:()=>yr,F:()=>Ir,fQ:()=>bn,_y:()=>Xr,cf:()=>Ln,Oi:()=>pn,Vb:()=>qn,hl:()=>In,Ax:()=>Tn,mm:()=>Mn});var v=b(4392),p=b(2091),y=b(8096),w=b(6041),O="toISOString",C="endsWith",f="startsWith",E="indexOf",S="map",_="reduce",x="trim",B="toString",I="__proto__",q="constructor",K=v.RJ,se=v.Pw.freeze,N=v.Pw.seal,z=v.Pw.keys,$=String[v.hB],R=$[x],L=$[C],j=$[f],X=Date[v.hB],re=X[O],ne=Array.isArray,le=v.V4[B],Ce=v.CY[B],ie=Ce[y._S](v.Pw),G=/-([a-z])/g,me=/([^\w\d_$])/g,Ue=/^(\d+[\w\d_$])/,Le=Object.getPrototypeOf;function ue(ce){if(ce){if(Le)return Le(ce);var Je=ce[I]||ce[v.hB]||ce[q];if(Je)return Je}return null}a(ue,"_getObjProto");function Y(ce){return le[_DYN_CALL](ce)}a(Y,"objToString");function we(ce,Je){return typeof ce===Je}a(we,"isTypeof");function Oe(ce){return ce===void 0||typeof ce===v.jA}a(Oe,"isUndefined");function De(ce){return!Oe(ce)}a(De,"isNotUndefined");function ee(ce){return ce===null||Oe(ce)}a(ee,"isNullOrUndefined");function ct(ce){return!ee(ce)}a(ct,"isNotNullOrUndefined");function qe(ce,Je){return!!(ce&&v.CY[y._S](ce,Je))}a(qe,"hasOwnProperty");function Ze(ce){return!!(ce&&typeof ce===v.fK)}a(Ze,"isObject");function Z(ce){return!!(ce&&typeof ce===v.cb)}a(Z,"isFunction");function te(ce){return ce&&Z(ce.then)}a(te,"isPromiseLike");function ae(ce){var Je=ce;return Je&&We(Je)&&(Je=Je[y.i7](G,function(pt,Ct){return Ct.toUpperCase()}),Je=Je[y.i7](me,"_"),Je=Je[y.i7](Ue,function(pt,Ct){return"_"+Ct})),Je}a(ae,"normalizeJsName");function _e(ce,Je){if(ce)for(var pt in ce)v.CY[y._S](ce,pt)&&Je[y._S](ce,pt,ce[pt])}a(_e,"objForEachKey");function Ge(ce,Je){var pt=!1;return ce&&Je&&!(pt=ce===Je)&&(pt=L?ce[C](Je):lt(ce,Je)),pt}a(Ge,"strEndsWith");function lt(ce,Je){var pt=!1,Ct=Je?Je[y.R5]:0,Wt=ce?ce[y.R5]:0;if(Ct&&Wt&&Wt>=Ct&&!(pt=ce===Je)){for(var Ut=Wt-1,Pr=Ct-1;Pr>=0;Pr--){if(ce[Ut]!=Je[Pr])return!1;Ut--}pt=!0}return pt}a(lt,"_strEndsWithPoly");function Se(ce,Je){var pt=!1;return ce&&Je&&!(pt=ce===Je)&&(pt=j?ce[f](Je):Re(ce,Je)),pt}a(Se,"strStartsWith");function Re(ce,Je){var pt=!1,Ct=Je?Je[y.R5]:0;if(ce&&Ct&&ce[y.R5]>=Ct&&!(pt=ce===Je)){for(var Wt=0;Wt<Ct;Wt++)if(ce[Wt]!==Je[Wt])return!1;pt=!0}return pt}a(Re,"_strStartsWithPoly");function Te(ce,Je){return ce&&Je?ce[y.ou](Je)!==-1:!1}a(Te,"strContains");function xe(ce){return!!(ce&&le[y._S](ce)==="[object Date]")}a(xe,"isDate");var ke=ne||ve;function ve(ce){return!!(ce&&le[y._S](ce)==="[object Array]")}a(ve,"_isArrayPoly");function ft(ce){return!!(ce&&le[y._S](ce)==="[object Error]")}a(ft,"isError");function We(ce){return typeof ce=="string"}a(We,"isString");function U(ce){return typeof ce=="number"}a(U,"isNumber");function J(ce){return typeof ce=="boolean"}a(J,"isBoolean");function ge(ce){return typeof ce=="symbol"}a(ge,"isSymbol");function Qe(ce){var Je=!1;if(ce&&typeof ce=="object"){var pt=Le?Le(ce):ue(ce);pt?(pt[q]&&v.CY[y._S](pt,q)&&(pt=pt[q]),Je=typeof pt===v.cb&&Ce[y._S](pt)===ie):Je=!0}return Je}a(Qe,"isPlainObject");function ut(ce){if(ce)return re?ce[O]():wt(ce)}a(ut,"toISOString");function wt(ce){if(ce&&ce.getUTCFullYear){var Je=a(function(pt){var Ct=String(pt);return Ct[y.R5]===1&&(Ct="0"+Ct),Ct},"pad");return ce.getUTCFullYear()+"-"+Je(ce.getUTCMonth()+1)+"-"+Je(ce.getUTCDate())+"T"+Je(ce.getUTCHours())+":"+Je(ce.getUTCMinutes())+":"+Je(ce.getUTCSeconds())+"."+String((ce.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(wt,"_toISOStringPoly");function ot(ce,Je,pt){var Ct=ce[y.R5];try{for(var Wt=0;Wt<Ct&&!(Wt in ce&&Je[y._S](pt||ce,ce[Wt],Wt,ce)===-1);Wt++);}catch(Ut){}}a(ot,"arrForEach");function D(ce,Je,pt){if(ce){if(ce[E])return ce[E](Je,pt);var Ct=ce[y.R5],Wt=pt||0;try{for(var Ut=Math.max(Wt>=0?Wt:Ct-Math.abs(Wt),0);Ut<Ct;Ut++)if(Ut in ce&&ce[Ut]===Je)return Ut}catch(Pr){}}return-1}a(D,"arrIndexOf");function h(ce,Je,pt){var Ct;if(ce){if(ce[S])return ce[S](Je,pt);var Wt=ce[y.R5],Ut=pt||ce;Ct=new Array(Wt);try{for(var Pr=0;Pr<Wt;Pr++)Pr in ce&&(Ct[Pr]=Je[y._S](Ut,ce[Pr],ce))}catch(Nr){}}return Ct}a(h,"arrMap");function m(ce,Je,pt){var Ct;if(ce){if(ce[_])return ce[_](Je,pt);var Wt=ce[y.R5],Ut=0;if(arguments[y.R5]>=3)Ct=arguments[2];else{for(;Ut<Wt&&!(Ut in ce);)Ut++;Ct=ce[Ut++]}for(;Ut<Wt;)Ut in ce&&(Ct=Je(Ct,ce[Ut],Ut,ce)),Ut++}return Ct}a(m,"arrReduce");function Q(ce){return ce&&(ce=R&&ce[x]?ce[x]():ce[y.i7]?ce[y.i7](/^\s+|(?=\s)\s+$/g,w.qS):ce),ce}a(Q,"strTrim");var de=!{toString:null}.propertyIsEnumerable("toString"),Ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function he(ce){var Je=typeof ce;if(Je!==v.cb&&(Je!==v.fK||ce===null)&&(0,p.ZU)("objKeys called on non-object"),!de&&z)return z(ce);var pt=[];for(var Ct in ce)ce&&v.CY[y._S](ce,Ct)&&pt[y.MW](Ct);if(de)for(var Wt=Ne[y.R5],Ut=0;Ut<Wt;Ut++)ce&&v.CY[y._S](ce,Ne[Ut])&&pt[y.MW](Ne[Ut]);return pt}a(he,"objKeys");function st(ce,Je,pt,Ct){if(K)try{var Wt={enumerable:!0,configurable:!0};return pt&&(Wt.get=pt),Ct&&(Wt.set=Ct),K(ce,Je,Wt),!0}catch(Ut){}return!1}a(st,"objDefineAccessors");function Ot(ce){return ce}a(Ot,"_doNothing");function vt(ce){return se&&_e(ce,function(Je,pt){(ke(pt)||Ze(pt))&&se(pt)}),kt(ce)}a(vt,"deepFreeze");var kt=se||Ot,nt=N||Ot;function Jt(){var ce=Date;return ce.now?ce.now():new ce().getTime()}a(Jt,"dateNow");function ar(ce){return ft(ce)?ce[y.I]:w.qS}a(ar,"getExceptionName");function Qt(ce,Je,pt,Ct,Wt){var Ut=pt;return ce&&(Ut=ce[Je],Ut!==pt&&(!Wt||Wt(Ut))&&(!Ct||Ct(pt))&&(Ut=pt,ce[Je]=Ut)),Ut}a(Qt,"setValue");function Gt(ce,Je,pt){var Ct;return ce?(Ct=ce[Je],!Ct&&ee(Ct)&&(Ct=Oe(pt)?{}:pt,ce[Je]=Ct)):Ct=Oe(pt)?{}:pt,Ct}a(Gt,"getSetValue");function yr(ce,Je){return ee(ce)?Je:ce}a(yr,"getCfgValue");function Ir(ce){return!ce}a(Ir,"isNotTruthy");function bn(ce){return!!ce}a(bn,"isTruthy");function Xr(ce){throw new Error(ce)}a(Xr,"throwError");function Or(ce,Je){var pt=null,Ct=null;return Z(ce)?pt=ce:Ct=ce,function(){var Wt=arguments;if(pt&&(Ct=pt()),Ct)return Ct[Je][y.ZV](Ct,Wt)}}a(Or,"_createProxyFunction");function Ln(ce,Je,pt){if(ce&&Je&&Ze(ce)&&Ze(Je)){var Ct=a(function(Ut){if(We(Ut)){var Pr=Je[Ut];Z(Pr)?(!pt||pt(Ut,!0,Je,ce))&&(ce[Ut]=Or(Je,Ut)):(!pt||pt(Ut,!1,Je,ce))&&(qe(ce,Ut)&&delete ce[Ut],st(ce,Ut,function(){return Je[Ut]},function(Nr){Je[Ut]=Nr})||(ce[Ut]=Pr))}},"_loop_1");for(var Wt in Je)Ct(Wt)}return ce}a(Ln,"proxyAssign");function pn(ce,Je,pt,Ct,Wt){ce&&Je&&pt&&(Wt!==!1||Oe(ce[Je]))&&(ce[Je]=Or(pt,Ct))}a(pn,"proxyFunctionAs");function qn(ce,Je,pt,Ct){return ce&&Je&&Ze(ce)&&ke(pt)&&ot(pt,function(Wt){We(Wt)&&pn(ce,Wt,Je,Wt,Ct)}),ce}a(qn,"proxyFunctions");function In(ce){return function(){function Je(){var pt=this;ce&&_e(ce,function(Ct,Wt){pt[Ct]=Wt})}return a(Je,"class_1"),Je}()}a(In,"createClassFromInterface");function Tn(ce){return ce&&v.rl&&(ce=(0,v.Pw)((0,v.rl)({},ce))),ce}a(Tn,"optimizeObject");function Mn(ce,Je,pt,Ct,Wt,Ut){var Pr=arguments,Nr=Pr[0]||{},Tt=Pr[y.R5],Rt=!1,$t=1;for(Tt>0&&J(Nr)&&(Rt=Nr,Nr=Pr[$t]||{},$t++),Ze(Nr)||(Nr={});$t<Tt;$t++){var _t=Pr[$t],Xt=ke(_t),zt=Ze(_t);for(var Et in _t){var tr=Xt&&Et in _t||zt&&v.CY[y._S](_t,Et);if(!!tr){var or=_t[Et],_r=void 0;if(Rt&&or&&((_r=ke(or))||Qe(or))){var gr=Nr[Et];_r?ke(gr)||(gr=[]):Qe(gr)||(gr={}),or=Mn(Rt,gr,or)}or!==void 0&&(Nr[Et]=or)}}}return Nr}a(Mn,"objExtend")},6041:(fe,c,b)=>{"use strict";b.d(c,{qS:()=>v,Z:()=>p,oV:()=>y,DN:()=>w,mE:()=>O,Zh:()=>C,js:()=>f,hL:()=>E,yi:()=>S,uC:()=>_,$F:()=>x,f_:()=>B,C$:()=>I,ys:()=>q,cL:()=>K,kl:()=>se});var v="",p="channels",y="core",w="createPerfMgr",O="disabled",C="extensionConfig",f="extensions",E="processTelemetry",S="priority",_="eventsSent",x="eventsDiscarded",B="eventsSendRequest",I="perfEvent",q="errorToConsole",K="warnToConsole",se="getPerfMgr"},1880:(fe,c,b)=>{"use strict";b.d(c,{f:()=>C});var v=b(1679),p=b(8096),y=b(6708),w=b(6041);function O(f,E,S,_){(0,y.tO)(f,function(x){if(x&&x[E])if(S)setTimeout(function(){return _(x)},0);else try{_(x)}catch(B){}})}a(O,"_runListeners");var C=function(){function f(E){this.listeners=[];var S=!!(E||{}).perfEvtsSendAll;(0,v.Z)(f,this,function(_){_[p.g]=function(x){_.listeners[p.MW](x)},_[p.n7]=function(x){for(var B=(0,y.UA)(_[p.dE],x);B>-1;)_.listeners[p.cb](B,1),B=(0,y.UA)(_[p.dE],x)},_[w.uC]=function(x){O(_[p.dE],w.uC,!0,function(B){B[w.uC](x)})},_[w.$F]=function(x,B){O(_[p.dE],w.$F,!0,function(I){I[w.$F](x,B)})},_[w.f_]=function(x,B){O(_[p.dE],w.f_,B,function(I){I[w.f_](x,B)})},_[w.C$]=function(x){x&&(S||!x[p.PL]())&&O(_[p.dE],w.C$,!1,function(B){x[p.d]?setTimeout(function(){return B[w.C$](x)},0):B[w.C$](x)})}})}return a(f,"NotificationManager"),f.__ieDyn=1,f}()},9288:(fe,c,b)=>{"use strict";b.d(c,{zn:()=>S,Jk:()=>_,Lm:()=>B,j5:()=>q});var v=b(1679),p=b(8096),y=b(6708),w=b(6041),O="ctx",C="ParentContextKey",f="ChildrenContextKey",E=null,S=function(){function K(se,N,z){var $=this,R=!1;if($.start=(0,y.m6)(),$[p.I]=se,$[p.d]=z,$[p.PL]=function(){return!1},(0,y.mf)(N)){var L;R=(0,y.l_)($,"payload",function(){return!L&&(0,y.mf)(N)&&(L=N(),N=null),L})}$[p.T]=function(j){return j?j===K[C]||j===K[f]?$[j]:($[O]||{})[j]:null},$[p.wu]=function(j,X){if(j)if(j===K[C])$[j]||($[p.PL]=function(){return!0}),$[j]=X;else if(j===K[f])$[j]=X;else{var re=$[O]=$[O]||{};re[j]=X}},$[p.Km]=function(){var j=0,X=$[p.T](K[f]);if((0,y.kJ)(X))for(var re=0;re<X[p.R5];re++){var ne=X[re];ne&&(j+=ne[p.Z_])}$[p.Z_]=(0,y.m6)()-$.start,$.exTime=$[p.Z_]-j,$[p.Km]=function(){},!R&&(0,y.mf)(N)&&($.payload=N())}}return a(K,"PerfEvent"),K.ParentContextKey="parent",K.ChildrenContextKey="childEvts",K}(),_=function(){function K(se){this.ctx={},(0,v.Z)(K,this,function(N){N.create=function(z,$,R){return new S(z,$,R)},N.fire=function(z){z&&(z[p.Km](),se&&(0,y.mf)(se[w.C$])&&se[w.C$](z))},N[p.wu]=function(z,$){if(z){var R=N[O]=N[O]||{};R[z]=$}},N[p.T]=function(z){return(N[O]||{})[z]}})}return a(K,"PerfManager"),K.__ieDyn=1,K}(),x="CoreUtils.doPerf";function B(K,se,N,z,$){if(K){var R=K;if(R[w.kl]&&(R=R[w.kl]()),R){var L=void 0,j=R[p.T](x);try{if(L=R.create(se(),z,$),L){if(j&&L[p.wu]&&(L[p.wu](S[C],j),j[p.T]&&j[p.wu])){var X=j[p.T](S[f]);X||(X=[],j[p.wu](S[f],X)),X[p.MW](L)}return R[p.wu](x,L),N(L)}}catch(re){L&&L[p.wu]&&L[p.wu]("exception",re)}finally{L&&R.fire(L),R[p.wu](x,j)}}}return N()}a(B,"doPerf");function I(K){E=K}a(I,"setGblPerfMgr");function q(){return E}a(q,"getGblPerfMgr")},1589:(fe,c,b)=>{"use strict";b.d(c,{CD:()=>q,Bt:()=>K,xy:()=>se,jV:()=>N,Vi:()=>$});var v=b(8096),p=b(5018),y=b(7630),w=b(6708),O=b(6041),C=b(9288),f=b(3833),E="TelemetryPluginChain",S="_hasRun",_="_getTelCtx",x=0;function B(R,L,j){for(;R;){if(R[v.TO]()===j)return R;R=R[v.W2]()}return N([j],L[v.TC]||{},L)}a(B,"_getNextProxyStart");function I(R,L,j,X){var re=null,ne=[];X!==null&&(re=X?B(R,j,X):R);var le={_next:ie,ctx:{core:function(){return j},diagLog:function(){return(0,p.vH)(j,L)},getCfg:function(){return L},getExtCfg:G,getConfig:me,hasNext:function(){return!!re},getNext:function(){return re},setNext:function(Le){re=Le},iterate:Ue,onComplete:Ce}};function Ce(Le,ue){for(var Y=[],we=2;we<arguments.length;we++)Y[we-2]=arguments[we];Le&&ne[v.MW]({func:Le,self:(0,w.o8)(ue)?le.ctx:ue,args:Y})}a(Ce,"_addOnComplete");function ie(){var Le=re;if(re=Le?Le[v.W2]():null,!Le){var ue=ne;ue&&ue[v.R5]>0&&((0,w.tO)(ue,function(Y){try{Y.func[v._S](Y.self,Y.args)}catch(we){(0,p.kP)(j[v.eZ],2,73,"Unexpected Exception during onComplete - "+(0,y.eU)(we))}}),ne=[])}return Le}a(ie,"_moveNext");function G(Le,ue,Y){ue===void 0&&(ue={}),Y===void 0&&(Y=0);var we;if(L){var Oe=L[O.Zh];Oe&&Le&&(we=Oe[Le])}if(!we)we=ue;else if((0,w.Kn)(ue)&&Y!==0){var De=(0,w.mm)(!0,ue,we);L&&Y===2&&(0,w.rW)(ue,function(ee){if((0,w.le)(De[ee])){var ct=L[ee];(0,w.le)(ct)||(De[ee]=ct)}}),we=De}return we}a(G,"_getExtCfg");function me(Le,ue,Y){Y===void 0&&(Y=!1);var we,Oe=G(Le,null);return Oe&&!(0,w.le)(Oe[ue])?we=Oe[ue]:L&&!(0,w.le)(L[ue])&&(we=L[ue]),(0,w.le)(we)?Y:we}a(me,"_getConfig");function Ue(Le){for(var ue;ue=le._next();){var Y=ue[v.TO]();Y&&Le(Y)}}return a(Ue,"_iterateChain"),le}a(I,"_createInternalContext");function q(R,L,j,X){var re=I(R,L,j,X),ne=re.ctx;function le(ie){var G=re._next();return G&&G[O.hL](ie,ne),!G}a(le,"_processNext");function Ce(ie,G){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=N(ie,L,j,G)),q(ie||ne[v.W2](),L,j,G)}return a(Ce,"_createNew"),ne[v.uL]=le,ne[v.zV]=Ce,ne}a(q,"createProcessTelemetryContext");function K(R,L,j){var X=L[v.TC]||{},re=I(R,X,L,j),ne=re.ctx;function le(ie){var G=re._next();return G&&G.unload(ne,ie),!G}a(le,"_processNext");function Ce(ie,G){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=N(ie,X,L,G)),K(ie||ne[v.W2](),L,G)}return a(Ce,"_createNew"),ne[v.uL]=le,ne[v.zV]=Ce,ne}a(K,"createProcessTelemetryUnloadContext");function se(R,L,j){var X=L[v.TC]||{},re=I(R,X,L,j),ne=re.ctx;function le(ie){return ne.iterate(function(G){(0,w.mf)(G[v.Tu])&&G[v.Tu](ne,ie)})}a(le,"_processNext");function Ce(ie,G){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=N(ie,X,L,G)),se(ie||ne[v.W2](),L,G)}return a(Ce,"_createNew"),ne[v.uL]=le,ne[v.zV]=Ce,ne}a(se,"createProcessTelemetryUpdateContext");function N(R,L,j,X){var re=null,ne=!X;if((0,w.kJ)(R)&&R[v.R5]>0){var le=null;(0,w.tO)(R,function(Ce){if(!ne&&X===Ce&&(ne=!0),ne&&Ce&&(0,w.mf)(Ce[O.hL])){var ie=z(Ce,L,j);re||(re=ie),le&&le._setNext(ie),le=ie}})}return X&&!re?N([X],L,j):re}a(N,"createTelemetryProxyChain");function z(R,L,j){var X=null,re=(0,w.mf)(R[O.hL]),ne=(0,w.mf)(R[v.Jd]),le;R?le=R[v.pZ]+"-"+R[O.yi]+"-"+x++:le="Unknown-0-"+x++;var Ce={getPlugin:function(){return R},getNext:function(){return X},processTelemetry:me,unload:Ue,update:Le,_id:le,_setNext:function(ue){X=ue}};function ie(){var ue;return R&&(0,w.mf)(R[_])&&(ue=R[_]()),ue||(ue=q(Ce,L,j)),ue}a(ie,"_getTelCtx");function G(ue,Y,we,Oe,De){var ee=!1,ct=R?R[v.pZ]:E,qe=ue[S];return qe||(qe=ue[S]={}),ue.setNext(X),R&&(0,C.Lm)(ue[O.oV](),function(){return ct+":"+we},function(){qe[le]=!0;try{var Ze=X?X._id:O.qS;Ze&&(qe[Ze]=!1),ee=Y(ue)}catch(te){var Z=X?qe[X._id]:!0;Z&&(ee=!0),(!X||!Z)&&(0,p.kP)(ue[v.mc](),1,73,"Plugin ["+ct+"] failed during "+we+" - "+(0,y.eU)(te)+", run flags: "+(0,y.eU)(qe))}},Oe,De),ee}a(G,"_processChain");function me(ue,Y){Y=Y||ie();function we(Oe){if(!R||!re)return!1;var De=(0,f.OY)(R);return De[v.fi]||De[O.mE]?!1:(ne&&R[v.Jd](X),R[O.hL](ue,Oe),!0)}a(we,"_callProcessTelemetry"),G(Y,we,"processTelemetry",function(){return{item:ue}},!ue.sync)||Y[v.uL](ue)}a(me,"_processTelemetry");function Ue(ue,Y){function we(){var Oe=!1;if(R){var De=(0,f.OY)(R),ee=R[O.oV]||De[O.oV];R&&(!ee||ee===ue.core())&&!De[v.fi]&&(De[O.oV]=null,De[v.fi]=!0,De[v.yl]=!1,R[v.fi]&&R[v.fi](ue,Y)===!0&&(Oe=!0))}return Oe}a(we,"_callTeardown"),G(ue,we,"unload",function(){},Y[v.d])||ue[v.uL](Y)}a(Ue,"_unloadPlugin");function Le(ue,Y){function we(){var Oe=!1;if(R){var De=(0,f.OY)(R),ee=R[O.oV]||De[O.oV];R&&(!ee||ee===ue.core())&&!De[v.fi]&&R[v.Tu]&&R[v.Tu](ue,Y)===!0&&(Oe=!0)}return Oe}a(we,"_callUpdate"),G(ue,we,"update",function(){},!1)||ue[v.uL](Y)}return a(Le,"_updatePlugin"),(0,w.FL)(Ce)}a(z,"createTelemetryPluginProxy");var $=function(){function R(L,j,X,re){var ne=this,le=q(L,j,X,re);(0,w.Vb)(ne,le,(0,w.FY)(le))}return a(R,"ProcessTelemetryContext"),R}()},4878:(fe,c,b)=>{"use strict";b.d(c,{az:()=>B,_l:()=>I,CN:()=>q,F6:()=>K,pZ:()=>se});var v=b(8096),p=b(7630),y=b(6708),w=b(6041),O=4294967296,C=4294967295,f=!1,E=123456789,S=987654321;function _(N){N<0&&(N>>>=0),E=123456789+N&C,S=987654321-N&C,f=!0}a(_,"_mwcSeed");function x(){try{var N=(0,y.m6)()&2147483647;_((Math.random()*O^N)+N)}catch(z){}}a(x,"_autoSeedMwc");function B(N){return N>0?Math.floor(I()/C*(N+1))>>>0:0}a(B,"randomValue");function I(N){var z=0,$=(0,p.MX)()||(0,p.gz)();return $&&$.getRandomValues&&(z=$.getRandomValues(new Uint32Array(1))[0]&C),z===0&&(0,p.w1)()&&(f||x(),z=K()&C),z===0&&(z=Math.floor(O*Math.random()|0)),N||(z>>>=0),z}a(I,"random32");function q(N){N?_(N):x()}a(q,"mwcRandomSeed");function K(N){S=36969*(S&65535)+(S>>16)&C,E=18e3*(E&65535)+(E>>16)&C;var z=(S<<16)+(E&65535)>>>0&C|0;return N||(z>>>=0),z}a(K,"mwcRandom32");function se(N){N===void 0&&(N=22);for(var z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=I()>>>0,R=0,L=w.qS;L[v.R5]<N;)R++,L+=z.charAt($&63),$>>>=6,R===5&&($=(I()<<2&4294967295|$&3)>>>0,R=0);return L}a(se,"newId")},3833:(fe,c,b)=>{"use strict";b.d(c,{OY:()=>f,bP:()=>E,AA:()=>S,Yn:()=>x});var v=b(8096),p=b(5883),y=b(6708),w=b(6041),O=b(4206),C=(0,p.K)("plugin");function f(B){return C.get(B,"state",{},!0)}a(f,"_getPluginState");function E(B,I){for(var q=[],K=null,se=B[v.W2](),N;se;){var z=se[v.TO]();if(z){K&&(0,y.mf)(K[v.Jd])&&(0,y.mf)(z[w.hL])&&K[v.Jd](z);var $=!1;(0,y.mf)(z[v.yl])?$=z[v.yl]():(N=f(z),$=N[v.yl]),$||q[v.MW](z),K=z,se=se[v.W2]()}}(0,y.tO)(q,function(R){var L=B[w.oV]();R[v.VL](B.getCfg(),L,I,B[v.W2]()),N=f(R),!R[w.oV]&&!N[w.oV]&&(N[w.oV]=L),N[v.yl]=!0,delete N[v.fi]})}a(E,"initializePlugins");function S(B){return B.sort(function(I,q){var K=0;if(q){var se=(0,y.mf)(q[w.hL]);(0,y.mf)(I[w.hL])?K=se?I[w.yi]-q[w.yi]:1:se&&(K=-1)}else K=I?1:-1;return K})}a(S,"sortPlugins");function _(B,I,q,K){var se=0;function N(){for(;se<B[_DYN_LENGTH];){var z=B[se++];if(z){var $=z._doUnload||z[_DYN__DO_TEARDOWN];if(isFunction($)&&$[_DYN_CALL](z,I,q,N)===!0)return!0}}}return a(N,"_doUnload"),N()}a(_,"unloadComponents");function x(B){var I={};return{getName:function(){return I[v.I]},setName:function(q){B&&B.setName(q),I[v.I]=q},getTraceId:function(){return I[v.nY]},setTraceId:function(q){B&&B.setTraceId(q),(0,O.jN)(q)&&(I[v.nY]=q)},getSpanId:function(){return I[v._d]},setSpanId:function(q){B&&B.setSpanId(q),(0,O.Lc)(q)&&(I[v._d]=q)},getTraceFlags:function(){return I[v.T0]},setTraceFlags:function(q){B&&B.setTraceFlags(q),I[v.T0]=q}}}a(x,"createDistributedTraceContext")},310:(fe,c,b)=>{"use strict";b.d(c,{Y:()=>O});var v=b(8096),p=b(5018),y=b(7630),w=b(6708);function O(){var C=[];function f(S){S&&C[v.MW](S)}a(f,"_addHandler");function E(S,_){(0,w.tO)(C,function(x){try{x(S,_)}catch(B){(0,p.kP)(S[v.mc](),2,73,"Unexpected error calling unload handler - "+(0,y.eU)(B))}}),C=[]}return a(E,"_runHandlers"),{add:f,run:E}}a(O,"createUnloadHandlerContainer")},4206:(fe,c,b)=>{"use strict";b.d(c,{SU:()=>q,j_:()=>K,jN:()=>se,Lc:()=>N,J6:()=>z,Pn:()=>$,aR:()=>R,lq:()=>L});var v=b(8096),p=b(5843),y=b(7630),w=b(6708),O=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,C="00",f="ff",E="00000000000000000000000000000000",S="0000000000000000",_=1;function x(j,X,re){return j&&j[v.R5]===X&&j!==re?!!j.match(/^[\da-f]*$/):!1}a(x,"_isValid");function B(j,X,re){return x(j,X)?j:re}a(B,"_formatValue");function I(j){(isNaN(j)||j<0||j>255)&&(j=1);for(var X=j.toString(16);X[v.R5]<2;)X="0"+X;return X}a(I,"_formatFlags");function q(j,X,re,ne){var le;return le={},le[v.PA]=x(ne,2,f)?ne:C,le[v.nY]=se(j)?j:(0,p.DO)(),le.spanId=N(X)?X:(0,p.DO)()[v.Jn](0,16),le.traceFlags=re>=0&&re<=255?re:1,le}a(q,"createTraceParent");function K(j){var X;if(!j||((0,w.kJ)(j)&&(j=j[0]||""),!j||!(0,w.HD)(j)||j[v.R5]>8192))return null;var re=O.exec((0,w.nd)(j));return!re||re[1]===f||re[2]===E||re[3]===S?null:(X={},X[v.PA]=re[1],X[v.nY]=re[2],X[v._d]=re[3],X[v.T0]=parseInt(re[4],16),X)}a(K,"parseTraceParent");function se(j){return x(j,32,E)}a(se,"isValidTraceId");function N(j){return x(j,16,S)}a(N,"isValidSpanId");function z(j){return!(!j||!x(j[v.PA],2,f)||!x(j[v.nY],32,E)||!x(j[v._d],16,S)||!x(I(j[v.T0]),2))}a(z,"isValidTraceParent");function $(j){return z(j)?(j[v.T0]&_)===_:!1}a($,"isSampledFlag");function R(j){if(j){var X=I(j[v.T0]);x(X,2)||(X="01");var re=j[v.PA]||C;return re!=="00"&&re!=="ff"&&(re=C),"".concat(re,"-").concat(B(j.traceId,32,E),"-").concat(B(j.spanId,16,S),"-").concat(X)}return""}a(R,"formatTraceParent");function L(){var j="traceparent",X=K((0,y.ed)(j));return X||(X=K((0,y.pI)(j))),X}a(L,"findW3cTraceParent")},8096:(fe,c,b)=>{"use strict";b.d(c,{VL:()=>v,I:()=>p,tb:()=>y,pZ:()=>w,MW:()=>O,yl:()=>C,TC:()=>f,p$:()=>E,eZ:()=>S,R5:()=>_,Z_:()=>x,uL:()=>B,SD:()=>I,g:()=>q,n7:()=>K,LS:()=>se,Fc:()=>N,TO:()=>z,kL:()=>$,iC:()=>R,cb:()=>L,fi:()=>j,Gc:()=>X,gU:()=>re,d:()=>ne,F3:()=>le,Tu:()=>Ce,W2:()=>ie,mc:()=>G,Jd:()=>me,zV:()=>Ue,Lk:()=>Le,ou:()=>ue,zc:()=>Y,qV:()=>we,w6:()=>Oe,$h:()=>De,Jn:()=>ee,xv:()=>ct,ZV:()=>qe,i7:()=>Ze,Fr:()=>Z,jk:()=>te,T1:()=>ae,_S:()=>_e,P6:()=>Ge,Kn:()=>lt,dE:()=>Se,PL:()=>Re,T:()=>Te,wu:()=>xe,Km:()=>ke,nY:()=>ve,_d:()=>ft,T0:()=>We,PA:()=>U});var v="initialize",p="name",y="getNotifyMgr",w="identifier",O="push",C="isInitialized",f="config",E="instrumentationKey",S="logger",_="length",x="time",B="processNext",I="getProcessTelContext",q="addNotificationListener",K="removeNotificationListener",se="stopPollingInternalLogs",N="onComplete",z="getPlugin",$="flush",R="_extensions",L="splice",j="teardown",X="messageId",re="message",ne="isAsync",le="_doTeardown",Ce="update",ie="getNext",G="diagLog",me="setNextPlugin",Ue="createNew",Le="cookieCfg",ue="indexOf",Y="substring",we="userAgent",Oe="split",De="setEnabled",ee="substr",ct="nodeType",qe="apply",Ze="replace",Z="enableDebugExceptions",te="logInternalMessage",ae="toLowerCase",_e="call",Ge="type",lt="handler",Se="listeners",Re="isChildEvt",Te="getCtx",xe="setCtx",ke="complete",ve="traceId",ft="spanId",We="traceFlags",U="version"},4392:(fe,c,b)=>{"use strict";b.d(c,{cb:()=>v,fK:()=>p,jA:()=>y,hB:()=>w,bO:()=>O,Pw:()=>f,V4:()=>E,rl:()=>S,yu:()=>_,RJ:()=>x,CY:()=>B});var v="function",p="object",y="undefined",w="prototype",O="hasOwnProperty",C="default",f=Object,E=f[w],S=f.assign,_=f.create,x=f.defineProperty,B=E[O]},2091:(fe,c,b)=>{"use strict";b.d(c,{Rd:()=>y,ZU:()=>w,pu:()=>O});var v=b(4392),p=null;function y(C){C===void 0&&(C=!0);var f=C===!1?null:p;return f||(typeof globalThis!==v.jA&&(f=globalThis),!f&&typeof self!==v.jA&&(f=self),!f&&typeof window!==v.jA&&(f=window),!f&&typeof b.g!==v.jA&&(f=b.g),p=f),f}a(y,"getGlobal");function w(C){throw new TypeError(C)}a(w,"throwTypeError");function O(C){var f=v.yu;if(f)return f(C);if(C==null)return{};var E=typeof C;E!==v.fK&&E!==v.cb&&w("Object prototype may only be an Object:"+C);function S(){}return a(S,"tmpFunc"),S[v.hB]=C,new S}a(O,"objCreateFn")},1088:(fe,c,b)=>{"use strict";b.d(c,{uc:()=>B,ne:()=>q,$h:()=>re});var v=b(4392),p=b(2091),y=((0,p.Rd)()||{}).Symbol,w=((0,p.Rd)()||{}).Reflect,O=!!y,C=!!w,f="decorate",E="metadata",S="getOwnPropertySymbols",_="iterator",x=a(function(ie){for(var G,me=1,Ue=arguments.length;me<Ue;me++){G=arguments[me];for(var Le in G)v.V4[v.bO].call(G,Le)&&(ie[Le]=G[Le])}return ie},"__objAssignFnImpl"),B=v.rl||x,I=a(function(ie,G){return I=v.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,Ue){me.__proto__=Ue}||function(me,Ue){for(var Le in Ue)Ue[v.bO](Le)&&(me[Le]=Ue[Le])},I(ie,G)},"extendStaticsFn");function q(ie,G){typeof G!==v.cb&&G!==null&&(0,p.ZU)("Class extends value "+String(G)+" is not a constructor or null"),I(ie,G);function me(){this.constructor=ie}a(me,"__"),ie[v.hB]=G===null?(0,p.pu)(G):(me[v.hB]=G[v.hB],new me)}a(q,"__extendsFn");function K(ie,G){var me={};for(var Ue in ie)ObjHasOwnProperty.call(ie,Ue)&&G.indexOf(Ue)<0&&(me[Ue]=ie[Ue]);if(ie!=null&&typeof ObjClass[S]===strShimFunction)for(var Le=0,ue=ObjClass[S](ie);Le<ue.length;Le++)G.indexOf(ue[Le])<0&&ObjProto.propertyIsEnumerable.call(ie,ue[Le])&&(me[ue[Le]]=ie[ue[Le]]);return me}a(K,"__restFn");function se(ie,G,me,Ue){var Le=arguments.length,ue=Le<3?G:Ue===null?Ue=ObjClass.getOwnPropertyDescriptor(G,me):Ue,Y;if(C&&typeof w[f]===strShimFunction)ue=w[f](ie,G,me,Ue);else for(var we=ie.length-1;we>=0;we--)(Y=ie[we])&&(ue=(Le<3?Y(ue):Le>3?Y(G,me,ue):Y(G,me))||ue);return Le>3&&ue&&ObjDefineProperty(G,me,ue),ue}a(se,"__decorateFn");function N(ie,G){return function(me,Ue){G(me,Ue,ie)}}a(N,"__paramFn");function z(ie,G){if(C&&w[E]===strShimFunction)return w[E](ie,G)}a(z,"__metadataFn");function $(ie,G){for(var me in ie)me!==strDefault&&!ObjHasOwnProperty.call(G,me)&&R(G,ie,me)}a($,"__exportStarFn");function R(ie,G,me,Ue){Ue===void 0&&(Ue=me),ObjCreate?ObjDefineProperty(ie,Ue,{enumerable:!0,get:function(){return G[me]}}):ie[Ue]=G[me]}a(R,"__createBindingFn");function L(ie){var G=typeof y===strShimFunction&&y[_],me=G&&ie[G],Ue=0;if(me)return me.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&Ue>=ie.length&&(ie=void 0),{value:ie&&ie[Ue++],done:!ie}}};throwTypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}a(L,"__valuesFn");function j(ie,G){var me=typeof y===strShimFunction&&ie[y[_]];if(!me)return ie;var Ue=me.call(ie),Le,ue=[],Y;try{for(;(G===void 0||G-- >0)&&!(Le=Ue.next()).done;)ue.push(Le.value)}catch(we){Y={error:we}}finally{try{Le&&!Le.done&&(me=Ue.return)&&me.call(Ue)}finally{if(Y)throw Y.error}}return ue}a(j,"__readFn");function X(){for(var ie=arguments,G=0,me=0,Ue=ie.length;me<Ue;me++)G+=ie[me].length;for(var Le=Array(G),ue=0,me=0;me<Ue;me++)for(var Y=ie[me],we=0,Oe=Y.length;we<Oe;we++,ue++)Le[ue]=Y[we];return Le}a(X,"__spreadArraysFn");function re(ie,G){for(var me=0,Ue=G.length,Le=ie.length;me<Ue;me++,Le++)ie[Le]=G[me];return ie}a(re,"__spreadArrayFn");function ne(ie,G){return ObjDefineProperty?ObjDefineProperty(ie,"raw",{value:G}):ie.raw=G,ie}a(ne,"__makeTemplateObjectFn");function le(ie){if(ie&&ie.__esModule)return ie;var G={};if(ie!=null)for(var me in ie)me!==strDefault&&Object.prototype.hasOwnProperty.call(ie,me)&&R(G,ie,me);return ObjCreate?ObjDefineProperty(G,strDefault,{enumerable:!0,value:ie}):G[strDefault]=ie,G}a(le,"__importStarFn");function Ce(ie){return ie&&ie.__esModule?ie:{strDefault:ie}}a(Ce,"__importDefaultFn")},5783:(fe,c,b)=>{"use strict";b.r(c),b.d(c,{AppInsightsCore:()=>Co.F,ApplicationInsights:()=>ps,CoreUtils:()=>tr.Tr,Sender:()=>Pa,SeverityLevel:()=>sl,_InternalMessageId:()=>ol.v,arrForEach:()=>U.tO,isNullOrUndefined:()=>U.le,proxyFunctions:()=>U.Vb,throwError:()=>U._y});var v=b(1679),p=b(1088),y="AppInsightsPropertiesPlugin",w="AppInsightsChannelPlugin",O="ApplicationInsightsAnalytics",C="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",f="sampleRate",E="ProcessLegacy",S="http.method",_="https://dc.services.visualstudio.com",x="/v2/track",B="not_specified",I="iKey",q="split",K="length",se="toLowerCase",N="ingestionendpoint",z="toString",$="removeItem",R="name",L="message",j="count",X="preTriggerDate",re="disabled",ne="date",le="getUTCDate",Ce="maxTimesPerMonth",ie="stringify",G="pathname",me="correlationHeaderExcludePatterns",Ue="indexOf",Le="extensionConfig",ue="exceptions",Y="parsedStack",we="properties",Oe="measurements",De="sizeInBytes",ee="typeName",ct="severityLevel",qe="problemGroup",Ze="isManual",Z="CreateFromInterface",te="hasFullStack",ae="level",_e="method",Ge="assembly",lt="fileName",Se="line",Re="duration",Te="receivedResponse",xe="substring",ke="sanitizeKeyAndAddUniqueness",ve="sanitizeException",ft="sanitizeProperties",We="sanitizeMeasurements",U=b(6708),J=b(5018),ge=b(7630),Qe;function ut(M,T,H){var V=T[K],Ee=wt(M,T);if(Ee[K]!==V){for(var Fe=0,ze=Ee;H[ze]!==void 0;)Fe++,ze=Ee[xe](0,150-3)+st(Fe);Ee=ze}return Ee}a(ut,"dataSanitizeKeyAndAddUniqueness");function wt(M,T){var H;return T&&(T=(0,U.nd)(T[z]()),T[K]>150&&(H=T[xe](0,150),(0,J.kP)(M,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:T},!0))),H||T}a(wt,"dataSanitizeKey");function ot(M,T,H){H===void 0&&(H=1024);var V;return T&&(H=H||1024,T=(0,U.nd)(T),T.toString()[K]>H&&(V=T[z]()[xe](0,H),(0,J.kP)(M,2,61,"string value is too long. It has been truncated to "+H+" characters.",{value:T},!0))),V||T}a(ot,"dataSanitizeString");function D(M,T){return he(M,T,2048,66)}a(D,"dataSanitizeUrl");function h(M,T){var H;return T&&T[K]>32768&&(H=T[xe](0,32768),(0,J.kP)(M,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:T},!0)),H||T}a(h,"dataSanitizeMessage");function m(M,T){var H;if(T){var V=""+T;V[K]>32768&&(H=V[xe](0,32768),(0,J.kP)(M,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:T},!0))}return H||T}a(m,"dataSanitizeException");function Q(M,T){if(T){var H={};(0,U.rW)(T,function(V,Ee){if((0,U.Kn)(Ee)&&(0,ge.nS)())try{Ee=(0,ge.xA)()[ie](Ee)}catch(Fe){(0,J.kP)(M,2,49,"custom property is not valid",{exception:Fe},!0)}Ee=ot(M,Ee,8192),V=ut(M,V,H),H[V]=Ee}),T=H}return T}a(Q,"dataSanitizeProperties");function de(M,T){if(T){var H={};(0,U.rW)(T,function(V,Ee){V=ut(M,V,H),H[V]=Ee}),T=H}return T}a(de,"dataSanitizeMeasurements");function Ne(M,T){return T&&he(M,T,128,69)[z]()}a(Ne,"dataSanitizeId");function he(M,T,H,V){var Ee;return T&&(T=(0,U.nd)(T),T[K]>H&&(Ee=T[xe](0,H),(0,J.kP)(M,2,V,"input is too long, it has been truncated to "+H+" characters.",{data:T},!0))),Ee||T}a(he,"dataSanitizeInput");function st(M){var T="00"+M;return T.substr(T[K]-3)}a(st,"dsPadNumber");var Ot=(Qe={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Qe[ke]=ut,Qe.sanitizeKey=wt,Qe.sanitizeString=ot,Qe.sanitizeUrl=D,Qe.sanitizeMessage=h,Qe[ve]=m,Qe[ft]=Q,Qe[We]=de,Qe.sanitizeId=Ne,Qe.sanitizeInput=he,Qe.padNumber=st,Qe.trim=U.nd,Qe),vt=function(){function M(T,H,V,Ee){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Fe=this;Fe.ver=2,Fe[R]=ot(T,H)||B,Fe[we]=Q(T,V),Fe[Oe]=de(T,Ee)}return a(M,"Event"),M.envelopeType="Microsoft.ApplicationInsights.{0}.Event",M.dataType="EventData",M}(),kt=function(){function M(T,H,V,Ee,Fe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ze=this;ze.ver=2,H=H||B,ze[L]=h(T,H),ze[we]=Q(T,Ee),ze[Oe]=de(T,Fe),V&&(ze[ct]=V)}return a(M,"Trace"),M.envelopeType="Microsoft.ApplicationInsights.{0}.Message",M.dataType="MessageData",M}(),nt="";function Jt(M,T){return T===void 0&&(T=!1),M==null?T:M.toString()[se]()==="true"}a(Jt,"stringToBoolOrDefault");function ar(M){(isNaN(M)||M<0)&&(M=0),M=Math.round(M);var T=nt+M%1e3,H=nt+Math.floor(M/1e3)%60,V=nt+Math.floor(M/(1e3*60))%60,Ee=nt+Math.floor(M/(1e3*60*60))%24,Fe=Math.floor(M/(1e3*60*60*24));return T=T[K]===1?"00"+T:T[K]===2?"0"+T:T,H=H[K]<2?"0"+H:H,V=V[K]<2?"0"+V:V,Ee=Ee[K]<2?"0"+Ee:Ee,(Fe>0?Fe+".":nt)+Ee+":"+V+":"+H+"."+T}a(ar,"msToTimeSpan");function Qt(M,T){var H=null;return(0,U.tO)(M,function(V){if(V.identifier===T)return H=V,-1}),H}a(Qt,"getExtensionByName");function Gt(M,T,H,V,Ee){return!Ee&&(0,U.HD)(M)&&(M==="Script error."||M==="Script error")}a(Gt,"isCrossOriginError");var yr=function(){function M(T,H,V,Ee,Fe,ze,Ve){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var bt=this;bt.ver=2,bt.id=Ne(T,Ve),bt.url=D(T,V),bt[R]=ot(T,H)||B,isNaN(Ee)||(bt[Re]=ar(Ee)),bt[we]=Q(T,Fe),bt[Oe]=de(T,ze)}return a(M,"PageView"),M.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",M.dataType="PageviewData",M}(),Ir=function(){function M(T,H,V,Ee,Fe,ze,Ve){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var bt=this;bt.ver=2,bt.url=D(T,V),bt[R]=ot(T,H)||B,bt[we]=Q(T,Fe),bt[Oe]=de(T,ze),Ve&&(bt.domProcessing=Ve.domProcessing,bt[Re]=Ve[Re],bt.networkConnect=Ve.networkConnect,bt.perfTotal=Ve.perfTotal,bt[Te]=Ve[Te],bt.sentRequest=Ve.sentRequest)}return a(M,"PageViewPerformance"),M.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",M.dataType="PageviewPerformanceData",M}(),bn="<no_method>",Xr="error",Or="stack",Ln="stackDetails",pn="errorSrc",qn="message",In="description";function Tn(M,T){var H=M;return H&&!(0,U.HD)(H)&&(JSON&&JSON[ie]?(H=JSON[ie](M),T&&(!H||H==="{}")&&((0,U.mf)(M[z])?H=M[z]():H=""+M)):H=""+M+" - (Missing JSON.stringify)"),H||""}a(Tn,"_stringify");function Mn(M,T){var H=M;return M&&(H&&!(0,U.HD)(H)&&(H=M[qn]||M[In]||H),H&&!(0,U.HD)(H)&&(H=Tn(H,!0)),M.filename&&(H=H+" @"+(M.filename||"")+":"+(M.lineno||"?")+":"+(M.colno||"?"))),T&&T!=="String"&&T!=="Object"&&T!=="Error"&&(H||"")[Ue](T)===-1&&(H=T+": "+H),H||""}a(Mn,"_formatMessage");function ce(M){try{if((0,U.Kn)(M))return"hasFullStack"in M&&"typeName"in M}catch(T){}return!1}a(ce,"_isExceptionDetailsInternal");function Je(M){try{if((0,U.Kn)(M))return"ver"in M&&"exceptions"in M&&"properties"in M}catch(T){}return!1}a(Je,"_isExceptionInternal");function pt(M){return M&&M.src&&(0,U.HD)(M.src)&&M.obj&&(0,U.kJ)(M.obj)}a(pt,"_isStackDetails");function Ct(M){var T=M||"";(0,U.HD)(T)||((0,U.HD)(T[Or])?T=T[Or]:T=""+T);var H=T[q](`
`);return{src:T,obj:H}}a(Ct,"_convertStackObj");function Wt(M){for(var T=[],H=M[q](`
`),V=0;V<H[K];V++){var Ee=H[V];H[V+1]&&(Ee+="@"+H[V+1],V++),T.push(Ee)}return{src:M,obj:T}}a(Wt,"_getOperaStack");function Ut(M){var T=null;if(M)try{if(M[Or])T=Ct(M[Or]);else if(M[Xr]&&M[Xr][Or])T=Ct(M[Xr][Or]);else if(M.exception&&M.exception[Or])T=Ct(M.exception[Or]);else if(pt(M))T=M;else if(pt(M[Ln]))T=M[Ln];else if(window&&window.opera&&M[qn])T=Wt(M[L]);else if(M.reason&&M.reason[Or])T=Ct(M.reason[Or]);else if((0,U.HD)(M))T=Ct(M);else{var H=M[qn]||M[In]||"";(0,U.HD)(M[pn])&&(H&&(H+=`
`),H+=" from "+M[pn]),H&&(T=Ct(H))}}catch(V){T=Ct(V)}return T||{src:"",obj:null}}a(Ut,"_getStackFromErrorObj");function Pr(M){var T="";return M&&(M.obj?(0,U.tO)(M.obj,function(H){T+=H+`
`}):T=M.src||""),T}a(Pr,"_formatStackTrace");function Nr(M){var T,H=M.obj;if(H&&H[K]>0){T=[];var V=0,Ee=0;(0,U.tO)(H,function(dr){var lr=dr[z]();if(Xt.regex.test(lr)){var je=new Xt(lr,V++);Ee+=je[De],T.push(je)}});var Fe=32*1024;if(Ee>Fe)for(var ze=0,Ve=T[K]-1,bt=0,St=ze,It=Ve;ze<Ve;){var Vt=T[ze][De],ir=T[Ve][De];if(bt+=Vt+ir,bt>Fe){var Zt=It-St+1;T.splice(St,Zt);break}St=ze,It=Ve,ze++,Ve--}}return T}a(Nr,"_parseStack");function Tt(M){var T="";if(M&&(T=M.typeName||M[R]||"",!T))try{var H=/function (.{1,200})\(/,V=H.exec(M.constructor[z]());T=V&&V[K]>1?V[1]:""}catch(Ee){}return T}a(Tt,"_getErrorType");function Rt(M){if(M)try{if(!(0,U.HD)(M)){var T=Tt(M),H=Tn(M,!1);return(!H||H==="{}")&&(M[Xr]&&(M=M[Xr],T=Tt(M)),H=Tn(M,!0)),H[Ue](T)!==0&&T!=="String"?T+":"+H:H}}catch(V){}return""+(M||"")}a(Rt,"_formatErrorCode");var $t=function(){function M(T,H,V,Ee,Fe,ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Ve=this;Ve.ver=2,Je(H)?(Ve[ue]=H[ue]||[],Ve[we]=H[we],Ve[Oe]=H[Oe],H[ct]&&(Ve[ct]=H[ct]),H.id&&(Ve.id=H.id),H[qe]&&(Ve[qe]=H[qe]),(0,U.le)(H[Ze])||(Ve[Ze]=H[Ze])):(V||(V={}),Ve[ue]=[new _t(T,H,V)],Ve[we]=Q(T,V),Ve[Oe]=de(T,Ee),Fe&&(Ve[ct]=Fe),ze&&(Ve.id=ze))}return a(M,"Exception"),M.CreateAutoException=function(T,H,V,Ee,Fe,ze,Ve,bt){var St,It=Tt(Fe||ze||T);return St={},St[L]=Mn(T,It),St.url=H,St.lineNumber=V,St.columnNumber=Ee,St.error=Rt(Fe||ze||T),St.evt=Rt(ze||T),St[ee]=It,St.stackDetails=Ut(Ve||Fe||ze),St.errorSrc=bt,St},M.CreateFromInterface=function(T,H,V,Ee){var Fe=H[ue]&&(0,U.Mr)(H[ue],function(Ve){return _t[Z](T,Ve)}),ze=new M(T,(0,p.uc)((0,p.uc)({},H),{exceptions:Fe}),V,Ee);return ze},M.prototype.toInterface=function(){var T,H=this,V=H.exceptions,Ee=H.properties,Fe=H.measurements,ze=H.severityLevel,Ve=H.problemGroup,bt=H.id,St=H.isManual,It=V instanceof Array&&(0,U.Mr)(V,function(Vt){return Vt.toInterface()})||void 0;return T={ver:"4.0"},T[ue]=It,T.severityLevel=ze,T.properties=Ee,T.measurements=Fe,T.problemGroup=Ve,T.id=bt,T.isManual=St,T},M.CreateSimpleException=function(T,H,V,Ee,Fe,ze){var Ve;return{exceptions:[(Ve={},Ve[te]=!0,Ve.message=T,Ve.stack=Fe,Ve.typeName=H,Ve)]}},M.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",M.dataType="ExceptionData",M.formatError=Rt,M}(),_t=function(){function M(T,H,V){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var Ee=this;if(ce(H))Ee[ee]=H[ee],Ee[L]=H[L],Ee[Or]=H[Or],Ee[Y]=H[Y]||[],Ee[te]=H[te];else{var Fe=H,ze=Fe&&Fe.evt;(0,U.VZ)(Fe)||(Fe=Fe[Xr]||ze||Fe),Ee[ee]=ot(T,Tt(Fe))||B,Ee[L]=h(T,Mn(H||Fe,Ee[ee]))||B;var Ve=H[Ln]||Ut(H);Ee[Y]=Nr(Ve),Ee[Or]=m(T,Pr(Ve)),Ee.hasFullStack=(0,U.kJ)(Ee.parsedStack)&&Ee.parsedStack[K]>0,V&&(V[ee]=V[ee]||Ee[ee])}}return a(M,"_ExceptionDetails"),M.prototype.toInterface=function(){var T,H=this,V=H[Y]instanceof Array&&(0,U.Mr)(H[Y],function(Fe){return Fe.toInterface()}),Ee=(T={id:H.id,outerId:H.outerId,typeName:H[ee],message:H[L],hasFullStack:H[te],stack:H[Or]},T[Y]=V||void 0,T);return Ee},M.CreateFromInterface=function(T,H){var V=H[Y]instanceof Array&&(0,U.Mr)(H[Y],function(Fe){return Xt[Z](Fe)})||H[Y],Ee=new M(T,(0,p.uc)((0,p.uc)({},H),{parsedStack:V}));return Ee},M}(),Xt=function(){function M(T,H){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var V=this;if(V[De]=0,typeof T=="string"){var Ee=T;V[ae]=H,V[_e]=bn,V[Ge]=(0,U.nd)(Ee),V[lt]="",V[Se]=0;var Fe=Ee.match(M.regex);Fe&&Fe[K]>=5&&(V[_e]=(0,U.nd)(Fe[2])||V[_e],V[lt]=(0,U.nd)(Fe[4]),V[Se]=parseInt(Fe[5])||0)}else V[ae]=T[ae],V[_e]=T[_e],V[Ge]=T[Ge],V[lt]=T[lt],V[Se]=T[Se],V[De]=0;V.sizeInBytes+=V.method[K],V.sizeInBytes+=V.fileName[K],V.sizeInBytes+=V.assembly[K],V[De]+=M.baseSize,V.sizeInBytes+=V.level.toString()[K],V.sizeInBytes+=V.line.toString()[K]}return a(M,"_StackFrame"),M.CreateFromInterface=function(T){return new M(T,null)},M.prototype.toInterface=function(){var T=this;return{level:T[ae],method:T[_e],assembly:T[Ge],fileName:T[lt],line:T[Se]}},M.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,M.baseSize=58,M}(),zt=function(){function M(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(M,"DataPoint"),M}(),Et=function(){function M(T,H,V,Ee,Fe,ze,Ve,bt,St){this.aiDataContract={ver:1,metrics:1,properties:0};var It=this;It.ver=2;var Vt=new zt;Vt[j]=Ee>0?Ee:void 0,Vt.max=isNaN(ze)||ze===null?void 0:ze,Vt.min=isNaN(Fe)||Fe===null?void 0:Fe,Vt[R]=ot(T,H)||B,Vt.value=V,Vt.stdDev=isNaN(Ve)||Ve===null?void 0:Ve,It.metrics=[Vt],It[we]=Q(T,bt),It[Oe]=de(T,St)}return a(M,"Metric"),M.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",M.dataType="MetricData",M}(),tr=b(5843),or=b(3242),_r=b(4878),gr=b(4869);function $r(M){var T=null;if((0,U.mf)(Event))T=new Event(M);else{var H=(0,ge.Me)();H&&H.createEvent&&(T=H.createEvent("Event"),T.initEvent(M,!0,!0))}return T}a($r,"createDomEvent");var xr=b(4873),Fr=(0,xr.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),fr=b(2091),Lt=(0,xr.By)({LocalStorage:0,SessionStorage:1}),rr=(0,xr.By)({AI:0,AI_AND_W3C:1,W3C:2}),er=void 0,Er=void 0;function Kt(){return Ar()?ur(Lt.LocalStorage):null}a(Kt,"_getLocalStorageObject");function ur(M){try{if((0,U.le)((0,fr.Rd)()))return null;var T=new Date()[z](),H=(0,ge.a8)(M===Lt.LocalStorage?"localStorage":"sessionStorage");H.setItem(T,T);var V=H.getItem(T)!==T;if(H[$](T),!V)return H}catch(Ee){}return null}a(ur,"_getVerifiedStorageObject");function wr(){return Xe()?ur(Lt.SessionStorage):null}a(wr,"_getSessionStorageObject");function Dr(){er=!1,Er=!1}a(Dr,"utlDisableStorage");function nr(){er=Ar(!0),Er=Xe(!0)}a(nr,"utlEnableStorage");function Ar(M){return(M||er===void 0)&&(er=!!ur(Lt.LocalStorage)),er}a(Ar,"utlCanUseLocalStorage");function Br(M,T){var H=Kt();if(H!==null)try{return H.getItem(T)}catch(V){er=!1,(0,J.kP)(M,2,1,"Browser failed read of local storage. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return null}a(Br,"utlGetLocalStorage");function Rr(M,T,H){var V=Kt();if(V!==null)try{return V.setItem(T,H),!0}catch(Ee){er=!1,(0,J.kP)(M,2,3,"Browser failed write to local storage. "+(0,U.jj)(Ee),{exception:(0,ge.eU)(Ee)})}return!1}a(Rr,"utlSetLocalStorage");function Hr(M,T){var H=Kt();if(H!==null)try{return H[$](T),!0}catch(V){er=!1,(0,J.kP)(M,2,5,"Browser failed removal of local storage item. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return!1}a(Hr,"utlRemoveStorage");function Xe(M){return(M||Er===void 0)&&(Er=!!ur(Lt.SessionStorage)),Er}a(Xe,"utlCanUseSessionStorage");function kr(){var M=[];return Xe()&&(0,U.rW)((0,ge.a8)("sessionStorage"),function(T){M.push(T)}),M}a(kr,"utlGetSessionStorageKeys");function Yt(M,T){var H=wr();if(H!==null)try{return H.getItem(T)}catch(V){Er=!1,(0,J.kP)(M,2,2,"Browser failed read of session storage. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return null}a(Yt,"utlGetSessionStorage");function Nt(M,T,H){var V=wr();if(V!==null)try{return V.setItem(T,H),!0}catch(Ee){Er=!1,(0,J.kP)(M,2,4,"Browser failed write to session storage. "+(0,U.jj)(Ee),{exception:(0,ge.eU)(Ee)})}return!1}a(Nt,"utlSetSessionStorage");function Lr(M,T){var H=wr();if(H!==null)try{return H[$](T),!0}catch(V){Er=!1,(0,J.kP)(M,2,6,"Browser failed removal of session storage item. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return!1}a(Lr,"utlRemoveSessionStorage");var Sn=(0,ge.Me)()||{},Wr=0,tn=[null,null,null,null,null];function zr(M){var T=Wr,H=tn,V=H[T];return Sn.createElement?H[T]||(V=H[T]=Sn.createElement("a")):V={host:Vn(M,!0)},V.href=M,T++,T>=H[K]&&(T=0),Wr=T,V}a(zr,"urlParseUrl");function Bn(M){var T,H=zr(M);return H&&(T=H.href),T}a(Bn,"urlGetAbsoluteUrl");function rn(M){var T,H=zr(M);return H&&(T=H[G]),T}a(rn,"urlGetPathName");function Ur(M,T){return M?M.toUpperCase()+" "+T:T}a(Ur,"urlGetCompleteUrl");function Vn(M,T){var H=vn(M,T)||"";if(H){var V=H.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(V!=null&&V[K]>3&&(0,U.HD)(V[2])&&V[2][K]>0)return V[2]+(V[3]||"")}return H}a(Vn,"urlParseHost");function vn(M,T){var H=null;if(M){var V=M.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(V!=null&&V[K]>2&&(0,U.HD)(V[2])&&V[2][K]>0&&(H=V[2]||"",T&&V[K]>2)){var Ee=(V[1]||"")[se](),Fe=V[3]||"";(Ee==="http"&&Fe===":80"||Ee==="https"&&Fe===":443")&&(Fe=""),H+=Fe}}return H}a(vn,"urlParseFullHost");var mn=[_+x,"https://breeze.aimon.applicationinsights.io"+x,"https://dc-int.services.visualstudio.com"+x];function xn(M){return(0,U.UA)(mn,M[se]())!==-1}a(xn,"isInternalApplicationInsightsEndpoint");var _n={NotSpecified:B,createDomEvent:$r,disableStorage:Dr,isInternalApplicationInsightsEndpoint:xn,canUseLocalStorage:Ar,getStorage:Br,setStorage:Rr,removeStorage:Hr,canUseSessionStorage:Xe,getSessionStorageKeys:kr,getSessionStorage:Yt,setSessionStorage:Nt,removeSessionStorage:Lr,disableCookies:tr.oF,canUseCookies:tr.vn,disallowsSameSiteNone:or.UY,setCookie:tr.d8,stringToBoolOrDefault:Jt,getCookie:tr.ej,deleteCookie:tr.kT,trim:U.nd,newId:_r.pZ,random32:function(){return(0,_r._l)(!0)},generateW3CId:tr.DO,isArray:U.kJ,isError:U.VZ,isDate:U.J_,toISOStringForIE8:U.Y6,getIEVersion:ge.sA,msToTimeSpan:ar,isCrossOriginError:Gt,dump:ge.eU,getExceptionName:U.jj,addEventHandler:gr.pZ,IsBeaconApiSupported:ge.MF,getExtension:Qt},gi={parseUrl:zr,getAbsoluteUrl:Bn,getPathName:rn,getCompleteUrl:Ur,parseHost:Vn,parseFullHost:vn},wn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(M,T,H){if(!T||M&&M.disableCorrelationHeaders)return!1;if(M&&M[me]){for(var V=0;V<M.correlationHeaderExcludePatterns[K];V++)if(M[me][V].test(T))return!1}var Ee=zr(T).host[se]();if(Ee&&(Ee[Ue](":443")!==-1||Ee[Ue](":80")!==-1)&&(Ee=(vn(T,!0)||"")[se]()),(!M||!M.enableCorsCorrelation)&&Ee&&Ee!==H)return!1;var Fe=M&&M.correlationHeaderDomains;if(Fe){var ze;if((0,U.tO)(Fe,function(St){var It=new RegExp(St.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ze=ze||It.test(Ee)}),!ze)return!1}var Ve=M&&M.correlationHeaderExcludedDomains;if(!Ve||Ve[K]===0)return!0;for(var V=0;V<Ve[K];V++){var bt=new RegExp(Ve[V].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(bt.test(Ee))return!1}return Ee&&Ee[K]>0},getCorrelationContext:function(M){if(M){var T=wn.getCorrelationContextValue(M,Fr[1]);if(T&&T!==wn.correlationIdPrefix)return T}},getCorrelationContextValue:function(M,T){if(M)for(var H=M[q](","),V=0;V<H[K];++V){var Ee=H[V][q]("=");if(Ee[K]===2&&Ee[0]===T)return Ee[1]}}};function dn(M,T,H,V){var Ee,Fe=V,ze=V;if(T&&T[K]>0){var Ve=zr(T);if(Ee=Ve.host,!Fe)if(Ve[G]!=null){var bt=Ve.pathname[K]===0?"/":Ve[G];bt.charAt(0)!=="/"&&(bt="/"+bt),ze=Ve[G],Fe=ot(M,H?H+" "+bt:bt)}else Fe=ot(M,T)}else Ee=V,Fe=V;return{target:Ee,name:Fe,data:ze}}a(dn,"AjaxHelperParseDependencyPath");function Fn(){var M=(0,ge.r)();if(M&&M.now&&M.timing){var T=M.now()+M.timing.navigationStart;if(T>0)return T}return(0,U.m6)()}a(Fn,"dateTimeUtilsNow");function On(M,T){var H=null;return M!==0&&T!==0&&!(0,U.le)(M)&&!(0,U.le)(T)&&(H=T-M),H}a(On,"dateTimeUtilsDuration");var ni={Now:Fn,GetDuration:On};function Zn(M,T){var H=M||{};return{getName:function(){return H[_DYN_NAME]},setName:function(V){T&&T.setName(V),H[_DYN_NAME]=V},getTraceId:function(){return H.traceID},setTraceId:function(V){T&&T.setTraceId(V),isValidTraceId(V)&&(H.traceID=V)},getSpanId:function(){return H.parentID},setSpanId:function(V){T&&T.setSpanId(V),isValidSpanId(V)&&(H.parentID=V)},getTraceFlags:function(){return H.traceFlags},setTraceFlags:function(V){T&&T.setTraceFlags(V),H.traceFlags=V}}}a(Zn,"createDistributedTraceContextFromTrace");var Cn=function(){function M(T,H,V,Ee,Fe,ze,Ve,bt,St,It,Vt,ir){St===void 0&&(St="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Zt=this;Zt.ver=2,Zt.id=H,Zt[Re]=ar(Fe),Zt.success=ze,Zt.resultCode=Ve+"",Zt.type=ot(T,St);var dr=dn(T,V,bt,Ee);Zt.data=D(T,Ee)||dr.data,Zt.target=ot(T,dr.target),It&&(Zt.target="".concat(Zt.target," | ").concat(It)),Zt[R]=ot(T,dr[R]),Zt[we]=Q(T,Vt),Zt[Oe]=de(T,ir)}return a(M,"RemoteDependencyData"),M.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",M.dataType="RemoteDependencyData",M}(),Qn=b(5883),An=b(4063);function Cr(M){var T="ai."+M+".";return function(H){return T+H}}a(Cr,"_aiNameFunc");var Mr=Cr("application"),Tr=Cr("device"),Ae=Cr("location"),P=Cr("operation"),W=Cr("session"),ye=Cr("user"),Ke=Cr("cloud"),Dt=Cr("internal"),ht=function(M){(0,p.ne)(T,M);function T(){return M.call(this)||this}return a(T,"ContextTagKeys"),T}((0,U.hl)({applicationVersion:Mr("ver"),applicationBuild:Mr("build"),applicationTypeId:Mr("typeId"),applicationId:Mr("applicationId"),applicationLayer:Mr("layer"),deviceId:Tr("id"),deviceIp:Tr("ip"),deviceLanguage:Tr("language"),deviceLocale:Tr("locale"),deviceModel:Tr("model"),deviceFriendlyName:Tr("friendlyName"),deviceNetwork:Tr("network"),deviceNetworkName:Tr("networkName"),deviceOEMName:Tr("oemName"),deviceOS:Tr("os"),deviceOSVersion:Tr("osVersion"),deviceRoleInstance:Tr("roleInstance"),deviceRoleName:Tr("roleName"),deviceScreenResolution:Tr("screenResolution"),deviceType:Tr("type"),deviceMachineName:Tr("machineName"),deviceVMName:Tr("vmName"),deviceBrowser:Tr("browser"),deviceBrowserVersion:Tr("browserVersion"),locationIp:Ae("ip"),locationCountry:Ae("country"),locationProvince:Ae("province"),locationCity:Ae("city"),operationId:P("id"),operationName:P("name"),operationParentId:P("parentId"),operationRootId:P("rootId"),operationSyntheticSource:P("syntheticSource"),operationCorrelationVector:P("correlationVector"),sessionId:W("id"),sessionIsFirst:W("isFirst"),sessionIsNew:W("isNew"),userAccountAcquisitionDate:ye("accountAcquisitionDate"),userAccountId:ye("accountId"),userAgent:ye("userAgent"),userId:ye("id"),userStoreRegion:ye("storeRegion"),userAuthUserId:ye("authUserId"),userAnonymousUserAcquisitionDate:ye("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ye("authUserAcquisitionDate"),cloudName:Ke("name"),cloudRole:Ke("role"),cloudRoleVer:Ke("roleVer"),cloudRoleInstance:Ke("roleInstance"),cloudEnvironment:Ke("environment"),cloudLocation:Ke("location"),cloudDeploymentUnit:Ke("deploymentUnit"),internalNodeName:Dt("nodeName"),internalSdkVersion:Dt("sdkVersion"),internalAgentVersion:Dt("agentVersion"),internalSnippet:Dt("snippet"),internalSdkSrc:Dt("sdkSrc")})),be={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Pe=new ht,He=function(){function M(T,H,V){var Ee=this,Fe=this;Fe.ver=1,Fe.sampleRate=100,Fe.tags={},Fe[R]=ot(T,V)||B,Fe.data=H,Fe.time=(0,U.Y6)(new Date),Fe.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return Ee.sampleRate===100?4:1},tags:1,data:1}}return a(M,"Envelope"),M}(),et=function(){function M(T,H){this.aiDataContract={baseType:1,baseData:1},this.baseType=T,this.baseData=H}return a(M,"Data"),M}(),gt="duration",yt="tags",Ht="deviceType",Bt="data",qt="name",Gr="traceID",jt="length",Jr="stringify",Yr="measurements",Zr="dataType",yn="envelopeType",pi="toString",la="onLine",Wi="enqueue",xi="count",Ci="push",ua="emitLineDelimitedJson",hn="clear",zi="batchPayloads",Ti="markAsSent",ii="clearSent",Xn="BUFFER_KEY",Un="SENT_BUFFER_KEY",ca="MAX_BUFFER_SIZE",Ai="namePrefix",ji="maxBatchSizeInBytes",Jn="triggerSend",nn="diagLog",Ki="onunloadDisableBeacon",Ca="isBeaconApiDisabled",Gi="_sender",pr="_senderConfig",vi="_buffer",Ta="enableSessionStorageBuffer",$n="samplingPercentage",fa="instrumentationKey",ai="endpointUrl",co="customHeaders",mi="disableXhr",Aa="onunloadDisableFetch",Da="disableTelemetry",oi="baseType",Di="sampleRate",fo="convertUndefined",os="_xhrReadyStateChange",Hn="_onError",Ra="_onPartialSuccess",Ri="_onSuccess",ei="itemsAccepted",Ia="itemsReceived",Ii="isRetryDisabled",ho="setRequestHeader",go="maxBatchInterval",ss="eventsSendRequest",da="disableInstrumentationKeyValidation",po="getSamplingScore",ha="getHashCodeScore",ga="baseType",sr="baseData",en="properties",Fa="true";function jr(M,T,H){return(0,U.sO)(M,T,H,U.fQ)}a(jr,"_setValueIf");function ls(M,T,H){var V=H[yt]=H[yt]||{},Ee=T.ext=T.ext||{},Fe=T[yt]=T[yt]||[],ze=Ee.user;ze&&(jr(V,Pe.userAuthUserId,ze.authId),jr(V,Pe.userId,ze.id||ze.localId));var Ve=Ee.app;Ve&&jr(V,Pe.sessionId,Ve.sesId);var bt=Ee.device;bt&&(jr(V,Pe.deviceId,bt.id||bt.localId),jr(V,Pe[Ht],bt.deviceClass),jr(V,Pe.deviceIp,bt.ip),jr(V,Pe.deviceModel,bt.model),jr(V,Pe[Ht],bt[Ht]));var St=T.ext.web;if(St){jr(V,Pe.deviceLanguage,St.browserLang),jr(V,Pe.deviceBrowserVersion,St.browserVer),jr(V,Pe.deviceBrowser,St.browser);var It=H[Bt]=H[Bt]||{},Vt=It[sr]=It[sr]||{},ir=Vt[en]=Vt[en]||{};jr(ir,"domain",St.domain),jr(ir,"isManual",St.isManual?Fa:null),jr(ir,"screenRes",St.screenRes),jr(ir,"userConsent",St.userConsent?Fa:null)}var Zt=Ee.os;Zt&&jr(V,Pe.deviceOS,Zt[qt]);var dr=Ee.trace;dr&&(jr(V,Pe.operationParentId,dr.parentID),jr(V,Pe.operationName,ot(M,dr[qt])),jr(V,Pe.operationId,dr[Gr]));for(var lr={},je=Fe[jt]-1;je>=0;je--){var qr=Fe[je];(0,U.rW)(qr,function(qi,Oi){lr[qi]=Oi}),Fe.splice(je,1)}(0,U.rW)(Fe,function(qi,Oi){lr[qi]=Oi});var Dn=(0,p.uc)((0,p.uc)({},V),lr);Dn[Pe.internalSdkVersion]||(Dn[Pe.internalSdkVersion]="javascript:".concat(vo.Version)),H[yt]=(0,U.Ax)(Dn)}a(ls,"_extractPartAExtensions");function si(M,T,H){(0,U.le)(M)||(0,U.rW)(M,function(V,Ee){(0,U.hj)(Ee)?H[V]=Ee:(0,U.HD)(Ee)?T[V]=Ee:(0,ge.nS)()&&(T[V]=(0,ge.xA)()[Jr](Ee))})}a(si,"_extractPropsAndMeasurements");function ti(M,T){(0,U.le)(M)||(0,U.rW)(M,function(H,V){M[H]=V||T})}a(ti,"_convertPropsUndefinedToCustomDefinedValue");function Fi(M,T,H,V){var Ee=new He(M,V,T);jr(Ee,"sampleRate",H[f]),(H[sr]||{}).startTime&&(Ee.time=(0,U.Y6)(H[sr].startTime)),Ee.iKey=H.iKey;var Fe=H.iKey.replace(/-/g,"");return Ee[qt]=Ee[qt].replace("{0}",Fe),ls(M,H,Ee),H[yt]=H[yt]||[],(0,U.Ax)(Ee)}a(Fi,"_createEnvelope");function Wn(M,T){(0,U.le)(T[sr])&&(0,J.kP)(M,1,46,"telemetryItem.baseData cannot be null.")}a(Wn,"EnvelopeCreatorInit");var vo={Version:"2.8.9"};function pa(M,T,H){Wn(M,T);var V=T[sr][Yr]||{},Ee=T[sr][en]||{};si(T[Bt],Ee,V),(0,U.le)(H)||ti(Ee,H);var Fe=T[sr];if((0,U.le)(Fe))return(0,J.jV)(M,"Invalid input for dependency data"),null;var ze=Fe[en]&&Fe[en][S]?Fe[en][S]:"GET",Ve=new Cn(M,Fe.id,Fe.target,Fe[qt],Fe[gt],Fe.success,Fe.responseCode,ze,Fe.type,Fe.correlationContext,Ee,V),bt=new et(Cn[Zr],Ve);return Fi(M,Cn[yn],T,bt)}a(pa,"DependencyEnvelopeCreator");function Yi(M,T,H){Wn(M,T);var V={},Ee={};T[ga]!==vt[Zr]&&(V.baseTypeSource=T[ga]),T[ga]===vt[Zr]?(V=T[sr][en]||{},Ee=T[sr][Yr]||{}):T[sr]&&si(T[sr],V,Ee),si(T[Bt],V,Ee),(0,U.le)(H)||ti(V,H);var Fe=T[sr][qt],ze=new vt(M,Fe,V,Ee),Ve=new et(vt[Zr],ze);return Fi(M,vt[yn],T,Ve)}a(Yi,"EventEnvelopeCreator");function al(M,T,H){Wn(M,T);var V=T[sr][Yr]||{},Ee=T[sr][en]||{};si(T[Bt],Ee,V),(0,U.le)(H)||ti(Ee,H);var Fe=T[sr],ze=$t.CreateFromInterface(M,Fe,Ee,V),Ve=new et($t[Zr],ze);return Fi(M,$t[yn],T,Ve)}a(al,"ExceptionEnvelopeCreator");function mo(M,T,H){Wn(M,T);var V=T[sr],Ee=V[en]||{},Fe=V[Yr]||{};si(T[Bt],Ee,Fe),(0,U.le)(H)||ti(Ee,H);var ze=new Et(M,V[qt],V.average,V.sampleCount,V.min,V.max,V.stdDev,Ee,Fe),Ve=new et(Et[Zr],ze);return Fi(M,Et[yn],T,Ve)}a(mo,"MetricEnvelopeCreator");function _o(M,T,H){Wn(M,T);var V,Ee=T[sr];!(0,U.le)(Ee)&&!(0,U.le)(Ee[en])&&!(0,U.le)(Ee[en][gt])?(V=Ee[en][gt],delete Ee[en][gt]):!(0,U.le)(T[Bt])&&!(0,U.le)(T[Bt][gt])&&(V=T[Bt][gt],delete T[Bt][gt]);var Fe=T[sr],ze;((T.ext||{}).trace||{})[Gr]&&(ze=T.ext.trace[Gr]);var Ve=Fe.id||ze,bt=Fe[qt],St=Fe.uri,It=Fe[en]||{},Vt=Fe[Yr]||{};if((0,U.le)(Fe.refUri)||(It.refUri=Fe.refUri),(0,U.le)(Fe.pageType)||(It.pageType=Fe.pageType),(0,U.le)(Fe.isLoggedIn)||(It.isLoggedIn=Fe.isLoggedIn[pi]()),!(0,U.le)(Fe[en])){var ir=Fe[en];(0,U.rW)(ir,function(lr,je){It[lr]=je})}si(T[Bt],It,Vt),(0,U.le)(H)||ti(It,H);var Zt=new yr(M,bt,St,V,It,Vt,Ve),dr=new et(yr[Zr],Zt);return Fi(M,yr[yn],T,dr)}a(_o,"PageViewEnvelopeCreator");function wo(M,T,H){Wn(M,T);var V=T[sr],Ee=V[qt],Fe=V.uri||V.url,ze=V[en]||{},Ve=V[Yr]||{};si(T[Bt],ze,Ve),(0,U.le)(H)||ti(ze,H);var bt=new Ir(M,Ee,Fe,void 0,ze,Ve,V),St=new et(Ir[Zr],bt);return Fi(M,Ir[yn],T,St)}a(wo,"PageViewPerformanceEnvelopeCreator");function us(M,T,H){Wn(M,T);var V=T[sr].message,Ee=T[sr].severityLevel,Fe=T[sr][en]||{},ze=T[sr][Yr]||{};si(T[Bt],Fe,ze),(0,U.le)(H)||ti(Fe,H);var Ve=new kt(M,V,Ee,Fe,ze),bt=new et(kt[Zr],Ve);return Fi(M,kt[yn],T,bt)}a(us,"TraceEnvelopeCreator");function yo(M,T){(0,gr.QY)(M,null,null,T)}a(yo,"_disableEvents");function cs(M){var T=(0,ge.Me)(),H=(0,ge.jW)(),V=!1,Ee=!0,Fe=(0,gr.jU)((0,Qn.J)("OfflineListener"),M);try{if(Ve((0,ge.Jj)())&&(V=!0),T){var ze=T.body||T;ze.ononline&&Ve(ze)&&(V=!0)}V&&H&&!(0,U.le)(H[la])&&(Ee=H[la])}catch(ir){V=!1}function Ve(ir){var Zt=!1;return ir&&(Zt=(0,gr.XO)(ir,"online",bt,Fe),Zt&&(0,gr.XO)(ir,"offline",St,Fe)),Zt}a(Ve,"_enableEvents");function bt(){Ee=!0}a(bt,"_setOnline");function St(){Ee=!1}a(St,"_setOffline");function It(){var ir=!0;return V?ir=Ee:H&&!(0,U.le)(H[la])&&(ir=H[la]),ir}a(It,"_isOnline");function Vt(){var ir=(0,ge.Jj)();if(ir&&V){if(yo(ir,Fe),T){var Zt=T.body||T;(0,U.o8)(Zt.ononline)||yo(Zt,Fe)}V=!1}}return a(Vt,"_unload"),{isOnline:It,isListening:function(){return V},unload:Vt}}a(cs,"createOfflineListener");var Eo=function(){function M(T,H){var V=[],Ee=!1;this._get=function(){return V},this._set=function(Fe){return V=Fe,V},(0,v.Z)(M,this,function(Fe){Fe[Wi]=function(ze){if(Fe[xi]()>=H.eventsLimitInMem()){Ee||((0,J.kP)(T,2,105,"Maximum in-memory buffer size reached: "+Fe[xi](),!0),Ee=!0);return}V[Ci](ze)},Fe[xi]=function(){return V[jt]},Fe.size=function(){for(var ze=V[jt],Ve=0;Ve<V[jt];Ve++)ze+=V[Ve][jt];return H[ua]()||(ze+=2),ze},Fe[hn]=function(){V=[],Ee=!1},Fe.getItems=function(){return V.slice(0)},Fe[zi]=function(ze){if(ze&&ze[jt]>0){var Ve=H[ua]()?ze.join(`
`):"["+ze.join(",")+"]";return Ve}return null}})}return a(M,"BaseSendBuffer"),M.__ieDyn=1,M}(),fs=function(M){(0,p.ne)(T,M);function T(H,V){var Ee=M.call(this,H,V)||this;return(0,v.Z)(T,Ee,function(Fe,ze){Fe[Ti]=function(Ve){ze[hn]()},Fe[ii]=function(Ve){}}),Ee}return a(T,"ArraySendBuffer"),T.__ieDyn=1,T}(Eo),ds=function(M){(0,p.ne)(T,M);function T(H,V){var Ee=M.call(this,H,V)||this,Fe=!1;return(0,v.Z)(T,Ee,function(ze,Ve){var bt=ir(T[Xn]),St=ir(T[Un]),It=ze._set(bt.concat(St));It[jt]>T[ca]&&(It[jt]=T[ca]),Zt(T[Un],[]),Zt(T[Xn],It),ze[Wi]=function(dr){if(ze[xi]()>=T[ca]){Fe||((0,J.kP)(H,2,67,"Maximum buffer size reached: "+ze[xi](),!0),Fe=!0);return}Ve[Wi](dr),Zt(T[Xn],ze._get())},ze[hn]=function(){Ve[hn](),Zt(T[Xn],ze._get()),Zt(T[Un],[]),Fe=!1},ze[Ti]=function(dr){Zt(T[Xn],ze._set(Vt(dr,ze._get())));var lr=ir(T[Un]);lr instanceof Array&&dr instanceof Array&&(lr=lr.concat(dr),lr[jt]>T[ca]&&((0,J.kP)(H,1,67,"Sent buffer reached its maximum size: "+lr[jt],!0),lr[jt]=T[ca]),Zt(T[Un],lr))},ze[ii]=function(dr){var lr=ir(T[Un]);lr=Vt(dr,lr),Zt(T[Un],lr)};function Vt(dr,lr){var je=[];return(0,U.tO)(lr,function(qr){!(0,U.mf)(qr)&&(0,U.UA)(dr,qr)===-1&&je[Ci](qr)}),je}a(Vt,"_removePayloadsFromBuffer");function ir(dr){var lr=dr;try{lr=V[Ai]&&V[Ai]()?V[Ai]()+"_"+lr:lr;var je=Yt(H,lr);if(je){var qr=(0,ge.xA)().parse(je);if((0,U.HD)(qr)&&(qr=(0,ge.xA)().parse(qr)),qr&&(0,U.kJ)(qr))return qr}}catch(Dn){(0,J.kP)(H,1,42," storage key: "+lr+", "+(0,U.jj)(Dn),{exception:(0,ge.eU)(Dn)})}return[]}a(ir,"_getBuffer");function Zt(dr,lr){var je=dr;try{je=V[Ai]&&V[Ai]()?V[Ai]()+"_"+je:je;var qr=JSON[Jr](lr);Nt(H,je,qr)}catch(Dn){Nt(H,je,JSON[Jr]([])),(0,J.kP)(H,2,41," storage key: "+je+", "+(0,U.jj)(Dn)+". Buffer cleared",{exception:(0,ge.eU)(Dn)})}}a(Zt,"_setBuffer")}),Ee}return a(T,"SessionStorageSendBuffer"),T.BUFFER_KEY="AI_buffer",T.SENT_BUFFER_KEY="AI_sentBuffer",T.MAX_BUFFER_SIZE=2e3,T}(Eo),bo=function(){function M(T){(0,v.Z)(M,this,function(H){H.serialize=function(ze){var Ve=V(ze,"root");try{return(0,ge.xA)()[Jr](Ve)}catch(bt){(0,J.kP)(T,1,48,bt&&(0,U.mf)(bt[pi])?bt[pi]():"Error serializing object",null,!0)}};function V(ze,Ve){var bt="__aiCircularRefCheck",St={};if(!ze)return(0,J.kP)(T,1,48,"cannot serialize object because it is null or undefined",{name:Ve},!0),St;if(ze[bt])return(0,J.kP)(T,2,50,"Circular reference detected while serializing object",{name:Ve},!0),St;if(!ze.aiDataContract){if(Ve==="measurements")St=Fe(ze,"number",Ve);else if(Ve==="properties")St=Fe(ze,"string",Ve);else if(Ve==="tags")St=Fe(ze,"string",Ve);else if((0,U.kJ)(ze))St=Ee(ze,Ve);else{(0,J.kP)(T,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:Ve},!0);try{(0,ge.xA)()[Jr](ze),St=ze}catch(It){(0,J.kP)(T,1,48,It&&(0,U.mf)(It[pi])?It[pi]():"Error serializing object",null,!0)}}return St}return ze[bt]=!0,(0,U.rW)(ze.aiDataContract,function(It,Vt){var ir=(0,U.mf)(Vt)?Vt()&1:Vt&1,Zt=(0,U.mf)(Vt)?Vt()&4:Vt&4,dr=Vt&2,lr=ze[It]!==void 0,je=(0,U.Kn)(ze[It])&&ze[It]!==null;if(ir&&!lr&&!dr)(0,J.kP)(T,1,24,"Missing required field specification. The field is required but not present on source",{field:It,name:Ve});else if(!Zt){var qr=void 0;je?dr?qr=Ee(ze[It],It):qr=V(ze[It],It):qr=ze[It],qr!==void 0&&(St[It]=qr)}}),delete ze[bt],St}a(V,"_serializeObject");function Ee(ze,Ve){var bt;if(ze)if(!(0,U.kJ)(ze))(0,J.kP)(T,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:Ve},!0);else{bt=[];for(var St=0;St<ze[jt];St++){var It=ze[St],Vt=V(It,Ve+"["+St+"]");bt[Ci](Vt)}}return bt}a(Ee,"_serializeArray");function Fe(ze,Ve,bt){var St;return ze&&(St={},(0,U.rW)(ze,function(It,Vt){if(Ve==="string")Vt===void 0?St[It]="undefined":Vt===null?St[It]="null":Vt[pi]?St[It]=Vt[pi]():St[It]="invalid field: toString() is not defined.";else if(Ve==="number")if(Vt===void 0)St[It]="undefined";else if(Vt===null)St[It]="null";else{var ir=parseFloat(Vt);isNaN(ir)?St[It]="NaN":St[It]=ir}else St[It]="invalid field: "+bt+" is of unknown type.",(0,J.kP)(T,1,St[It],null,!0)})),St}a(Fe,"_serializeStringMap")})}return a(M,"Serializer"),M.__ieDyn=1,M}(),So=8,zn=function(){function M(){}return a(M,"HashCodeScoreGenerator"),M.prototype.getHashCodeScore=function(T){var H=this.getHashCode(T)/M.INT_MAX_VALUE;return H*100},M.prototype.getHashCode=function(T){if(T==="")return 0;for(;T[jt]<So;)T=T.concat(T);for(var H=5381,V=0;V<T[jt];++V)H=(H<<5)+H+T.charCodeAt(V),H=H&H;return Math.abs(H)},M.INT_MAX_VALUE=2147483647,M}(),Oa=function(){function M(){var T=this,H=new zn,V=new ht;T[po]=function(Ee){var Fe=0;return Ee[yt]&&Ee[yt][V.userId]?Fe=H.getHashCodeScore(Ee[yt][V.userId]):Ee.ext&&Ee.ext.user&&Ee.ext.user.id?Fe=H[ha](Ee.ext.user.id):Ee[yt]&&Ee[yt][V.operationId]?Fe=H.getHashCodeScore(Ee[yt][V.operationId]):Ee.ext&&Ee.ext.telemetryTrace&&Ee.ext.telemetryTrace[Gr]?Fe=H.getHashCodeScore(Ee.ext.telemetryTrace[Gr]):Fe=Math.random()*100,Fe}}return a(M,"SamplingScoreGenerator"),M}(),hs=function(){function M(T,H){this.INT_MAX_VALUE=2147483647;var V=H||(0,J.vH)(null);(T>100||T<0)&&(V.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:T},!0),T=100),this[Di]=T,this.samplingScoreGenerator=new Oa}return a(M,"Sample"),M.prototype.isSampledIn=function(T){var H=this[Di],V=!1;return H==null||H>=100||T.baseType===Et[Zr]?!0:(V=this.samplingScoreGenerator[po](T)<H,V)},M}(),jn,Na=65e3;function va(M){try{return M.responseText}catch(T){}return null}a(va,"_getResponseText");function xo(){var M,T,H;return M={endpointUrl:function(){return _+x}},M[ua]=function(){return!1},M[go]=function(){return 15e3},M[ji]=function(){return 102400},M[Da]=function(){return!1},M[Ta]=function(){return!0},M[Ii]=function(){return!1},M[Ca]=function(){return!0},M[mi]=function(){return!1},M[Aa]=function(){return!1},M[Ki]=function(){return!1},M[fa]=function(){return T},M[Ai]=function(){return T},M[$n]=function(){return 100},M[co]=function(){return H},M[fo]=function(){return T},M.eventsLimitInMem=function(){return 1e4},M}a(xo,"_getDefaultAppInsightsChannelConfig");var gs=(jn={},jn[vt.dataType]=Yi,jn[kt.dataType]=us,jn[yr.dataType]=_o,jn[Ir.dataType]=wo,jn[$t.dataType]=al,jn[Et.dataType]=mo,jn[Cn.dataType]=pa,jn),Pa=function(M){(0,p.ne)(T,M);function T(){var H=M.call(this)||this;H.priority=1001,H.identifier=w,H._senderConfig=xo();var V,Ee,Fe,ze,Ve,bt,St,It,Vt=0,ir,Zt,dr,lr;return(0,v.Z)(T,H,function(je,qr){Ni(),je.pause=function(){li(),ze=!0},je.resume=function(){ze&&(ze=!1,Ee=null,je._buffer.size()>je._senderConfig[ji]()&&je[Jn](!0,null,10),Ma())},je.flush=function(Me,mt,At){if(Me===void 0&&(Me=!0),!ze){li();try{je[Jn](Me,null,At||1)}catch(Mt){(0,J.kP)(je[nn](),1,22,"flush failed, telemetry will not be collected: "+(0,U.jj)(Mt),{exception:(0,ge.eU)(Mt)})}}},je.onunloadFlush=function(){if(!ze)if((je._senderConfig[Ki]()===!1||je[pr][Ca]()===!1)&&(0,ge.MF)())try{je[Jn](!0,ll,2)}catch(Me){(0,J.kP)(je[nn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,U.jj)(Me),{exception:(0,ge.eU)(Me)})}else je.flush()},je.addHeader=function(Me,mt){It[Me]=mt},je.initialize=function(Me,mt,At,Mt){je.isInitialized()&&(0,J.kP)(je[nn](),1,28,"Sender is already initialized"),qr.initialize(Me,mt,At,Mt);var cr=je._getTelCtx(),br=je.identifier;bt=new bo(mt.logger),V=0,Ee=null,Fe=0,je[Gi]=null,St=0;var vr=je[nn]();lr=(0,gr.jU)((0,Qn.J)("Sender"),mt.evtNamespace&&mt.evtNamespace()),dr=cs(lr);var an=xo();(0,U.rW)(an,function(un,Nn){je[pr][un]=function(){var ln=cr.getConfig(br,un,Nn());return!ln&&un==="endpointUrl"&&(ln=Nn()),ln}}),je._buffer=je[pr][Ta]()&&Xe()?new ds(vr,je[pr]):new fs(vr,je[pr]),je._sample=new hs(je[pr][$n](),vr),Qi(Me)||(0,J.kP)(vr,1,100,"Invalid Instrumentation key "+Me[fa]),!xn(je._senderConfig.endpointUrl())&&je._senderConfig.customHeaders()&&je._senderConfig.customHeaders()[jt]>0&&(0,U.tO)(je[pr][co](),function(un){H.addHeader(un.header,un.value)});var on=je[pr],sn=null;!on[mi]()&&(0,ge.cp)()?sn=Fo:!on[mi]()&&(0,ge.Z3)()&&(sn=Zi),!sn&&(0,ge.JO)()&&(sn=vs),ir=sn||Zi,!on[Ca]()&&(0,ge.MF)()&&(sn=Vi),je[Gi]=sn||Zi,!on[Aa]()&&(0,ge.JO)(!0)?Zt=ka:(0,ge.MF)()?Zt=Vi:!on[mi]()&&(0,ge.cp)()?Zt=Fo:!on[mi]()&&(0,ge.Z3)()?Zt=Zi:Zt=ir},je.processTelemetry=function(Me,mt){mt=je._getTelCtx(mt);var At=mt[nn]();try{if(je[pr][Da]())return;if(!Me){(0,J.kP)(At,1,7,"Cannot send empty telemetry");return}if(Me.baseData&&!Me[oi]){(0,J.kP)(At,1,70,"Cannot send telemetry without baseData and baseType");return}if(Me[oi]||(Me[oi]="EventData"),!je[Gi]){(0,J.kP)(At,1,28,"Sender was not initialized");return}if(Dn(Me))Me[f]=je._sample[Di];else{(0,J.kP)(At,2,33,"Telemetry item was sampled out and not sent",{SampleRate:je._sample[Di]});return}var Mt=je[pr][fo]()||void 0,cr=Me.iKey||je[pr][fa](),br=T.constructEnvelope(Me,cr,At,Mt);if(!br){(0,J.kP)(At,1,47,"Unable to create an AppInsights envelope");return}var vr=!1;if(Me[yt]&&Me[yt][E]&&((0,U.tO)(Me[yt][E],function(un){try{un&&un(br)===!1&&(vr=!0,(0,J.jV)(At,"Telemetry processor check returns false"))}catch(Nn){(0,J.kP)(At,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,U.jj)(Nn),{exception:(0,ge.eU)(Nn)},!0)}}),delete Me[yt][E]),vr)return;var an=bt.serialize(br),on=je[vi],sn=on.size();sn+an[jt]>je[pr][ji]()&&je[Jn](!0,null,10),on[Wi](an),Ma()}catch(un){(0,J.kP)(At,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,U.jj)(un),{exception:(0,ge.eU)(un)})}je.processNext(Me,mt)},je[os]=function(Me,mt,At){Me.readyState===4&&qi(Me.status,mt,Me.responseURL,At,wa(Me),va(Me)||Me.response)},je[Jn]=function(Me,mt,At){if(Me===void 0&&(Me=!0),!ze)try{var Mt=je[vi];if(je[pr][Da]())Mt[hn]();else{if(Mt[xi]()>0){var cr=Mt.getItems();Ba(At||0,Me),mt?mt.call(H,cr,Me):je[Gi](cr,Me)}Fe=+new Date}li()}catch(vr){var br=(0,ge.sA)();(!br||br>9)&&(0,J.kP)(je[nn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,U.jj)(vr),{exception:(0,ge.eU)(vr)})}},je._doTeardown=function(Me,mt){je.onunloadFlush(),dr.unload(),Ni()},je[Hn]=function(Me,mt,At){(0,J.kP)(je[nn](),2,26,"Failed to send telemetry.",{message:mt}),je._buffer[ii](Me)},je[Ra]=function(Me,mt){for(var At=[],Mt=[],cr=mt.errors.reverse(),br=0,vr=cr;br<vr.length;br++){var an=vr[br],on=Me.splice(an.index,1)[0];Io(an.statusCode)?Mt[Ci](on):At[Ci](on)}Me[jt]>0&&je[Ri](Me,mt[ei]),At[jt]>0&&je[Hn](At,wa(null,["partial success",mt[ei],"of",mt.itemsReceived].join(" "))),Mt[jt]>0&&(_a(Mt),(0,J.kP)(je[nn](),2,40,"Partial success. Delivered: "+Me[jt]+", Failed: "+At[jt]+". Will retry to send "+Mt[jt]+" our of "+mt[Ia]+" items"))},je[Ri]=function(Me,mt){je._buffer[ii](Me)},je._xdrOnLoad=function(Me,mt){var At=va(Me);if(Me&&(At+""=="200"||At===""))V=0,je[Ri](mt,0);else{var Mt=La(At);Mt&&Mt.itemsReceived&&Mt.itemsReceived>Mt[ei]&&!je[pr][Ii]()?je[Ra](mt,Mt):je[Hn](mt,Oo(Me))}};function Dn(Me){return je._sample.isSampledIn(Me)}a(Dn,"_isSampledIn");function qi(Me,mt,At,Mt,cr,br){var vr=null;if(je._appId||(vr=La(br),vr&&vr.appId&&(je._appId=vr.appId)),(Me<200||Me>=300)&&Me!==0){if((Me===301||Me===307||Me===308)&&!Oi(At)){je[Hn](mt,cr);return}!je[pr][Ii]()&&Io(Me)?(_a(mt),(0,J.kP)(je[nn](),2,40,". Response code "+Me+". Will retry to send "+mt[jt]+" items.")):je[Hn](mt,cr)}else if(dr&&!dr.isOnline()){if(!je[pr][Ii]()){var an=10;_a(mt,an),(0,J.kP)(je[nn](),2,40,". Offline - Response Code: ".concat(Me,". Offline status: ").concat(!dr.isOnline(),". Will retry to send ").concat(mt.length," items."))}}else Oi(At),Me===206?(vr||(vr=La(br)),vr&&!je[pr][Ii]()?je[Ra](mt,vr):je[Hn](mt,cr)):(V=0,je[Ri](mt,Mt))}a(qi,"_checkResponsStatus");function Oi(Me){return St>=10?!1:!(0,U.le)(Me)&&Me!==""&&Me!==je[pr][ai]()?(je[pr][ai]=function(){return Me},++St,!0):!1}a(Oi,"_checkAndUpdateEndPointUrl");function ll(Me,mt){Zt?Zt(Me,!1):Vi(Me,mt)}a(ll,"_doUnloadSend");function Ao(Me){var mt=(0,ge.jW)(),At=je[vi],Mt=je[pr][ai](),cr=je._buffer[zi](Me),br=new Blob([cr],{type:"text/plain;charset=UTF-8"}),vr=mt.sendBeacon(Mt,br);return vr&&(At[Ti](Me),je._onSuccess(Me,Me[jt])),vr}a(Ao,"_doBeaconSend");function Vi(Me,mt){if((0,U.kJ)(Me)&&Me[jt]>0&&!Ao(Me)){for(var At=[],Mt=0;Mt<Me[jt];Mt++){var cr=Me[Mt];Ao([cr])||At[Ci](cr)}At[jt]>0&&(ir&&ir(At,!0),(0,J.kP)(je[nn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(Vi,"_beaconSender");function Zi(Me,mt){var At=new XMLHttpRequest,Mt=je[pr][ai]();try{At[C]=!0}catch(br){}At.open("POST",Mt,mt),At[ho]("Content-type","application/json"),xn(Mt)&&At[ho](Fr[6],Fr[7]),(0,U.tO)((0,U.FY)(It),function(br){At[ho](br,It[br])}),At.onreadystatechange=function(){return je._xhrReadyStateChange(At,Me,Me[jt])},At.onerror=function(br){return je[Hn](Me,wa(At),br)};var cr=je._buffer[zi](Me);At.send(cr),je._buffer[Ti](Me)}a(Zi,"_xhrSender");function ka(Me,mt){if((0,U.kJ)(Me)){for(var At=Me[jt],Mt=0;Mt<Me[jt];Mt++)At+=Me[Mt][jt];Vt+At<=Na?Do(Me,!1):(0,ge.MF)()?Vi(Me,mt):(ir&&ir(Me,!0),(0,J.kP)(je[nn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(ka,"_fetchKeepAliveSender");function vs(Me,mt){Do(Me,!0)}a(vs,"_fetchSender");function Do(Me,mt){var At,Mt=je[pr][ai](),cr=je._buffer[zi](Me),br=new Blob([cr],{type:"application/json"}),vr=new Headers,an=cr[jt],on=!1,sn=!1;xn(Mt)&&vr.append(Fr[6],Fr[7]),(0,U.tO)((0,U.FY)(It),function(ln){vr.append(ln,It[ln])});var un=(At={method:"POST",headers:vr,body:br},At[C]=!0,At);mt||(un.keepalive=!0,on=!0,Vt+=an);var Nn=new Request(Mt,un);try{Nn[C]=!0}catch(ln){}je._buffer[Ti](Me);try{fetch(Nn).then(function(ln){mt||(Vt-=an,an=0),sn||(sn=!0,ln.ok?ln.text().then(function(No){qi(ln.status,Me,ln.url,Me[jt],ln.statusText,No)}):je[Hn](Me,ln.statusText))}).catch(function(ln){mt||(Vt-=an,an=0),sn||(sn=!0,je[Hn](Me,ln.message))})}catch(ln){sn||je[Hn](Me,(0,ge.eU)(ln))}on&&!sn&&(sn=!0,je._onSuccess(Me,Me[jt]))}a(Do,"_doFetchSender");function La(Me){try{if(Me&&Me!==""){var mt=(0,ge.xA)().parse(Me);if(mt&&mt.itemsReceived&&mt.itemsReceived>=mt[ei]&&mt.itemsReceived-mt.itemsAccepted===mt.errors[jt])return mt}}catch(At){(0,J.kP)(je[nn](),1,43,"Cannot parse the response. "+(0,U.jj)(At),{response:Me})}return null}a(La,"_parseResponse");function _a(Me,mt){if(mt===void 0&&(mt=1),!(!Me||Me[jt]===0)){var At=je[vi];At[ii](Me),V++;for(var Mt=0,cr=Me;Mt<cr.length;Mt++){var br=cr[Mt];At[Wi](br)}Ro(mt),Ma()}}a(_a,"_resendPayload");function Ro(Me){var mt=10,At;if(V<=1)At=mt;else{var Mt=(Math.pow(2,V)-1)/2,cr=Math.floor(Math.random()*Mt*mt)+1;cr=Me*cr,At=Math.max(Math.min(cr,3600),mt)}var br=(0,U.m6)()+At*1e3;Ee=br}a(Ro,"_setRetryTime");function Ma(){if(!Ve&&!ze){var Me=Ee?Math.max(0,Ee-(0,U.m6)()):0,mt=Math.max(je[pr][go](),Me);Ve=setTimeout(function(){Ve=null,je[Jn](!0,null,1)},mt)}}a(Ma,"_setupTimer");function li(){clearTimeout(Ve),Ve=null,Ee=null}a(li,"_clearScheduledTimer");function Io(Me){return Me===401||Me===403||Me===408||Me===429||Me===500||Me===502||Me===503||Me===504}a(Io,"_isRetriable");function wa(Me,mt){return Me?"XMLHttpRequest,Status:"+Me.status+",Response:"+va(Me)||0||0:mt}a(wa,"_formatErrorMessageXhr");function Fo(Me,mt){var At=je[vi],Mt=(0,ge.Jj)(),cr=new XDomainRequest;cr.onload=function(){return je._xdrOnLoad(cr,Me)},cr.onerror=function(on){return je[Hn](Me,Oo(cr),on)};var br=Mt&&Mt.location&&Mt.location.protocol||"";if(je[pr][ai]().lastIndexOf(br,0)!==0){(0,J.kP)(je[nn](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),At[hn]();return}var vr=je[pr][ai]().replace(/^(https?:)/,"");cr.open("POST",vr);var an=At[zi](Me);cr.send(an),At[Ti](Me)}a(Fo,"_xdrSender");function Oo(Me,mt){return Me?"XDomainRequest,Response:"+va(Me)||0:mt}a(Oo,"_formatErrorMessageXdr");function ms(){var Me="getNotifyMgr";return je.core[Me]?je.core[Me]():je.core._notificationManager}a(ms,"_getNotifyMgr");function Ba(Me,mt){var At=ms();if(At&&At[ss])try{At[ss](Me,mt)}catch(Mt){(0,J.kP)(je[nn](),1,74,"send request notification failed: "+(0,U.jj)(Mt),{exception:(0,ge.eU)(Mt)})}}a(Ba,"_notifySendRequest");function Qi(Me){var mt=(0,U.le)(Me[da])?!1:Me[da];if(mt)return!0;var At="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Mt=new RegExp(At);return Mt.test(Me[fa])}a(Qi,"_validateInstrumentationKey");function Ni(){je[Gi]=null,je[vi]=null,je._appId=null,je._sample=null,It={},dr=null,V=0,Ee=null,Fe=null,ze=!1,Ve=null,bt=null,St=0,Vt=0,ir=null,Zt=null,lr=null}a(Ni,"_initDefaults")}),H}return a(T,"Sender"),T.constructEnvelope=function(H,V,Ee,Fe){var ze;V!==H.iKey&&!(0,U.le)(V)?ze=(0,p.uc)((0,p.uc)({},H),{iKey:V}):ze=H;var Ve=gs[ze.baseType]||Yi;return Ve(Ee,ze,Fe)},T}(An.i),Co=b(5121),To="initialize",ma="diagnosticLogInterval",ol=b(7310),sl=(0,xr.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),ps=function(){function M(T){var H=new Co.F;((0,U.le)(T)||(0,U.le)(T.instrumentationKey))&&(0,U._y)("Invalid input configuration"),(0,v.Z)(M,this,function(V){V.config=T,Ee(),V[To]=Ee,V.getSKUDefaults=function(){V.config[ma]=V.config[ma]&&V.config[ma]>0?V.config[ma]:1e4},V.getSKUDefaults(),(0,U.Vb)(V,H,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Ee(){var Fe=[],ze=new Pa;Fe.push(ze),H[To](V.config,Fe),ze[To](V.config,H,Fe),H.pollInternalLogs()}a(Ee,"_initialize")})}return a(M,"ApplicationInsights"),M.__ieDyn=1,M}()},1679:(fe,c,b)=>{"use strict";b.d(c,{Z:()=>Ze});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var v,p="undefined",y="constructor",w="prototype",O="function",C="_dynInstFuncs",f="_isDynProxy",E="_dynClass",S="_dynCls$",_="_dynInstChk",x=_,B="_dfOpts",I="_unknown_",q="__proto__",K="_dyn"+q,se="__dynProto$Gbl",N="_dynInstProto",z="useBaseInst",$="setInstFuncs",R=Object,L=R.getPrototypeOf,j=R.getOwnPropertyNames;function X(){var Z;return typeof globalThis!==p&&(Z=globalThis),!Z&&typeof self!==p&&(Z=self),!Z&&typeof window!==p&&(Z=window),!Z&&typeof b.g!==p&&(Z=b.g),Z||{}}a(X,"_getGlobal");var re=X(),ne=re[se]||(re[se]={o:(v={},v[$]=!0,v[z]=!0,v),n:1e3});function le(Z,te){return Z&&R[w].hasOwnProperty.call(Z,te)}a(le,"_hasOwnProperty");function Ce(Z){return Z&&(Z===R[w]||Z===Array[w])}a(Ce,"_isObjectOrArrayPrototype");function ie(Z){return Ce(Z)||Z===Function[w]}a(ie,"_isObjectArrayOrFunctionPrototype");function G(Z){var te;if(Z){if(L)return L(Z);var ae=Z[q]||Z[w]||(Z[y]?Z[y][w]:null);te=Z[K]||ae,le(Z,K)||(delete Z[N],te=Z[K]=Z[N]||Z[K],Z[N]=ae)}return te}a(G,"_getObjProto");function me(Z,te){var ae=[];if(j)ae=j(Z);else for(var _e in Z)typeof _e=="string"&&le(Z,_e)&&ae.push(_e);if(ae&&ae.length>0)for(var Ge=0;Ge<ae.length;Ge++)te(ae[Ge])}a(me,"_forEachProp");function Ue(Z,te,ae){return te!==y&&typeof Z[te]===O&&(ae||le(Z,te))}a(Ue,"_isDynamicCandidate");function Le(Z){throw new TypeError("DynamicProto: "+Z)}a(Le,"_throwTypeError");function ue(Z){var te={};return me(Z,function(ae){!te[ae]&&Ue(Z,ae,!1)&&(te[ae]=Z[ae])}),te}a(ue,"_getInstanceFuncs");function Y(Z,te){for(var ae=Z.length-1;ae>=0;ae--)if(Z[ae]===te)return!0;return!1}a(Y,"_hasVisited");function we(Z,te,ae,_e){function Ge(Te,xe,ke){var ve=xe[ke];if(ve[f]&&_e){var ft=Te[C]||{};ft[x]!==!1&&(ve=(ft[xe[E]]||{})[ke]||ve)}return function(){return ve.apply(Te,arguments)}}a(Ge,"_instFuncProxy");var lt={};me(ae,function(Te){lt[Te]=Ge(te,ae,Te)});for(var Se=G(Z),Re=[];Se&&!ie(Se)&&!Y(Re,Se);)me(Se,function(Te){!lt[Te]&&Ue(Se,Te,!L)&&(lt[Te]=Ge(te,Se,Te))}),Re.push(Se),Se=G(Se);return lt}a(we,"_getBaseFuncs");function Oe(Z,te,ae,_e){var Ge=null;if(Z&&le(ae,E)){var lt=Z[C]||{};if(Ge=(lt[ae[E]]||{})[te],Ge||Le("Missing ["+te+"] "+O),!Ge[_]&&lt[x]!==!1){for(var Se=!le(Z,te),Re=G(Z),Te=[];Se&&Re&&!ie(Re)&&!Y(Te,Re);){var xe=Re[te];if(xe){Se=xe===_e;break}Te.push(Re),Re=G(Re)}try{Se&&(Z[te]=Ge),Ge[_]=1}catch(ke){lt[x]=!1}}}return Ge}a(Oe,"_getInstFunc");function De(Z,te,ae){var _e=te[Z];return _e===ae&&(_e=G(te)[Z]),typeof _e!==O&&Le("["+Z+"] is not a "+O),_e}a(De,"_getProtoFunc");function ee(Z,te,ae,_e,Ge){function lt(Te,xe){var ke=a(function(){var ve=Oe(this,xe,Te,ke)||De(xe,Te,ke);return ve.apply(this,arguments)},"dynProtoProxy");return ke[f]=1,ke}if(a(lt,"_createDynamicPrototype"),!Ce(Z)){var Se=ae[C]=ae[C]||{},Re=Se[te]=Se[te]||{};Se[x]!==!1&&(Se[x]=!!Ge),me(ae,function(Te){Ue(ae,Te,!1)&&ae[Te]!==_e[Te]&&(Re[Te]=ae[Te],delete ae[Te],(!le(Z,Te)||Z[Te]&&!Z[Te][f])&&(Z[Te]=lt(Z,Te)))})}}a(ee,"_populatePrototype");function ct(Z,te){if(L){for(var ae=[],_e=G(te);_e&&!ie(_e)&&!Y(ae,_e);){if(_e===Z)return!0;ae.push(_e),_e=G(_e)}return!1}return!0}a(ct,"_checkPrototype");function qe(Z,te){return le(Z,w)?Z.name||te||I:((Z||{})[y]||{}).name||te||I}a(qe,"_getObjName");function Ze(Z,te,ae,_e){le(Z,w)||Le("theClass is an invalid class definition.");var Ge=Z[w];ct(Ge,te)||Le("["+qe(Z)+"] not in hierarchy of ["+qe(te)+"]");var lt=null;le(Ge,E)?lt=Ge[E]:(lt=S+qe(Z,"_")+"$"+ne.n,ne.n++,Ge[E]=lt);var Se=Ze[B],Re=!!Se[z];Re&&_e&&_e[z]!==void 0&&(Re=!!_e[z]);var Te=ue(te),xe=we(Ge,te,Te,Re);ae(te,xe);var ke=!!L&&!!Se[$];ke&&_e&&(ke=!!_e[$]),ee(Ge,lt,te,Te,ke!==!1)}a(Ze,"dynamicProto"),Ze[B]=ne.o},6232:(fe,c,b)=>{"use strict";const v=b(8641),p=b(8692),y=b(1474),w=b(5870),O=a((C,f={})=>{let E=[];if(Array.isArray(C))for(let S of C){let _=O.create(S,f);Array.isArray(_)?E.push(..._):E.push(_)}else E=[].concat(O.create(C,f));return f&&f.expand===!0&&f.nodupes===!0&&(E=[...new Set(E)]),E},"braces");O.parse=(C,f={})=>w(C,f),O.stringify=(C,f={})=>v(typeof C=="string"?O.parse(C,f):C,f),O.compile=(C,f={})=>(typeof C=="string"&&(C=O.parse(C,f)),p(C,f)),O.expand=(C,f={})=>{typeof C=="string"&&(C=O.parse(C,f));let E=y(C,f);return f.noempty===!0&&(E=E.filter(Boolean)),f.nodupes===!0&&(E=[...new Set(E)]),E},O.create=(C,f={})=>C===""||C.length<3?[C]:f.expand!==!0?O.compile(C,f):O.expand(C,f),fe.exports=O},8692:(fe,c,b)=>{"use strict";const v=b(1516),p=b(3596),y=a((w,O={})=>{let C=a((f,E={})=>{let S=p.isInvalidBrace(E),_=f.invalid===!0&&O.escapeInvalid===!0,x=S===!0||_===!0,B=O.escapeInvalid===!0?"\\":"",I="";if(f.isOpen===!0||f.isClose===!0)return B+f.value;if(f.type==="open")return x?B+f.value:"(";if(f.type==="close")return x?B+f.value:")";if(f.type==="comma")return f.prev.type==="comma"?"":x?f.value:"|";if(f.value)return f.value;if(f.nodes&&f.ranges>0){let q=p.reduce(f.nodes),K=v(...q,{...O,wrap:!1,toRegex:!0});if(K.length!==0)return q.length>1&&K.length>1?`(${K})`:K}if(f.nodes)for(let q of f.nodes)I+=C(q,f);return I},"walk");return C(w)},"compile");fe.exports=y},7007:fe=>{"use strict";fe.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(fe,c,b)=>{"use strict";const v=b(1516),p=b(8641),y=b(3596),w=a((C="",f="",E=!1)=>{let S=[];if(C=[].concat(C),f=[].concat(f),!f.length)return C;if(!C.length)return E?y.flatten(f).map(_=>`{${_}}`):f;for(let _ of C)if(Array.isArray(_))for(let x of _)S.push(w(x,f,E));else for(let x of f)E===!0&&typeof x=="string"&&(x=`{${x}}`),S.push(Array.isArray(x)?w(_,x,E):_+x);return y.flatten(S)},"append"),O=a((C,f={})=>{let E=f.rangeLimit===void 0?1e3:f.rangeLimit,S=a((_,x={})=>{_.queue=[];let B=x,I=x.queue;for(;B.type!=="brace"&&B.type!=="root"&&B.parent;)B=B.parent,I=B.queue;if(_.invalid||_.dollar){I.push(w(I.pop(),p(_,f)));return}if(_.type==="brace"&&_.invalid!==!0&&_.nodes.length===2){I.push(w(I.pop(),["{}"]));return}if(_.nodes&&_.ranges>0){let N=y.reduce(_.nodes);if(y.exceedsLimit(...N,f.step,E))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let z=v(...N,f);z.length===0&&(z=p(_,f)),I.push(w(I.pop(),z)),_.nodes=[];return}let q=y.encloseBrace(_),K=_.queue,se=_;for(;se.type!=="brace"&&se.type!=="root"&&se.parent;)se=se.parent,K=se.queue;for(let N=0;N<_.nodes.length;N++){let z=_.nodes[N];if(z.type==="comma"&&_.type==="brace"){N===1&&K.push(""),K.push("");continue}if(z.type==="close"){I.push(w(I.pop(),K,q));continue}if(z.value&&z.type!=="open"){K.push(w(K.pop(),z.value));continue}z.nodes&&S(z,_)}return K},"walk");return y.flatten(S(C))},"expand");fe.exports=O},5870:(fe,c,b)=>{"use strict";const v=b(8641),{MAX_LENGTH:p,CHAR_BACKSLASH:y,CHAR_BACKTICK:w,CHAR_COMMA:O,CHAR_DOT:C,CHAR_LEFT_PARENTHESES:f,CHAR_RIGHT_PARENTHESES:E,CHAR_LEFT_CURLY_BRACE:S,CHAR_RIGHT_CURLY_BRACE:_,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_RIGHT_SQUARE_BRACKET:B,CHAR_DOUBLE_QUOTE:I,CHAR_SINGLE_QUOTE:q,CHAR_NO_BREAK_SPACE:K,CHAR_ZERO_WIDTH_NOBREAK_SPACE:se}=b(7007),N=a((z,$={})=>{if(typeof z!="string")throw new TypeError("Expected a string");let R=$||{},L=typeof R.maxLength=="number"?Math.min(p,R.maxLength):p;if(z.length>L)throw new SyntaxError(`Input length (${z.length}), exceeds max characters (${L})`);let j={type:"root",input:z,nodes:[]},X=[j],re=j,ne=j,le=0,Ce=z.length,ie=0,G=0,me,Ue={};const Le=a(()=>z[ie++],"advance"),ue=a(Y=>{if(Y.type==="text"&&ne.type==="dot"&&(ne.type="text"),ne&&ne.type==="text"&&Y.type==="text"){ne.value+=Y.value;return}return re.nodes.push(Y),Y.parent=re,Y.prev=ne,ne=Y,Y},"push");for(ue({type:"bos"});ie<Ce;)if(re=X[X.length-1],me=Le(),!(me===se||me===K)){if(me===y){ue({type:"text",value:($.keepEscaping?me:"")+Le()});continue}if(me===B){ue({type:"text",value:"\\"+me});continue}if(me===x){le++;let Y=!0,we;for(;ie<Ce&&(we=Le());){if(me+=we,we===x){le++;continue}if(we===y){me+=Le();continue}if(we===B&&(le--,le===0))break}ue({type:"text",value:me});continue}if(me===f){re=ue({type:"paren",nodes:[]}),X.push(re),ue({type:"text",value:me});continue}if(me===E){if(re.type!=="paren"){ue({type:"text",value:me});continue}re=X.pop(),ue({type:"text",value:me}),re=X[X.length-1];continue}if(me===I||me===q||me===w){let Y=me,we;for($.keepQuotes!==!0&&(me="");ie<Ce&&(we=Le());){if(we===y){me+=we+Le();continue}if(we===Y){$.keepQuotes===!0&&(me+=we);break}me+=we}ue({type:"text",value:me});continue}if(me===S){G++;let Y=ne.value&&ne.value.slice(-1)==="$"||re.dollar===!0;re=ue({type:"brace",open:!0,close:!1,dollar:Y,depth:G,commas:0,ranges:0,nodes:[]}),X.push(re),ue({type:"open",value:me});continue}if(me===_){if(re.type!=="brace"){ue({type:"text",value:me});continue}let Y="close";re=X.pop(),re.close=!0,ue({type:Y,value:me}),G--,re=X[X.length-1];continue}if(me===O&&G>0){if(re.ranges>0){re.ranges=0;let Y=re.nodes.shift();re.nodes=[Y,{type:"text",value:v(re)}]}ue({type:"comma",value:me}),re.commas++;continue}if(me===C&&G>0&&re.commas===0){let Y=re.nodes;if(G===0||Y.length===0){ue({type:"text",value:me});continue}if(ne.type==="dot"){if(re.range=[],ne.value+=me,ne.type="range",re.nodes.length!==3&&re.nodes.length!==5){re.invalid=!0,re.ranges=0,ne.type="text";continue}re.ranges++,re.args=[];continue}if(ne.type==="range"){Y.pop();let we=Y[Y.length-1];we.value+=ne.value+me,ne=we,re.ranges--;continue}ue({type:"dot",value:me});continue}ue({type:"text",value:me})}do if(re=X.pop(),re.type!=="root"){re.nodes.forEach(Oe=>{Oe.nodes||(Oe.type==="open"&&(Oe.isOpen=!0),Oe.type==="close"&&(Oe.isClose=!0),Oe.nodes||(Oe.type="text"),Oe.invalid=!0)});let Y=X[X.length-1],we=Y.nodes.indexOf(re);Y.nodes.splice(we,1,...re.nodes)}while(X.length>0);return ue({type:"eos"}),j},"parse");fe.exports=N},8641:(fe,c,b)=>{"use strict";const v=b(3596);fe.exports=(p,y={})=>{let w=a((O,C={})=>{let f=y.escapeInvalid&&v.isInvalidBrace(C),E=O.invalid===!0&&y.escapeInvalid===!0,S="";if(O.value)return(f||E)&&v.isOpenOrClose(O)?"\\"+O.value:O.value;if(O.value)return O.value;if(O.nodes)for(let _ of O.nodes)S+=w(_);return S},"stringify");return w(p)}},3596:(fe,c)=>{"use strict";c.isInteger=b=>typeof b=="number"?Number.isInteger(b):typeof b=="string"&&b.trim()!==""?Number.isInteger(Number(b)):!1,c.find=(b,v)=>b.nodes.find(p=>p.type===v),c.exceedsLimit=(b,v,p=1,y)=>y===!1||!c.isInteger(b)||!c.isInteger(v)?!1:(Number(v)-Number(b))/Number(p)>=y,c.escapeNode=(b,v=0,p)=>{let y=b.nodes[v];!y||(p&&y.type===p||y.type==="open"||y.type==="close")&&y.escaped!==!0&&(y.value="\\"+y.value,y.escaped=!0)},c.encloseBrace=b=>b.type!=="brace"?!1:b.commas>>0+b.ranges>>0==0?(b.invalid=!0,!0):!1,c.isInvalidBrace=b=>b.type!=="brace"?!1:b.invalid===!0||b.dollar?!0:b.commas>>0+b.ranges>>0==0||b.open!==!0||b.close!==!0?(b.invalid=!0,!0):!1,c.isOpenOrClose=b=>b.type==="open"||b.type==="close"?!0:b.open===!0||b.close===!0,c.reduce=b=>b.reduce((v,p)=>(p.type==="text"&&v.push(p.value),p.type==="range"&&(p.type="text"),v),[]),c.flatten=(...b)=>{const v=[],p=a(y=>{for(let w=0;w<y.length;w++){let O=y[w];Array.isArray(O)?p(O,v):O!==void 0&&v.push(O)}return v},"flat");return p(b),v}},1516:(fe,c,b)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const v=b(6529),p=b(2999),y=a(R=>R!==null&&typeof R=="object"&&!Array.isArray(R),"isObject"),w=a(R=>L=>R===!0?Number(L):String(L),"transform"),O=a(R=>typeof R=="number"||typeof R=="string"&&R!=="","isValidValue"),C=a(R=>Number.isInteger(+R),"isNumber"),f=a(R=>{let L=`${R}`,j=-1;if(L[0]==="-"&&(L=L.slice(1)),L==="0")return!1;for(;L[++j]==="0";);return j>0},"zeros"),E=a((R,L,j)=>typeof R=="string"||typeof L=="string"?!0:j.stringify===!0,"stringify"),S=a((R,L,j)=>{if(L>0){let X=R[0]==="-"?"-":"";X&&(R=R.slice(1)),R=X+R.padStart(X?L-1:L,"0")}return j===!1?String(R):R},"pad"),_=a((R,L)=>{let j=R[0]==="-"?"-":"";for(j&&(R=R.slice(1),L--);R.length<L;)R="0"+R;return j?"-"+R:R},"toMaxLen"),x=a((R,L)=>{R.negatives.sort((le,Ce)=>le<Ce?-1:le>Ce?1:0),R.positives.sort((le,Ce)=>le<Ce?-1:le>Ce?1:0);let j=L.capture?"":"?:",X="",re="",ne;return R.positives.length&&(X=R.positives.join("|")),R.negatives.length&&(re=`-(${j}${R.negatives.join("|")})`),X&&re?ne=`${X}|${re}`:ne=X||re,L.wrap?`(${j}${ne})`:ne},"toSequence"),B=a((R,L,j,X)=>{if(j)return p(R,L,{wrap:!1,...X});let re=String.fromCharCode(R);if(R===L)return re;let ne=String.fromCharCode(L);return`[${re}-${ne}]`},"toRange"),I=a((R,L,j)=>{if(Array.isArray(R)){let X=j.wrap===!0,re=j.capture?"":"?:";return X?`(${re}${R.join("|")})`:R.join("|")}return p(R,L,j)},"toRegex"),q=a((...R)=>new RangeError("Invalid range arguments: "+v.inspect(...R)),"rangeError"),K=a((R,L,j)=>{if(j.strictRanges===!0)throw q([R,L]);return[]},"invalidRange"),se=a((R,L)=>{if(L.strictRanges===!0)throw new TypeError(`Expected step "${R}" to be a number`);return[]},"invalidStep"),N=a((R,L,j=1,X={})=>{let re=Number(R),ne=Number(L);if(!Number.isInteger(re)||!Number.isInteger(ne)){if(X.strictRanges===!0)throw q([R,L]);return[]}re===0&&(re=0),ne===0&&(ne=0);let le=re>ne,Ce=String(R),ie=String(L),G=String(j);j=Math.max(Math.abs(j),1);let me=f(Ce)||f(ie)||f(G),Ue=me?Math.max(Ce.length,ie.length,G.length):0,Le=me===!1&&E(R,L,X)===!1,ue=X.transform||w(Le);if(X.toRegex&&j===1)return B(_(R,Ue),_(L,Ue),!0,X);let Y={negatives:[],positives:[]},we=a(ee=>Y[ee<0?"negatives":"positives"].push(Math.abs(ee)),"push"),Oe=[],De=0;for(;le?re>=ne:re<=ne;)X.toRegex===!0&&j>1?we(re):Oe.push(S(ue(re,De),Ue,Le)),re=le?re-j:re+j,De++;return X.toRegex===!0?j>1?x(Y,X):I(Oe,null,{wrap:!1,...X}):Oe},"fillNumbers"),z=a((R,L,j=1,X={})=>{if(!C(R)&&R.length>1||!C(L)&&L.length>1)return K(R,L,X);let re=X.transform||(Le=>String.fromCharCode(Le)),ne=`${R}`.charCodeAt(0),le=`${L}`.charCodeAt(0),Ce=ne>le,ie=Math.min(ne,le),G=Math.max(ne,le);if(X.toRegex&&j===1)return B(ie,G,!1,X);let me=[],Ue=0;for(;Ce?ne>=le:ne<=le;)me.push(re(ne,Ue)),ne=Ce?ne-j:ne+j,Ue++;return X.toRegex===!0?I(me,null,{wrap:!1,options:X}):me},"fillLetters"),$=a((R,L,j,X={})=>{if(L==null&&O(R))return[R];if(!O(R)||!O(L))return K(R,L,X);if(typeof j=="function")return $(R,L,1,{transform:j});if(y(j))return $(R,L,0,j);let re={...X};return re.capture===!0&&(re.wrap=!0),j=j||re.step||1,C(j)?C(R)&&C(L)?N(R,L,j,re):z(R,L,Math.max(Math.abs(j),1),re):j!=null&&!y(j)?se(j,re):$(R,L,1,j)},"fill");fe.exports=$},3338:fe=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */fe.exports=function(c){return typeof c=="number"?c-c==0:typeof c=="string"&&c.trim()!==""?Number.isFinite?Number.isFinite(+c):isFinite(+c):!1}},5179:(fe,c,b)=>{fe=b.nmd(fe);var v=200,p="__lodash_hash_undefined__",y=1,w=2,O=9007199254740991,C="[object Arguments]",f="[object Array]",E="[object AsyncFunction]",S="[object Boolean]",_="[object Date]",x="[object Error]",B="[object Function]",I="[object GeneratorFunction]",q="[object Map]",K="[object Number]",se="[object Null]",N="[object Object]",z="[object Promise]",$="[object Proxy]",R="[object RegExp]",L="[object Set]",j="[object String]",X="[object Symbol]",re="[object Undefined]",ne="[object WeakMap]",le="[object ArrayBuffer]",Ce="[object DataView]",ie="[object Float32Array]",G="[object Float64Array]",me="[object Int8Array]",Ue="[object Int16Array]",Le="[object Int32Array]",ue="[object Uint8Array]",Y="[object Uint8ClampedArray]",we="[object Uint16Array]",Oe="[object Uint32Array]",De=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,ct=/^(?:0|[1-9]\d*)$/,qe={};qe[ie]=qe[G]=qe[me]=qe[Ue]=qe[Le]=qe[ue]=qe[Y]=qe[we]=qe[Oe]=!0,qe[C]=qe[f]=qe[le]=qe[S]=qe[Ce]=qe[_]=qe[x]=qe[B]=qe[q]=qe[K]=qe[N]=qe[R]=qe[L]=qe[j]=qe[ne]=!1;var Ze=typeof b.g=="object"&&b.g&&b.g.Object===Object&&b.g,Z=typeof self=="object"&&self&&self.Object===Object&&self,te=Ze||Z||Function("return this")(),ae=c&&!c.nodeType&&c,_e=ae&&!0&&fe&&!fe.nodeType&&fe,Ge=_e&&_e.exports===ae,lt=Ge&&Ze.process,Se=function(){try{return lt&&lt.binding&&lt.binding("util")}catch(P){}}(),Re=Se&&Se.isTypedArray;function Te(P,W){for(var ye=-1,Ke=P==null?0:P.length,Dt=0,ht=[];++ye<Ke;){var be=P[ye];W(be,ye,P)&&(ht[Dt++]=be)}return ht}a(Te,"arrayFilter");function xe(P,W){for(var ye=-1,Ke=W.length,Dt=P.length;++ye<Ke;)P[Dt+ye]=W[ye];return P}a(xe,"arrayPush");function ke(P,W){for(var ye=-1,Ke=P==null?0:P.length;++ye<Ke;)if(W(P[ye],ye,P))return!0;return!1}a(ke,"arraySome");function ve(P,W){for(var ye=-1,Ke=Array(P);++ye<P;)Ke[ye]=W(ye);return Ke}a(ve,"baseTimes");function ft(P){return function(W){return P(W)}}a(ft,"baseUnary");function We(P,W){return P.has(W)}a(We,"cacheHas");function U(P,W){return P==null?void 0:P[W]}a(U,"getValue");function J(P){var W=-1,ye=Array(P.size);return P.forEach(function(Ke,Dt){ye[++W]=[Dt,Ke]}),ye}a(J,"mapToArray");function ge(P,W){return function(ye){return P(W(ye))}}a(ge,"overArg");function Qe(P){var W=-1,ye=Array(P.size);return P.forEach(function(Ke){ye[++W]=Ke}),ye}a(Qe,"setToArray");var ut=Array.prototype,wt=Function.prototype,ot=Object.prototype,D=te["__core-js_shared__"],h=wt.toString,m=ot.hasOwnProperty,Q=function(){var P=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),de=ot.toString,Ne=RegExp("^"+h.call(m).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=Ge?te.Buffer:void 0,st=te.Symbol,Ot=te.Uint8Array,vt=ot.propertyIsEnumerable,kt=ut.splice,nt=st?st.toStringTag:void 0,Jt=Object.getOwnPropertySymbols,ar=he?he.isBuffer:void 0,Qt=ge(Object.keys,Object),Gt=tn(te,"DataView"),yr=tn(te,"Map"),Ir=tn(te,"Promise"),bn=tn(te,"Set"),Xr=tn(te,"WeakMap"),Or=tn(Object,"create"),Ln=_n(Gt),pn=_n(yr),qn=_n(Ir),In=_n(bn),Tn=_n(Xr),Mn=st?st.prototype:void 0,ce=Mn?Mn.valueOf:void 0;function Je(P){var W=-1,ye=P==null?0:P.length;for(this.clear();++W<ye;){var Ke=P[W];this.set(Ke[0],Ke[1])}}a(Je,"Hash");function pt(){this.__data__=Or?Or(null):{},this.size=0}a(pt,"hashClear");function Ct(P){var W=this.has(P)&&delete this.__data__[P];return this.size-=W?1:0,W}a(Ct,"hashDelete");function Wt(P){var W=this.__data__;if(Or){var ye=W[P];return ye===p?void 0:ye}return m.call(W,P)?W[P]:void 0}a(Wt,"hashGet");function Ut(P){var W=this.__data__;return Or?W[P]!==void 0:m.call(W,P)}a(Ut,"hashHas");function Pr(P,W){var ye=this.__data__;return this.size+=this.has(P)?0:1,ye[P]=Or&&W===void 0?p:W,this}a(Pr,"hashSet"),Je.prototype.clear=pt,Je.prototype.delete=Ct,Je.prototype.get=Wt,Je.prototype.has=Ut,Je.prototype.set=Pr;function Nr(P){var W=-1,ye=P==null?0:P.length;for(this.clear();++W<ye;){var Ke=P[W];this.set(Ke[0],Ke[1])}}a(Nr,"ListCache");function Tt(){this.__data__=[],this.size=0}a(Tt,"listCacheClear");function Rt(P){var W=this.__data__,ye=wr(W,P);if(ye<0)return!1;var Ke=W.length-1;return ye==Ke?W.pop():kt.call(W,ye,1),--this.size,!0}a(Rt,"listCacheDelete");function $t(P){var W=this.__data__,ye=wr(W,P);return ye<0?void 0:W[ye][1]}a($t,"listCacheGet");function _t(P){return wr(this.__data__,P)>-1}a(_t,"listCacheHas");function Xt(P,W){var ye=this.__data__,Ke=wr(ye,P);return Ke<0?(++this.size,ye.push([P,W])):ye[Ke][1]=W,this}a(Xt,"listCacheSet"),Nr.prototype.clear=Tt,Nr.prototype.delete=Rt,Nr.prototype.get=$t,Nr.prototype.has=_t,Nr.prototype.set=Xt;function zt(P){var W=-1,ye=P==null?0:P.length;for(this.clear();++W<ye;){var Ke=P[W];this.set(Ke[0],Ke[1])}}a(zt,"MapCache");function Et(){this.size=0,this.__data__={hash:new Je,map:new(yr||Nr),string:new Je}}a(Et,"mapCacheClear");function tr(P){var W=Wr(this,P).delete(P);return this.size-=W?1:0,W}a(tr,"mapCacheDelete");function or(P){return Wr(this,P).get(P)}a(or,"mapCacheGet");function _r(P){return Wr(this,P).has(P)}a(_r,"mapCacheHas");function gr(P,W){var ye=Wr(this,P),Ke=ye.size;return ye.set(P,W),this.size+=ye.size==Ke?0:1,this}a(gr,"mapCacheSet"),zt.prototype.clear=Et,zt.prototype.delete=tr,zt.prototype.get=or,zt.prototype.has=_r,zt.prototype.set=gr;function $r(P){var W=-1,ye=P==null?0:P.length;for(this.__data__=new zt;++W<ye;)this.add(P[W])}a($r,"SetCache");function xr(P){return this.__data__.set(P,p),this}a(xr,"setCacheAdd");function Fr(P){return this.__data__.has(P)}a(Fr,"setCacheHas"),$r.prototype.add=$r.prototype.push=xr,$r.prototype.has=Fr;function fr(P){var W=this.__data__=new Nr(P);this.size=W.size}a(fr,"Stack");function Lt(){this.__data__=new Nr,this.size=0}a(Lt,"stackClear");function rr(P){var W=this.__data__,ye=W.delete(P);return this.size=W.size,ye}a(rr,"stackDelete");function er(P){return this.__data__.get(P)}a(er,"stackGet");function Er(P){return this.__data__.has(P)}a(Er,"stackHas");function Kt(P,W){var ye=this.__data__;if(ye instanceof Nr){var Ke=ye.__data__;if(!yr||Ke.length<v-1)return Ke.push([P,W]),this.size=++ye.size,this;ye=this.__data__=new zt(Ke)}return ye.set(P,W),this.size=ye.size,this}a(Kt,"stackSet"),fr.prototype.clear=Lt,fr.prototype.delete=rr,fr.prototype.get=er,fr.prototype.has=Er,fr.prototype.set=Kt;function ur(P,W){var ye=dn(P),Ke=!ye&&wn(P),Dt=!ye&&!Ke&&On(P),ht=!ye&&!Ke&&!Dt&&Cr(P),be=ye||Ke||Dt||ht,Pe=be?ve(P.length,String):[],He=Pe.length;for(var et in P)(W||m.call(P,et))&&!(be&&(et=="length"||Dt&&(et=="offset"||et=="parent")||ht&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Ur(et,He)))&&Pe.push(et);return Pe}a(ur,"arrayLikeKeys");function wr(P,W){for(var ye=P.length;ye--;)if(gi(P[ye][0],W))return ye;return-1}a(wr,"assocIndexOf");function Dr(P,W,ye){var Ke=W(P);return dn(P)?Ke:xe(Ke,ye(P))}a(Dr,"baseGetAllKeys");function nr(P){return P==null?P===void 0?re:se:nt&&nt in Object(P)?zr(P):xn(P)}a(nr,"baseGetTag");function Ar(P){return An(P)&&nr(P)==C}a(Ar,"baseIsArguments");function Br(P,W,ye,Ke,Dt){return P===W?!0:P==null||W==null||!An(P)&&!An(W)?P!==P&&W!==W:Rr(P,W,ye,Ke,Br,Dt)}a(Br,"baseIsEqual");function Rr(P,W,ye,Ke,Dt,ht){var be=dn(P),Pe=dn(W),He=be?f:rn(P),et=Pe?f:rn(W);He=He==C?N:He,et=et==C?N:et;var gt=He==N,yt=et==N,Ht=He==et;if(Ht&&On(P)){if(!On(W))return!1;be=!0,gt=!1}if(Ht&&!gt)return ht||(ht=new fr),be||Cr(P)?Yt(P,W,ye,Ke,Dt,ht):Nt(P,W,He,ye,Ke,Dt,ht);if(!(ye&y)){var Bt=gt&&m.call(P,"__wrapped__"),qt=yt&&m.call(W,"__wrapped__");if(Bt||qt){var Gr=Bt?P.value():P,jt=qt?W.value():W;return ht||(ht=new fr),Dt(Gr,jt,ye,Ke,ht)}}return Ht?(ht||(ht=new fr),Lr(P,W,ye,Ke,Dt,ht)):!1}a(Rr,"baseIsEqualDeep");function Hr(P){if(!Qn(P)||vn(P))return!1;var W=Zn(P)?Ne:ee;return W.test(_n(P))}a(Hr,"baseIsNative");function Xe(P){return An(P)&&Cn(P.length)&&!!qe[nr(P)]}a(Xe,"baseIsTypedArray");function kr(P){if(!mn(P))return Qt(P);var W=[];for(var ye in Object(P))m.call(P,ye)&&ye!="constructor"&&W.push(ye);return W}a(kr,"baseKeys");function Yt(P,W,ye,Ke,Dt,ht){var be=ye&y,Pe=P.length,He=W.length;if(Pe!=He&&!(be&&He>Pe))return!1;var et=ht.get(P);if(et&&ht.get(W))return et==W;var gt=-1,yt=!0,Ht=ye&w?new $r:void 0;for(ht.set(P,W),ht.set(W,P);++gt<Pe;){var Bt=P[gt],qt=W[gt];if(Ke)var Gr=be?Ke(qt,Bt,gt,W,P,ht):Ke(Bt,qt,gt,P,W,ht);if(Gr!==void 0){if(Gr)continue;yt=!1;break}if(Ht){if(!ke(W,function(jt,Jr){if(!We(Ht,Jr)&&(Bt===jt||Dt(Bt,jt,ye,Ke,ht)))return Ht.push(Jr)})){yt=!1;break}}else if(!(Bt===qt||Dt(Bt,qt,ye,Ke,ht))){yt=!1;break}}return ht.delete(P),ht.delete(W),yt}a(Yt,"equalArrays");function Nt(P,W,ye,Ke,Dt,ht,be){switch(ye){case Ce:if(P.byteLength!=W.byteLength||P.byteOffset!=W.byteOffset)return!1;P=P.buffer,W=W.buffer;case le:return!(P.byteLength!=W.byteLength||!ht(new Ot(P),new Ot(W)));case S:case _:case K:return gi(+P,+W);case x:return P.name==W.name&&P.message==W.message;case R:case j:return P==W+"";case q:var Pe=J;case L:var He=Ke&y;if(Pe||(Pe=Qe),P.size!=W.size&&!He)return!1;var et=be.get(P);if(et)return et==W;Ke|=w,be.set(P,W);var gt=Yt(Pe(P),Pe(W),Ke,Dt,ht,be);return be.delete(P),gt;case X:if(ce)return ce.call(P)==ce.call(W)}return!1}a(Nt,"equalByTag");function Lr(P,W,ye,Ke,Dt,ht){var be=ye&y,Pe=Sn(P),He=Pe.length,et=Sn(W),gt=et.length;if(He!=gt&&!be)return!1;for(var yt=He;yt--;){var Ht=Pe[yt];if(!(be?Ht in W:m.call(W,Ht)))return!1}var Bt=ht.get(P);if(Bt&&ht.get(W))return Bt==W;var qt=!0;ht.set(P,W),ht.set(W,P);for(var Gr=be;++yt<He;){Ht=Pe[yt];var jt=P[Ht],Jr=W[Ht];if(Ke)var Yr=be?Ke(Jr,jt,Ht,W,P,ht):Ke(jt,Jr,Ht,P,W,ht);if(!(Yr===void 0?jt===Jr||Dt(jt,Jr,ye,Ke,ht):Yr)){qt=!1;break}Gr||(Gr=Ht=="constructor")}if(qt&&!Gr){var Zr=P.constructor,yn=W.constructor;Zr!=yn&&"constructor"in P&&"constructor"in W&&!(typeof Zr=="function"&&Zr instanceof Zr&&typeof yn=="function"&&yn instanceof yn)&&(qt=!1)}return ht.delete(P),ht.delete(W),qt}a(Lr,"equalObjects");function Sn(P){return Dr(P,Mr,Bn)}a(Sn,"getAllKeys");function Wr(P,W){var ye=P.__data__;return Vn(W)?ye[typeof W=="string"?"string":"hash"]:ye.map}a(Wr,"getMapData");function tn(P,W){var ye=U(P,W);return Hr(ye)?ye:void 0}a(tn,"getNative");function zr(P){var W=m.call(P,nt),ye=P[nt];try{P[nt]=void 0;var Ke=!0}catch(ht){}var Dt=de.call(P);return Ke&&(W?P[nt]=ye:delete P[nt]),Dt}a(zr,"getRawTag");var Bn=Jt?function(P){return P==null?[]:(P=Object(P),Te(Jt(P),function(W){return vt.call(P,W)}))}:Tr,rn=nr;(Gt&&rn(new Gt(new ArrayBuffer(1)))!=Ce||yr&&rn(new yr)!=q||Ir&&rn(Ir.resolve())!=z||bn&&rn(new bn)!=L||Xr&&rn(new Xr)!=ne)&&(rn=a(function(P){var W=nr(P),ye=W==N?P.constructor:void 0,Ke=ye?_n(ye):"";if(Ke)switch(Ke){case Ln:return Ce;case pn:return q;case qn:return z;case In:return L;case Tn:return ne}return W},"getTag"));function Ur(P,W){return W=W==null?O:W,!!W&&(typeof P=="number"||ct.test(P))&&P>-1&&P%1==0&&P<W}a(Ur,"isIndex");function Vn(P){var W=typeof P;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?P!=="__proto__":P===null}a(Vn,"isKeyable");function vn(P){return!!Q&&Q in P}a(vn,"isMasked");function mn(P){var W=P&&P.constructor,ye=typeof W=="function"&&W.prototype||ot;return P===ye}a(mn,"isPrototype");function xn(P){return de.call(P)}a(xn,"objectToString");function _n(P){if(P!=null){try{return h.call(P)}catch(W){}try{return P+""}catch(W){}}return""}a(_n,"toSource");function gi(P,W){return P===W||P!==P&&W!==W}a(gi,"eq");var wn=Ar(function(){return arguments}())?Ar:function(P){return An(P)&&m.call(P,"callee")&&!vt.call(P,"callee")},dn=Array.isArray;function Fn(P){return P!=null&&Cn(P.length)&&!Zn(P)}a(Fn,"isArrayLike");var On=ar||Ae;function ni(P,W){return Br(P,W)}a(ni,"isEqual");function Zn(P){if(!Qn(P))return!1;var W=nr(P);return W==B||W==I||W==E||W==$}a(Zn,"isFunction");function Cn(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=O}a(Cn,"isLength");function Qn(P){var W=typeof P;return P!=null&&(W=="object"||W=="function")}a(Qn,"isObject");function An(P){return P!=null&&typeof P=="object"}a(An,"isObjectLike");var Cr=Re?ft(Re):Xe;function Mr(P){return Fn(P)?ur(P):kr(P)}a(Mr,"keys");function Tr(){return[]}a(Tr,"stubArray");function Ae(){return!1}a(Ae,"stubFalse"),fe.exports=ni},919:(fe,c,b)=>{"use strict";const v=b(6391),p=b(6232),y=b(6796),w=b(292),O=a(f=>f===""||f==="./","isEmptyString"),C=a((f,E,S)=>{E=[].concat(E),f=[].concat(f);let _=new Set,x=new Set,B=new Set,I=0,q=a(N=>{B.add(N.output),S&&S.onResult&&S.onResult(N)},"onResult");for(let N=0;N<E.length;N++){let z=y(String(E[N]),{...S,onResult:q},!0),$=z.state.negated||z.state.negatedExtglob;$&&I++;for(let R of f){let L=z(R,!0);!($?!L.isMatch:L.isMatch)||($?_.add(L.output):(_.delete(L.output),x.add(L.output)))}}let se=(I===E.length?[...B]:[...x]).filter(N=>!_.has(N));if(S&&se.length===0){if(S.failglob===!0)throw new Error(`No matches found for "${E.join(", ")}"`);if(S.nonull===!0||S.nullglob===!0)return S.unescape?E.map(N=>N.replace(/\\/g,"")):E}return se},"micromatch");C.match=C,C.matcher=(f,E)=>y(f,E),C.isMatch=(f,E,S)=>y(E,S)(f),C.any=C.isMatch,C.not=(f,E,S={})=>{E=[].concat(E).map(String);let _=new Set,x=[],B=a(q=>{S.onResult&&S.onResult(q),x.push(q.output)},"onResult"),I=new Set(C(f,E,{...S,onResult:B}));for(let q of x)I.has(q)||_.add(q);return[..._]},C.contains=(f,E,S)=>{if(typeof f!="string")throw new TypeError(`Expected a string: "${v.inspect(f)}"`);if(Array.isArray(E))return E.some(_=>C.contains(f,_,S));if(typeof E=="string"){if(O(f)||O(E))return!1;if(f.includes(E)||f.startsWith("./")&&f.slice(2).includes(E))return!0}return C.isMatch(f,E,{...S,contains:!0})},C.matchKeys=(f,E,S)=>{if(!w.isObject(f))throw new TypeError("Expected the first argument to be an object");let _=C(Object.keys(f),E,S),x={};for(let B of _)x[B]=f[B];return x},C.some=(f,E,S)=>{let _=[].concat(f);for(let x of[].concat(E)){let B=y(String(x),S);if(_.some(I=>B(I)))return!0}return!1},C.every=(f,E,S)=>{let _=[].concat(f);for(let x of[].concat(E)){let B=y(String(x),S);if(!_.every(I=>B(I)))return!1}return!0},C.all=(f,E,S)=>{if(typeof f!="string")throw new TypeError(`Expected a string: "${v.inspect(f)}"`);return[].concat(E).every(_=>y(_,S)(f))},C.capture=(f,E,S)=>{let _=w.isWindows(S),B=y.makeRe(String(f),{...S,capture:!0}).exec(_?w.toPosixSlashes(E):E);if(B)return B.slice(1).map(I=>I===void 0?"":I)},C.makeRe=(...f)=>y.makeRe(...f),C.scan=(...f)=>y.scan(...f),C.parse=(f,E)=>{let S=[];for(let _ of[].concat(f||[]))for(let x of p(String(_),E))S.push(y.parse(x,E));return S},C.braces=(f,E)=>{if(typeof f!="string")throw new TypeError("Expected a string");return E&&E.nobrace===!0||!/\{.*\}/.test(f)?[f]:p(f,E)},C.braceExpand=(f,E)=>{if(typeof f!="string")throw new TypeError("Expected a string");return C.braces(f,{...E,expand:!0})},fe.exports=C},6796:(fe,c,b)=>{"use strict";fe.exports=b(5761)},3889:(fe,c,b)=>{"use strict";const v=b(6470),p="\\\\/",y=`[^${p}]`,w="\\.",O="\\+",C="\\?",f="\\/",E="(?=.)",S="[^/]",_=`(?:${f}|$)`,x=`(?:^|${f})`,B=`${w}{1,2}${_}`,I=`(?!${w})`,q=`(?!${x}${B})`,K=`(?!${w}{0,1}${_})`,se=`(?!${B})`,N=`[^.${f}]`,z=`${S}*?`,$={DOT_LITERAL:w,PLUS_LITERAL:O,QMARK_LITERAL:C,SLASH_LITERAL:f,ONE_CHAR:E,QMARK:S,END_ANCHOR:_,DOTS_SLASH:B,NO_DOT:I,NO_DOTS:q,NO_DOT_SLASH:K,NO_DOTS_SLASH:se,QMARK_NO_DOT:N,STAR:z,START_ANCHOR:x},R={...$,SLASH_LITERAL:`[${p}]`,QMARK:y,STAR:`${y}*?`,DOTS_SLASH:`${w}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${w})`,NO_DOTS:`(?!(?:^|[${p}])${w}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${w}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${w}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},L={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fe.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:L,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:v.sep,extglobChars(j){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${j.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(j){return j===!0?R:$}}},3969:(fe,c,b)=>{"use strict";const v=b(3889),p=b(292),{MAX_LENGTH:y,POSIX_REGEX_SOURCE:w,REGEX_NON_SPECIAL_CHARS:O,REGEX_SPECIAL_CHARS_BACKREF:C,REPLACEMENTS:f}=v,E=a((x,B)=>{if(typeof B.expandRange=="function")return B.expandRange(...x,B);x.sort();const I=`[${x.join("-")}]`;try{new RegExp(I)}catch(q){return x.map(K=>p.escapeRegex(K)).join("..")}return I},"expandRange"),S=a((x,B)=>`Missing ${x}: "${B}" - use "\\\\${B}" to match literal characters`,"syntaxError"),_=a((x,B)=>{if(typeof x!="string")throw new TypeError("Expected a string");x=f[x]||x;const I={...B},q=typeof I.maxLength=="number"?Math.min(y,I.maxLength):y;let K=x.length;if(K>q)throw new SyntaxError(`Input length: ${K}, exceeds maximum allowed length: ${q}`);const se={type:"bos",value:"",output:I.prepend||""},N=[se],z=I.capture?"":"?:",$=p.isWindows(B),R=v.globChars($),L=v.extglobChars(R),{DOT_LITERAL:j,PLUS_LITERAL:X,SLASH_LITERAL:re,ONE_CHAR:ne,DOTS_SLASH:le,NO_DOT:Ce,NO_DOT_SLASH:ie,NO_DOTS_SLASH:G,QMARK:me,QMARK_NO_DOT:Ue,STAR:Le,START_ANCHOR:ue}=R,Y=a(U=>`(${z}(?:(?!${ue}${U.dot?le:j}).)*?)`,"globstar"),we=I.dot?"":Ce,Oe=I.dot?me:Ue;let De=I.bash===!0?Y(I):Le;I.capture&&(De=`(${De})`),typeof I.noext=="boolean"&&(I.noextglob=I.noext);const ee={input:x,index:-1,start:0,dot:I.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:N};x=p.removePrefix(x,ee),K=x.length;const ct=[],qe=[],Ze=[];let Z=se,te;const ae=a(()=>ee.index===K-1,"eos"),_e=ee.peek=(U=1)=>x[ee.index+U],Ge=ee.advance=()=>x[++ee.index]||"",lt=a(()=>x.slice(ee.index+1),"remaining"),Se=a((U="",J=0)=>{ee.consumed+=U,ee.index+=J},"consume"),Re=a(U=>{ee.output+=U.output!=null?U.output:U.value,Se(U.value)},"append"),Te=a(()=>{let U=1;for(;_e()==="!"&&(_e(2)!=="("||_e(3)==="?");)Ge(),ee.start++,U++;return U%2==0?!1:(ee.negated=!0,ee.start++,!0)},"negate"),xe=a(U=>{ee[U]++,Ze.push(U)},"increment"),ke=a(U=>{ee[U]--,Ze.pop()},"decrement"),ve=a(U=>{if(Z.type==="globstar"){const J=ee.braces>0&&(U.type==="comma"||U.type==="brace"),ge=U.extglob===!0||ct.length&&(U.type==="pipe"||U.type==="paren");U.type!=="slash"&&U.type!=="paren"&&!J&&!ge&&(ee.output=ee.output.slice(0,-Z.output.length),Z.type="star",Z.value="*",Z.output=De,ee.output+=Z.output)}if(ct.length&&U.type!=="paren"&&(ct[ct.length-1].inner+=U.value),(U.value||U.output)&&Re(U),Z&&Z.type==="text"&&U.type==="text"){Z.value+=U.value,Z.output=(Z.output||"")+U.value;return}U.prev=Z,N.push(U),Z=U},"push"),ft=a((U,J)=>{const ge={...L[J],conditions:1,inner:""};ge.prev=Z,ge.parens=ee.parens,ge.output=ee.output;const Qe=(I.capture?"(":"")+ge.open;xe("parens"),ve({type:U,value:J,output:ee.output?"":ne}),ve({type:"paren",extglob:!0,value:Ge(),output:Qe}),ct.push(ge)},"extglobOpen"),We=a(U=>{let J=U.close+(I.capture?")":""),ge;if(U.type==="negate"){let Qe=De;if(U.inner&&U.inner.length>1&&U.inner.includes("/")&&(Qe=Y(I)),(Qe!==De||ae()||/^\)+$/.test(lt()))&&(J=U.close=`)$))${Qe}`),U.inner.includes("*")&&(ge=lt())&&/^\.[^\\/.]+$/.test(ge)){const ut=_(ge,{...B,fastpaths:!1}).output;J=U.close=`)${ut})${Qe})`}U.prev.type==="bos"&&(ee.negatedExtglob=!0)}ve({type:"paren",extglob:!0,value:te,output:J}),ke("parens")},"extglobClose");if(I.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(x)){let U=!1,J=x.replace(C,(ge,Qe,ut,wt,ot,D)=>wt==="\\"?(U=!0,ge):wt==="?"?Qe?Qe+wt+(ot?me.repeat(ot.length):""):D===0?Oe+(ot?me.repeat(ot.length):""):me.repeat(ut.length):wt==="."?j.repeat(ut.length):wt==="*"?Qe?Qe+wt+(ot?De:""):De:Qe?ge:`\\${ge}`);return U===!0&&(I.unescape===!0?J=J.replace(/\\/g,""):J=J.replace(/\\+/g,ge=>ge.length%2==0?"\\\\":ge?"\\":"")),J===x&&I.contains===!0?(ee.output=x,ee):(ee.output=p.wrapOutput(J,ee,B),ee)}for(;!ae();){if(te=Ge(),te==="\0")continue;if(te==="\\"){const ge=_e();if(ge==="/"&&I.bash!==!0||ge==="."||ge===";")continue;if(!ge){te+="\\",ve({type:"text",value:te});continue}const Qe=/^\\+/.exec(lt());let ut=0;if(Qe&&Qe[0].length>2&&(ut=Qe[0].length,ee.index+=ut,ut%2!=0&&(te+="\\")),I.unescape===!0?te=Ge():te+=Ge(),ee.brackets===0){ve({type:"text",value:te});continue}}if(ee.brackets>0&&(te!=="]"||Z.value==="["||Z.value==="[^")){if(I.posix!==!1&&te===":"){const ge=Z.value.slice(1);if(ge.includes("[")&&(Z.posix=!0,ge.includes(":"))){const Qe=Z.value.lastIndexOf("["),ut=Z.value.slice(0,Qe),wt=Z.value.slice(Qe+2),ot=w[wt];if(ot){Z.value=ut+ot,ee.backtrack=!0,Ge(),!se.output&&N.indexOf(Z)===1&&(se.output=ne);continue}}}(te==="["&&_e()!==":"||te==="-"&&_e()==="]")&&(te=`\\${te}`),te==="]"&&(Z.value==="["||Z.value==="[^")&&(te=`\\${te}`),I.posix===!0&&te==="!"&&Z.value==="["&&(te="^"),Z.value+=te,Re({value:te});continue}if(ee.quotes===1&&te!=='"'){te=p.escapeRegex(te),Z.value+=te,Re({value:te});continue}if(te==='"'){ee.quotes=ee.quotes===1?0:1,I.keepQuotes===!0&&ve({type:"text",value:te});continue}if(te==="("){xe("parens"),ve({type:"paren",value:te});continue}if(te===")"){if(ee.parens===0&&I.strictBrackets===!0)throw new SyntaxError(S("opening","("));const ge=ct[ct.length-1];if(ge&&ee.parens===ge.parens+1){We(ct.pop());continue}ve({type:"paren",value:te,output:ee.parens?")":"\\)"}),ke("parens");continue}if(te==="["){if(I.nobracket===!0||!lt().includes("]")){if(I.nobracket!==!0&&I.strictBrackets===!0)throw new SyntaxError(S("closing","]"));te=`\\${te}`}else xe("brackets");ve({type:"bracket",value:te});continue}if(te==="]"){if(I.nobracket===!0||Z&&Z.type==="bracket"&&Z.value.length===1){ve({type:"text",value:te,output:`\\${te}`});continue}if(ee.brackets===0){if(I.strictBrackets===!0)throw new SyntaxError(S("opening","["));ve({type:"text",value:te,output:`\\${te}`});continue}ke("brackets");const ge=Z.value.slice(1);if(Z.posix!==!0&&ge[0]==="^"&&!ge.includes("/")&&(te=`/${te}`),Z.value+=te,Re({value:te}),I.literalBrackets===!1||p.hasRegexChars(ge))continue;const Qe=p.escapeRegex(Z.value);if(ee.output=ee.output.slice(0,-Z.value.length),I.literalBrackets===!0){ee.output+=Qe,Z.value=Qe;continue}Z.value=`(${z}${Qe}|${Z.value})`,ee.output+=Z.value;continue}if(te==="{"&&I.nobrace!==!0){xe("braces");const ge={type:"brace",value:te,output:"(",outputIndex:ee.output.length,tokensIndex:ee.tokens.length};qe.push(ge),ve(ge);continue}if(te==="}"){const ge=qe[qe.length-1];if(I.nobrace===!0||!ge){ve({type:"text",value:te,output:te});continue}let Qe=")";if(ge.dots===!0){const ut=N.slice(),wt=[];for(let ot=ut.length-1;ot>=0&&(N.pop(),ut[ot].type!=="brace");ot--)ut[ot].type!=="dots"&&wt.unshift(ut[ot].value);Qe=E(wt,I),ee.backtrack=!0}if(ge.comma!==!0&&ge.dots!==!0){const ut=ee.output.slice(0,ge.outputIndex),wt=ee.tokens.slice(ge.tokensIndex);ge.value=ge.output="\\{",te=Qe="\\}",ee.output=ut;for(const ot of wt)ee.output+=ot.output||ot.value}ve({type:"brace",value:te,output:Qe}),ke("braces"),qe.pop();continue}if(te==="|"){ct.length>0&&ct[ct.length-1].conditions++,ve({type:"text",value:te});continue}if(te===","){let ge=te;const Qe=qe[qe.length-1];Qe&&Ze[Ze.length-1]==="braces"&&(Qe.comma=!0,ge="|"),ve({type:"comma",value:te,output:ge});continue}if(te==="/"){if(Z.type==="dot"&&ee.index===ee.start+1){ee.start=ee.index+1,ee.consumed="",ee.output="",N.pop(),Z=se;continue}ve({type:"slash",value:te,output:re});continue}if(te==="."){if(ee.braces>0&&Z.type==="dot"){Z.value==="."&&(Z.output=j);const ge=qe[qe.length-1];Z.type="dots",Z.output+=te,Z.value+=te,ge.dots=!0;continue}if(ee.braces+ee.parens===0&&Z.type!=="bos"&&Z.type!=="slash"){ve({type:"text",value:te,output:j});continue}ve({type:"dot",value:te,output:j});continue}if(te==="?"){if(!(Z&&Z.value==="(")&&I.noextglob!==!0&&_e()==="("&&_e(2)!=="?"){ft("qmark",te);continue}if(Z&&Z.type==="paren"){const Qe=_e();let ut=te;if(Qe==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(Z.value==="("&&!/[!=<:]/.test(Qe)||Qe==="<"&&!/<([!=]|\w+>)/.test(lt()))&&(ut=`\\${te}`),ve({type:"text",value:te,output:ut});continue}if(I.dot!==!0&&(Z.type==="slash"||Z.type==="bos")){ve({type:"qmark",value:te,output:Ue});continue}ve({type:"qmark",value:te,output:me});continue}if(te==="!"){if(I.noextglob!==!0&&_e()==="("&&(_e(2)!=="?"||!/[!=<:]/.test(_e(3)))){ft("negate",te);continue}if(I.nonegate!==!0&&ee.index===0){Te();continue}}if(te==="+"){if(I.noextglob!==!0&&_e()==="("&&_e(2)!=="?"){ft("plus",te);continue}if(Z&&Z.value==="("||I.regex===!1){ve({type:"plus",value:te,output:X});continue}if(Z&&(Z.type==="bracket"||Z.type==="paren"||Z.type==="brace")||ee.parens>0){ve({type:"plus",value:te});continue}ve({type:"plus",value:X});continue}if(te==="@"){if(I.noextglob!==!0&&_e()==="("&&_e(2)!=="?"){ve({type:"at",extglob:!0,value:te,output:""});continue}ve({type:"text",value:te});continue}if(te!=="*"){(te==="$"||te==="^")&&(te=`\\${te}`);const ge=O.exec(lt());ge&&(te+=ge[0],ee.index+=ge[0].length),ve({type:"text",value:te});continue}if(Z&&(Z.type==="globstar"||Z.star===!0)){Z.type="star",Z.star=!0,Z.value+=te,Z.output=De,ee.backtrack=!0,ee.globstar=!0,Se(te);continue}let U=lt();if(I.noextglob!==!0&&/^\([^?]/.test(U)){ft("star",te);continue}if(Z.type==="star"){if(I.noglobstar===!0){Se(te);continue}const ge=Z.prev,Qe=ge.prev,ut=ge.type==="slash"||ge.type==="bos",wt=Qe&&(Qe.type==="star"||Qe.type==="globstar");if(I.bash===!0&&(!ut||U[0]&&U[0]!=="/")){ve({type:"star",value:te,output:""});continue}const ot=ee.braces>0&&(ge.type==="comma"||ge.type==="brace"),D=ct.length&&(ge.type==="pipe"||ge.type==="paren");if(!ut&&ge.type!=="paren"&&!ot&&!D){ve({type:"star",value:te,output:""});continue}for(;U.slice(0,3)==="/**";){const h=x[ee.index+4];if(h&&h!=="/")break;U=U.slice(3),Se("/**",3)}if(ge.type==="bos"&&ae()){Z.type="globstar",Z.value+=te,Z.output=Y(I),ee.output=Z.output,ee.globstar=!0,Se(te);continue}if(ge.type==="slash"&&ge.prev.type!=="bos"&&!wt&&ae()){ee.output=ee.output.slice(0,-(ge.output+Z.output).length),ge.output=`(?:${ge.output}`,Z.type="globstar",Z.output=Y(I)+(I.strictSlashes?")":"|$)"),Z.value+=te,ee.globstar=!0,ee.output+=ge.output+Z.output,Se(te);continue}if(ge.type==="slash"&&ge.prev.type!=="bos"&&U[0]==="/"){const h=U[1]!==void 0?"|$":"";ee.output=ee.output.slice(0,-(ge.output+Z.output).length),ge.output=`(?:${ge.output}`,Z.type="globstar",Z.output=`${Y(I)}${re}|${re}${h})`,Z.value+=te,ee.output+=ge.output+Z.output,ee.globstar=!0,Se(te+Ge()),ve({type:"slash",value:"/",output:""});continue}if(ge.type==="bos"&&U[0]==="/"){Z.type="globstar",Z.value+=te,Z.output=`(?:^|${re}|${Y(I)}${re})`,ee.output=Z.output,ee.globstar=!0,Se(te+Ge()),ve({type:"slash",value:"/",output:""});continue}ee.output=ee.output.slice(0,-Z.output.length),Z.type="globstar",Z.output=Y(I),Z.value+=te,ee.output+=Z.output,ee.globstar=!0,Se(te);continue}const J={type:"star",value:te,output:De};if(I.bash===!0){J.output=".*?",(Z.type==="bos"||Z.type==="slash")&&(J.output=we+J.output),ve(J);continue}if(Z&&(Z.type==="bracket"||Z.type==="paren")&&I.regex===!0){J.output=te,ve(J);continue}(ee.index===ee.start||Z.type==="slash"||Z.type==="dot")&&(Z.type==="dot"?(ee.output+=ie,Z.output+=ie):I.dot===!0?(ee.output+=G,Z.output+=G):(ee.output+=we,Z.output+=we),_e()!=="*"&&(ee.output+=ne,Z.output+=ne)),ve(J)}for(;ee.brackets>0;){if(I.strictBrackets===!0)throw new SyntaxError(S("closing","]"));ee.output=p.escapeLast(ee.output,"["),ke("brackets")}for(;ee.parens>0;){if(I.strictBrackets===!0)throw new SyntaxError(S("closing",")"));ee.output=p.escapeLast(ee.output,"("),ke("parens")}for(;ee.braces>0;){if(I.strictBrackets===!0)throw new SyntaxError(S("closing","}"));ee.output=p.escapeLast(ee.output,"{"),ke("braces")}if(I.strictSlashes!==!0&&(Z.type==="star"||Z.type==="bracket")&&ve({type:"maybe_slash",value:"",output:`${re}?`}),ee.backtrack===!0){ee.output="";for(const U of ee.tokens)ee.output+=U.output!=null?U.output:U.value,U.suffix&&(ee.output+=U.suffix)}return ee},"parse");_.fastpaths=(x,B)=>{const I={...B},q=typeof I.maxLength=="number"?Math.min(y,I.maxLength):y,K=x.length;if(K>q)throw new SyntaxError(`Input length: ${K}, exceeds maximum allowed length: ${q}`);x=f[x]||x;const se=p.isWindows(B),{DOT_LITERAL:N,SLASH_LITERAL:z,ONE_CHAR:$,DOTS_SLASH:R,NO_DOT:L,NO_DOTS:j,NO_DOTS_SLASH:X,STAR:re,START_ANCHOR:ne}=v.globChars(se),le=I.dot?j:L,Ce=I.dot?X:L,ie=I.capture?"":"?:",G={negated:!1,prefix:""};let me=I.bash===!0?".*?":re;I.capture&&(me=`(${me})`);const Ue=a(we=>we.noglobstar===!0?me:`(${ie}(?:(?!${ne}${we.dot?R:N}).)*?)`,"globstar"),Le=a(we=>{switch(we){case"*":return`${le}${$}${me}`;case".*":return`${N}${$}${me}`;case"*.*":return`${le}${me}${N}${$}${me}`;case"*/*":return`${le}${me}${z}${$}${Ce}${me}`;case"**":return le+Ue(I);case"**/*":return`(?:${le}${Ue(I)}${z})?${Ce}${$}${me}`;case"**/*.*":return`(?:${le}${Ue(I)}${z})?${Ce}${me}${N}${$}${me}`;case"**/.*":return`(?:${le}${Ue(I)}${z})?${N}${$}${me}`;default:{const Oe=/^(.*?)\.(\w+)$/.exec(we);if(!Oe)return;const De=Le(Oe[1]);return De?De+N+Oe[2]:void 0}}},"create"),ue=p.removePrefix(x,G);let Y=Le(ue);return Y&&I.strictSlashes!==!0&&(Y+=`${z}?`),Y},fe.exports=_},5761:(fe,c,b)=>{"use strict";const v=b(6470),p=b(9826),y=b(3969),w=b(292),O=b(3889),C=a(E=>E&&typeof E=="object"&&!Array.isArray(E),"isObject"),f=a((E,S,_=!1)=>{if(Array.isArray(E)){const z=E.map(R=>f(R,S,_));return a(R=>{for(const L of z){const j=L(R);if(j)return j}return!1},"arrayMatcher")}const x=C(E)&&E.tokens&&E.input;if(E===""||typeof E!="string"&&!x)throw new TypeError("Expected pattern to be a non-empty string");const B=S||{},I=w.isWindows(S),q=x?f.compileRe(E,S):f.makeRe(E,S,!1,!0),K=q.state;delete q.state;let se=a(()=>!1,"isIgnored");if(B.ignore){const z={...S,ignore:null,onMatch:null,onResult:null};se=f(B.ignore,z,_)}const N=a((z,$=!1)=>{const{isMatch:R,match:L,output:j}=f.test(z,q,S,{glob:E,posix:I}),X={glob:E,state:K,regex:q,posix:I,input:z,output:j,match:L,isMatch:R};return typeof B.onResult=="function"&&B.onResult(X),R===!1?(X.isMatch=!1,$?X:!1):se(z)?(typeof B.onIgnore=="function"&&B.onIgnore(X),X.isMatch=!1,$?X:!1):(typeof B.onMatch=="function"&&B.onMatch(X),$?X:!0)},"matcher");return _&&(N.state=K),N},"picomatch");f.test=(E,S,_,{glob:x,posix:B}={})=>{if(typeof E!="string")throw new TypeError("Expected input to be a string");if(E==="")return{isMatch:!1,output:""};const I=_||{},q=I.format||(B?w.toPosixSlashes:null);let K=E===x,se=K&&q?q(E):E;return K===!1&&(se=q?q(E):E,K=se===x),(K===!1||I.capture===!0)&&(I.matchBase===!0||I.basename===!0?K=f.matchBase(E,S,_,B):K=S.exec(se)),{isMatch:Boolean(K),match:K,output:se}},f.matchBase=(E,S,_,x=w.isWindows(_))=>(S instanceof RegExp?S:f.makeRe(S,_)).test(v.basename(E)),f.isMatch=(E,S,_)=>f(S,_)(E),f.parse=(E,S)=>Array.isArray(E)?E.map(_=>f.parse(_,S)):y(E,{...S,fastpaths:!1}),f.scan=(E,S)=>p(E,S),f.compileRe=(E,S,_=!1,x=!1)=>{if(_===!0)return E.output;const B=S||{},I=B.contains?"":"^",q=B.contains?"":"$";let K=`${I}(?:${E.output})${q}`;E&&E.negated===!0&&(K=`^(?!${K}).*$`);const se=f.toRegex(K,S);return x===!0&&(se.state=E),se},f.makeRe=(E,S={},_=!1,x=!1)=>{if(!E||typeof E!="string")throw new TypeError("Expected a non-empty string");let B={negated:!1,fastpaths:!0};return S.fastpaths!==!1&&(E[0]==="."||E[0]==="*")&&(B.output=y.fastpaths(E,S)),B.output||(B=y(E,S)),f.compileRe(B,S,_,x)},f.toRegex=(E,S)=>{try{const _=S||{};return new RegExp(E,_.flags||(_.nocase?"i":""))}catch(_){if(S&&S.debug===!0)throw _;return/$^/}},f.constants=O,fe.exports=f},9826:(fe,c,b)=>{"use strict";const v=b(292),{CHAR_ASTERISK:p,CHAR_AT:y,CHAR_BACKWARD_SLASH:w,CHAR_COMMA:O,CHAR_DOT:C,CHAR_EXCLAMATION_MARK:f,CHAR_FORWARD_SLASH:E,CHAR_LEFT_CURLY_BRACE:S,CHAR_LEFT_PARENTHESES:_,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_PLUS:B,CHAR_QUESTION_MARK:I,CHAR_RIGHT_CURLY_BRACE:q,CHAR_RIGHT_PARENTHESES:K,CHAR_RIGHT_SQUARE_BRACKET:se}=b(3889),N=a(R=>R===E||R===w,"isPathSeparator"),z=a(R=>{R.isPrefix!==!0&&(R.depth=R.isGlobstar?1/0:1)},"depth"),$=a((R,L)=>{const j=L||{},X=R.length-1,re=j.parts===!0||j.scanToEnd===!0,ne=[],le=[],Ce=[];let ie=R,G=-1,me=0,Ue=0,Le=!1,ue=!1,Y=!1,we=!1,Oe=!1,De=!1,ee=!1,ct=!1,qe=!1,Ze=!1,Z=0,te,ae,_e={value:"",depth:0,isGlob:!1};const Ge=a(()=>G>=X,"eos"),lt=a(()=>ie.charCodeAt(G+1),"peek"),Se=a(()=>(te=ae,ie.charCodeAt(++G)),"advance");for(;G<X;){ae=Se();let ve;if(ae===w){ee=_e.backslashes=!0,ae=Se(),ae===S&&(De=!0);continue}if(De===!0||ae===S){for(Z++;Ge()!==!0&&(ae=Se());){if(ae===w){ee=_e.backslashes=!0,Se();continue}if(ae===S){Z++;continue}if(De!==!0&&ae===C&&(ae=Se())===C){if(Le=_e.isBrace=!0,Y=_e.isGlob=!0,Ze=!0,re===!0)continue;break}if(De!==!0&&ae===O){if(Le=_e.isBrace=!0,Y=_e.isGlob=!0,Ze=!0,re===!0)continue;break}if(ae===q&&(Z--,Z===0)){De=!1,Le=_e.isBrace=!0,Ze=!0;break}}if(re===!0)continue;break}if(ae===E){if(ne.push(G),le.push(_e),_e={value:"",depth:0,isGlob:!1},Ze===!0)continue;if(te===C&&G===me+1){me+=2;continue}Ue=G+1;continue}if(j.noext!==!0&&(ae===B||ae===y||ae===p||ae===I||ae===f)===!0&&lt()===_){if(Y=_e.isGlob=!0,we=_e.isExtglob=!0,Ze=!0,ae===f&&G===me&&(qe=!0),re===!0){for(;Ge()!==!0&&(ae=Se());){if(ae===w){ee=_e.backslashes=!0,ae=Se();continue}if(ae===K){Y=_e.isGlob=!0,Ze=!0;break}}continue}break}if(ae===p){if(te===p&&(Oe=_e.isGlobstar=!0),Y=_e.isGlob=!0,Ze=!0,re===!0)continue;break}if(ae===I){if(Y=_e.isGlob=!0,Ze=!0,re===!0)continue;break}if(ae===x){for(;Ge()!==!0&&(ve=Se());){if(ve===w){ee=_e.backslashes=!0,Se();continue}if(ve===se){ue=_e.isBracket=!0,Y=_e.isGlob=!0,Ze=!0;break}}if(re===!0)continue;break}if(j.nonegate!==!0&&ae===f&&G===me){ct=_e.negated=!0,me++;continue}if(j.noparen!==!0&&ae===_){if(Y=_e.isGlob=!0,re===!0){for(;Ge()!==!0&&(ae=Se());){if(ae===_){ee=_e.backslashes=!0,ae=Se();continue}if(ae===K){Ze=!0;break}}continue}break}if(Y===!0){if(Ze=!0,re===!0)continue;break}}j.noext===!0&&(we=!1,Y=!1);let Re=ie,Te="",xe="";me>0&&(Te=ie.slice(0,me),ie=ie.slice(me),Ue-=me),Re&&Y===!0&&Ue>0?(Re=ie.slice(0,Ue),xe=ie.slice(Ue)):Y===!0?(Re="",xe=ie):Re=ie,Re&&Re!==""&&Re!=="/"&&Re!==ie&&N(Re.charCodeAt(Re.length-1))&&(Re=Re.slice(0,-1)),j.unescape===!0&&(xe&&(xe=v.removeBackslashes(xe)),Re&&ee===!0&&(Re=v.removeBackslashes(Re)));const ke={prefix:Te,input:R,start:me,base:Re,glob:xe,isBrace:Le,isBracket:ue,isGlob:Y,isExtglob:we,isGlobstar:Oe,negated:ct,negatedExtglob:qe};if(j.tokens===!0&&(ke.maxDepth=0,N(ae)||le.push(_e),ke.tokens=le),j.parts===!0||j.tokens===!0){let ve;for(let ft=0;ft<ne.length;ft++){const We=ve?ve+1:me,U=ne[ft],J=R.slice(We,U);j.tokens&&(ft===0&&me!==0?(le[ft].isPrefix=!0,le[ft].value=Te):le[ft].value=J,z(le[ft]),ke.maxDepth+=le[ft].depth),(ft!==0||J!=="")&&Ce.push(J),ve=U}if(ve&&ve+1<R.length){const ft=R.slice(ve+1);Ce.push(ft),j.tokens&&(le[le.length-1].value=ft,z(le[le.length-1]),ke.maxDepth+=le[le.length-1].depth)}ke.slashes=ne,ke.parts=Ce}return ke},"scan");fe.exports=$},292:(fe,c,b)=>{"use strict";var v=b(6038);const p=b(6470),y=v.platform==="win32",{REGEX_BACKSLASH:w,REGEX_REMOVE_BACKSLASH:O,REGEX_SPECIAL_CHARS:C,REGEX_SPECIAL_CHARS_GLOBAL:f}=b(3889);c.isObject=E=>E!==null&&typeof E=="object"&&!Array.isArray(E),c.hasRegexChars=E=>C.test(E),c.isRegexChar=E=>E.length===1&&c.hasRegexChars(E),c.escapeRegex=E=>E.replace(f,"\\$1"),c.toPosixSlashes=E=>E.replace(w,"/"),c.removeBackslashes=E=>E.replace(O,S=>S==="\\"?"":S),c.supportsLookbehinds=()=>{const E=v.version.slice(1).split(".").map(Number);return E.length===3&&E[0]>=9||E[0]===8&&E[1]>=10},c.isWindows=E=>E&&typeof E.windows=="boolean"?E.windows:y===!0||p.sep==="\\",c.escapeLast=(E,S,_)=>{const x=E.lastIndexOf(S,_);return x===-1?E:E[x-1]==="\\"?c.escapeLast(E,S,x-1):`${E.slice(0,x)}\\${E.slice(x)}`},c.removePrefix=(E,S={})=>{let _=E;return _.startsWith("./")&&(_=_.slice(2),S.prefix="./"),_},c.wrapOutput=(E,S={},_={})=>{const x=_.contains?"":"^",B=_.contains?"":"$";let I=`${x}(?:${E})${B}`;return S.negated===!0&&(I=`(?:^(?!${I}).*$)`),I}},6038:fe=>{var c=fe.exports={},b,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function y(){throw new Error("clearTimeout has not been defined")}a(y,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?b=setTimeout:b=p}catch(q){b=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=y}catch(q){v=y}}();function w(q){if(b===setTimeout)return setTimeout(q,0);if((b===p||!b)&&setTimeout)return b=setTimeout,setTimeout(q,0);try{return b(q,0)}catch(K){try{return b.call(null,q,0)}catch(se){return b.call(this,q,0)}}}a(w,"runTimeout");function O(q){if(v===clearTimeout)return clearTimeout(q);if((v===y||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(q);try{return v(q)}catch(K){try{return v.call(null,q)}catch(se){return v.call(this,q)}}}a(O,"runClearTimeout");var C=[],f=!1,E,S=-1;function _(){!f||!E||(f=!1,E.length?C=E.concat(C):S=-1,C.length&&x())}a(_,"cleanUpNextTick");function x(){if(!f){var q=w(_);f=!0;for(var K=C.length;K;){for(E=C,C=[];++S<K;)E&&E[S].run();S=-1,K=C.length}E=null,f=!1,O(q)}}a(x,"drainQueue"),c.nextTick=function(q){var K=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)K[se-1]=arguments[se];C.push(new B(q,K)),C.length===1&&!f&&w(x)};function B(q,K){this.fun=q,this.array=K}a(B,"Item"),B.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={};function I(){}a(I,"noop"),c.on=I,c.addListener=I,c.once=I,c.off=I,c.removeListener=I,c.removeAllListeners=I,c.emit=I,c.prependListener=I,c.prependOnceListener=I,c.listeners=function(q){return[]},c.binding=function(q){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(q){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},5431:(fe,c,b)=>{"use strict";fe.exports=b(7905)},7905:(fe,c,b)=>{"use strict";var v=b(1417);function p(){return!0}a(p,"_toTrue");function y(){return!1}a(y,"_toFalse");function w(K){return K.then(p,y)}a(w,"pSuccess");function O(K){return K}a(O,"_pass");function C(K){throw K}a(C,"_throw");function f(K){return K.then(O,C)}a(f,"ensurePromise");function E(K,se){return{result:K,args:se,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(E,"createCacheObj");function S(K,se){!K[se]||(clearTimeout(K[se].expire_id),clearTimeout(K[se].prefetch_id),delete K[se])}a(S,"destroyCacheObj");function _(K,se){!K[se]||(K[se].need_prefetch=!0)}a(_,"askPrefetch");function x(K){var se=K[0],N=K[1],z=K[2],$=K[3];if(!!N[z]){if(se){if(!$.maxAge)return;N[z].expire_id=setTimeout(S,$.maxAge,N,z),N[z].prefetch_id=setTimeout(_,$.maxAge*.7,N,z),N[z].expire_id.unref&&N[z].expire_id.unref(),N[z].prefetch_id.unref&&N[z].prefetch_id.unref();return}if(!$.maxErrorAge){S(N,z);return}N[z].expire_id=setTimeout(S,$.maxErrorAge,N,z),N[z].expire_id.unref&&N[z].expire_id.unref()}}a(x,"_track_proceed");function B(K,se,N){var z=K[se].result.constructor;z.all([w(K[se].result),K,se,N]).then(x)}a(B,"trackCacheObj");function I(K){var se=K[0],N=K[1],z=K[2],$=K[3],R=K[4][0];!N[z]||!se||(N[z].result=R,clearTimeout(N[z].expire_id),B(N,z,$))}a(I,"_prefetch_proceed");function q(K,se,N){var z=f(N.fn.apply(null,K[se].args)),$=z.constructor;K[se].need_prefetch=!1,$.all([w(z),K,se,N,[z]]).then(I)}a(q,"doPrefetch"),fe.exports=a(function(se,N){var z={},$=N||{},R=v($.resolve),L={fn:se,maxAge:$.maxAge||0,maxErrorAge:$.maxErrorAge||0};function j(){for(var X=new Array(arguments.length),re=0;re<X.length;re++)X[re]=arguments[re];var ne=R(X);return z[ne]?z[ne].need_prefetch&&q(z,ne,L):(z[ne]=E(f(L.fn.apply(null,X)),L.maxAge||L.maxErrorAge?X:null),B(z,ne,L)),z[ne].result}return a(j,"memoizedFn"),j.clear=function(){var X=Object.keys(z);return X.forEach(function(re){S(z,re)}),X.length},j},"promiseMemoize")},1417:fe=>{"use strict";var c={simple:function(v){return v.length?v.join(""):""},json:function(v){if(!v.length)return"";for(var p=[],y=v.length-1;y>=0;y--)p.push(JSON.stringify(v[y]));return p.join("")}};function b(v){return v.forEach(function(p){if(typeof p=="string"&&!c.hasOwnProperty(p))throw new Error('promise-memoize: unknown value "'+p+'" in resolve option')}),function(p){var y=Math.min(v.length,p.length);if(!y)return"";for(var w=[],O=0;O<y;O++)typeof v[O]=="string"?w.push(c[v[O]]([p[O]])):w.push(v[O](p[O]));return w.join("")}}a(b,"createFlexResolver"),fe.exports=a(function(p){if(typeof p=="undefined")return c.simple;if(typeof p=="string"&&c.hasOwnProperty(p))return c[p];if(Array.isArray(p))return b(p);if(Object.prototype.toString.call(p)==="[object Function]")return p;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(fe,c,b)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const v=b(3338),p=a((N,z,$)=>{if(v(N)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(z===void 0||N===z)return String(N);if(v(z)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let R={relaxZeros:!0,...$};typeof R.strictZeros=="boolean"&&(R.relaxZeros=R.strictZeros===!1);let L=String(R.relaxZeros),j=String(R.shorthand),X=String(R.capture),re=String(R.wrap),ne=N+":"+z+"="+L+j+X+re;if(p.cache.hasOwnProperty(ne))return p.cache[ne].result;let le=Math.min(N,z),Ce=Math.max(N,z);if(Math.abs(le-Ce)===1){let Le=N+"|"+z;return R.capture?`(${Le})`:R.wrap===!1?Le:`(?:${Le})`}let ie=K(N)||K(z),G={min:N,max:z,a:le,b:Ce},me=[],Ue=[];if(ie&&(G.isPadded=ie,G.maxLen=String(G.max).length),le<0){let Le=Ce<0?Math.abs(Ce):1;Ue=C(Le,Math.abs(le),G,R),le=G.a=0}return Ce>=0&&(me=C(le,Ce,G,R)),G.negatives=Ue,G.positives=me,G.result=y(Ue,me,R),R.capture===!0?G.result=`(${G.result})`:R.wrap!==!1&&me.length+Ue.length>1&&(G.result=`(?:${G.result})`),p.cache[ne]=G,G.result},"toRegexRange");function y(N,z,$){let R=f(N,z,"-",!1,$)||[],L=f(z,N,"",!1,$)||[],j=f(N,z,"-?",!0,$)||[];return R.concat(j).concat(L).join("|")}a(y,"collatePatterns");function w(N,z){let $=1,R=1,L=x(N,$),j=new Set([z]);for(;N<=L&&L<=z;)j.add(L),$+=1,L=x(N,$);for(L=B(z+1,R)-1;N<L&&L<=z;)j.add(L),R+=1,L=B(z+1,R)-1;return j=[...j],j.sort(S),j}a(w,"splitToRanges");function O(N,z,$){if(N===z)return{pattern:N,count:[],digits:0};let R=E(N,z),L=R.length,j="",X=0;for(let re=0;re<L;re++){let[ne,le]=R[re];ne===le?j+=ne:ne!=="0"||le!=="9"?j+=q(ne,le,$):X++}return X&&(j+=$.shorthand===!0?"\\d":"[0-9]"),{pattern:j,count:[X],digits:L}}a(O,"rangeToPattern");function C(N,z,$,R){let L=w(N,z),j=[],X=N,re;for(let ne=0;ne<L.length;ne++){let le=L[ne],Ce=O(String(X),String(le),R),ie="";if(!$.isPadded&&re&&re.pattern===Ce.pattern){re.count.length>1&&re.count.pop(),re.count.push(Ce.count[0]),re.string=re.pattern+I(re.count),X=le+1;continue}$.isPadded&&(ie=se(le,$,R)),Ce.string=ie+Ce.pattern+I(Ce.count),j.push(Ce),X=le+1,re=Ce}return j}a(C,"splitToPatterns");function f(N,z,$,R,L){let j=[];for(let X of N){let{string:re}=X;!R&&!_(z,"string",re)&&j.push($+re),R&&_(z,"string",re)&&j.push($+re)}return j}a(f,"filterPatterns");function E(N,z){let $=[];for(let R=0;R<N.length;R++)$.push([N[R],z[R]]);return $}a(E,"zip");function S(N,z){return N>z?1:z>N?-1:0}a(S,"compare");function _(N,z,$){return N.some(R=>R[z]===$)}a(_,"contains");function x(N,z){return Number(String(N).slice(0,-z)+"9".repeat(z))}a(x,"countNines");function B(N,z){return N-N%Math.pow(10,z)}a(B,"countZeros");function I(N){let[z=0,$=""]=N;return $||z>1?`{${z+($?","+$:"")}}`:""}a(I,"toQuantifier");function q(N,z,$){return`[${N}${z-N==1?"":"-"}${z}]`}a(q,"toCharacterClass");function K(N){return/^-?(0+)\d/.test(N)}a(K,"hasPadding");function se(N,z,$){if(!z.isPadded)return N;let R=Math.abs(z.maxLen-String(N).length),L=$.relaxZeros!==!1;switch(R){case 0:return"";case 1:return L?"0?":"0";case 2:return L?"0{0,2}":"00";default:return L?`0{0,${R}}`:`0{${R}}`}}a(se,"padZeros"),p.cache={},p.clearCache=()=>p.cache={},fe.exports=p},9742:(fe,c)=>{"use strict";c.byteLength=f,c.toByteArray=S,c.fromByteArray=B;for(var b=[],v=[],p=typeof Uint8Array!="undefined"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,O=y.length;w<O;++w)b[w]=y[w],v[y.charCodeAt(w)]=w;v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63;function C(I){var q=I.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var K=I.indexOf("=");K===-1&&(K=q);var se=K===q?0:4-K%4;return[K,se]}a(C,"getLens");function f(I){var q=C(I),K=q[0],se=q[1];return(K+se)*3/4-se}a(f,"byteLength");function E(I,q,K){return(q+K)*3/4-K}a(E,"_byteLength");function S(I){var q,K=C(I),se=K[0],N=K[1],z=new p(E(I,se,N)),$=0,R=N>0?se-4:se,L;for(L=0;L<R;L+=4)q=v[I.charCodeAt(L)]<<18|v[I.charCodeAt(L+1)]<<12|v[I.charCodeAt(L+2)]<<6|v[I.charCodeAt(L+3)],z[$++]=q>>16&255,z[$++]=q>>8&255,z[$++]=q&255;return N===2&&(q=v[I.charCodeAt(L)]<<2|v[I.charCodeAt(L+1)]>>4,z[$++]=q&255),N===1&&(q=v[I.charCodeAt(L)]<<10|v[I.charCodeAt(L+1)]<<4|v[I.charCodeAt(L+2)]>>2,z[$++]=q>>8&255,z[$++]=q&255),z}a(S,"toByteArray");function _(I){return b[I>>18&63]+b[I>>12&63]+b[I>>6&63]+b[I&63]}a(_,"tripletToBase64");function x(I,q,K){for(var se,N=[],z=q;z<K;z+=3)se=(I[z]<<16&16711680)+(I[z+1]<<8&65280)+(I[z+2]&255),N.push(_(se));return N.join("")}a(x,"encodeChunk");function B(I){for(var q,K=I.length,se=K%3,N=[],z=16383,$=0,R=K-se;$<R;$+=z)N.push(x(I,$,$+z>R?R:$+z));return se===1?(q=I[K-1],N.push(b[q>>2]+b[q<<4&63]+"==")):se===2&&(q=(I[K-2]<<8)+I[K-1],N.push(b[q>>10]+b[q>>4&63]+b[q<<2&63]+"=")),N.join("")}a(B,"fromByteArray")},5186:(fe,c,b)=>{var v=b(3698),p=b(2505),y=b(6417),w=Function.bind,O=w.bind(w);function C(x,B,I){var q=O(y,null).apply(null,I?[B,I]:[B]);x.api={remove:q},x.remove=q,["before","error","after","wrap"].forEach(function(K){var se=I?[B,K,I]:[B,K];x[K]=x.api[K]=O(p,null).apply(null,se)})}a(C,"bindApi");function f(){var x="h",B={registry:{}},I=v.bind(null,B,x);return C(I,B,x),I}a(f,"HookSingular");function E(){var x={registry:{}},B=v.bind(null,x);return C(B,x),B}a(E,"HookCollection");var S=!1;function _(){return S||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),S=!0),E()}a(_,"Hook"),_.Singular=f.bind(),_.Collection=E.bind(),fe.exports=_,fe.exports.Hook=_,fe.exports.Singular=_.Singular,fe.exports.Collection=_.Collection},2505:fe=>{fe.exports=c;function c(b,v,p,y){var w=y;b.registry[p]||(b.registry[p]=[]),v==="before"&&(y=a(function(O,C){return Promise.resolve().then(w.bind(null,C)).then(O.bind(null,C))},"hook")),v==="after"&&(y=a(function(O,C){var f;return Promise.resolve().then(O.bind(null,C)).then(function(E){return f=E,w(f,C)}).then(function(){return f})},"hook")),v==="error"&&(y=a(function(O,C){return Promise.resolve().then(O.bind(null,C)).catch(function(f){return w(f,C)})},"hook")),b.registry[p].push({hook:y,orig:w})}a(c,"addHook")},3698:fe=>{fe.exports=c;function c(b,v,p,y){if(typeof p!="function")throw new Error("method for before hook must be a function");return y||(y={}),Array.isArray(v)?v.reverse().reduce(function(w,O){return c.bind(null,b,O,w,y)},p)():Promise.resolve().then(function(){return b.registry[v]?b.registry[v].reduce(function(w,O){return O.hook.bind(null,w,y)},p)():p(y)})}a(c,"register")},6417:fe=>{fe.exports=c;function c(b,v,p){if(!!b.registry[v]){var y=b.registry[v].map(function(w){return w.orig}).indexOf(p);y!==-1&&b.registry[v].splice(y,1)}}a(c,"removeHook")},8764:(fe,c,b)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const v=b(9742),p=b(645),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.Buffer=f,c.SlowBuffer=z,c.INSPECT_MAX_BYTES=50;const w=2147483647;c.kMaxLength=w,f.TYPED_ARRAY_SUPPORT=O(),!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function O(){try{const D=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(D,h),D.foo()===42}catch(D){return!1}}a(O,"typedArraySupport"),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function C(D){if(D>w)throw new RangeError('The value "'+D+'" is invalid for option "size"');const h=new Uint8Array(D);return Object.setPrototypeOf(h,f.prototype),h}a(C,"createBuffer");function f(D,h,m){if(typeof D=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(D)}return E(D,h,m)}a(f,"Buffer"),f.poolSize=8192;function E(D,h,m){if(typeof D=="string")return B(D,h);if(ArrayBuffer.isView(D))return q(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(ge(D,ArrayBuffer)||D&&ge(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ge(D,SharedArrayBuffer)||D&&ge(D.buffer,SharedArrayBuffer)))return K(D,h,m);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=D.valueOf&&D.valueOf();if(Q!=null&&Q!==D)return f.from(Q,h,m);const de=se(D);if(de)return de;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return f.from(D[Symbol.toPrimitive]("string"),h,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a(E,"from"),f.from=function(D,h,m){return E(D,h,m)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function S(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}a(S,"assertSize");function _(D,h,m){return S(D),D<=0?C(D):h!==void 0?typeof m=="string"?C(D).fill(h,m):C(D).fill(h):C(D)}a(_,"alloc"),f.alloc=function(D,h,m){return _(D,h,m)};function x(D){return S(D),C(D<0?0:N(D)|0)}a(x,"allocUnsafe"),f.allocUnsafe=function(D){return x(D)},f.allocUnsafeSlow=function(D){return x(D)};function B(D,h){if((typeof h!="string"||h==="")&&(h="utf8"),!f.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const m=$(D,h)|0;let Q=C(m);const de=Q.write(D,h);return de!==m&&(Q=Q.slice(0,de)),Q}a(B,"fromString");function I(D){const h=D.length<0?0:N(D.length)|0,m=C(h);for(let Q=0;Q<h;Q+=1)m[Q]=D[Q]&255;return m}a(I,"fromArrayLike");function q(D){if(ge(D,Uint8Array)){const h=new Uint8Array(D);return K(h.buffer,h.byteOffset,h.byteLength)}return I(D)}a(q,"fromArrayView");function K(D,h,m){if(h<0||D.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<h+(m||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return h===void 0&&m===void 0?Q=new Uint8Array(D):m===void 0?Q=new Uint8Array(D,h):Q=new Uint8Array(D,h,m),Object.setPrototypeOf(Q,f.prototype),Q}a(K,"fromArrayBuffer");function se(D){if(f.isBuffer(D)){const h=N(D.length)|0,m=C(h);return m.length===0||D.copy(m,0,0,h),m}if(D.length!==void 0)return typeof D.length!="number"||Qe(D.length)?C(0):I(D);if(D.type==="Buffer"&&Array.isArray(D.data))return I(D.data)}a(se,"fromObject");function N(D){if(D>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return D|0}a(N,"checked");function z(D){return+D!=D&&(D=0),f.alloc(+D)}a(z,"SlowBuffer"),f.isBuffer=a(function(h){return h!=null&&h._isBuffer===!0&&h!==f.prototype},"isBuffer"),f.compare=a(function(h,m){if(ge(h,Uint8Array)&&(h=f.from(h,h.offset,h.byteLength)),ge(m,Uint8Array)&&(m=f.from(m,m.offset,m.byteLength)),!f.isBuffer(h)||!f.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===m)return 0;let Q=h.length,de=m.length;for(let Ne=0,he=Math.min(Q,de);Ne<he;++Ne)if(h[Ne]!==m[Ne]){Q=h[Ne],de=m[Ne];break}return Q<de?-1:de<Q?1:0},"compare"),f.isEncoding=a(function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),f.concat=a(function(h,m){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return f.alloc(0);let Q;if(m===void 0)for(m=0,Q=0;Q<h.length;++Q)m+=h[Q].length;const de=f.allocUnsafe(m);let Ne=0;for(Q=0;Q<h.length;++Q){let he=h[Q];if(ge(he,Uint8Array))Ne+he.length>de.length?(f.isBuffer(he)||(he=f.from(he)),he.copy(de,Ne)):Uint8Array.prototype.set.call(de,he,Ne);else if(f.isBuffer(he))he.copy(de,Ne);else throw new TypeError('"list" argument must be an Array of Buffers');Ne+=he.length}return de},"concat");function $(D,h){if(f.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||ge(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const m=D.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&m===0)return 0;let de=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ve(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return U(D).length;default:if(de)return Q?-1:ve(D).length;h=(""+h).toLowerCase(),de=!0}}a($,"byteLength"),f.byteLength=$;function R(D,h,m){let Q=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,h>>>=0,m<=h))return"";for(D||(D="utf8");;)switch(D){case"hex":return we(this,h,m);case"utf8":case"utf-8":return me(this,h,m);case"ascii":return ue(this,h,m);case"latin1":case"binary":return Y(this,h,m);case"base64":return G(this,h,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe(this,h,m);default:if(Q)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),Q=!0}}a(R,"slowToString"),f.prototype._isBuffer=!0;function L(D,h,m){const Q=D[h];D[h]=D[m],D[m]=Q}a(L,"swap"),f.prototype.swap16=a(function(){const h=this.length;if(h%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<h;m+=2)L(this,m,m+1);return this},"swap16"),f.prototype.swap32=a(function(){const h=this.length;if(h%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<h;m+=4)L(this,m,m+3),L(this,m+1,m+2);return this},"swap32"),f.prototype.swap64=a(function(){const h=this.length;if(h%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<h;m+=8)L(this,m,m+7),L(this,m+1,m+6),L(this,m+2,m+5),L(this,m+3,m+4);return this},"swap64"),f.prototype.toString=a(function(){const h=this.length;return h===0?"":arguments.length===0?me(this,0,h):R.apply(this,arguments)},"toString"),f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=a(function(h){if(!f.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:f.compare(this,h)===0},"equals"),f.prototype.inspect=a(function(){let h="";const m=c.INSPECT_MAX_BYTES;return h=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(h+=" ... "),"<Buffer "+h+">"},"inspect"),y&&(f.prototype[y]=f.prototype.inspect),f.prototype.compare=a(function(h,m,Q,de,Ne){if(ge(h,Uint8Array)&&(h=f.from(h,h.offset,h.byteLength)),!f.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(m===void 0&&(m=0),Q===void 0&&(Q=h?h.length:0),de===void 0&&(de=0),Ne===void 0&&(Ne=this.length),m<0||Q>h.length||de<0||Ne>this.length)throw new RangeError("out of range index");if(de>=Ne&&m>=Q)return 0;if(de>=Ne)return-1;if(m>=Q)return 1;if(m>>>=0,Q>>>=0,de>>>=0,Ne>>>=0,this===h)return 0;let he=Ne-de,st=Q-m;const Ot=Math.min(he,st),vt=this.slice(de,Ne),kt=h.slice(m,Q);for(let nt=0;nt<Ot;++nt)if(vt[nt]!==kt[nt]){he=vt[nt],st=kt[nt];break}return he<st?-1:st<he?1:0},"compare");function j(D,h,m,Q,de){if(D.length===0)return-1;if(typeof m=="string"?(Q=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Qe(m)&&(m=de?0:D.length-1),m<0&&(m=D.length+m),m>=D.length){if(de)return-1;m=D.length-1}else if(m<0)if(de)m=0;else return-1;if(typeof h=="string"&&(h=f.from(h,Q)),f.isBuffer(h))return h.length===0?-1:X(D,h,m,Q,de);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(D,h,m):Uint8Array.prototype.lastIndexOf.call(D,h,m):X(D,[h],m,Q,de);throw new TypeError("val must be string, number or Buffer")}a(j,"bidirectionalIndexOf");function X(D,h,m,Q,de){let Ne=1,he=D.length,st=h.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(D.length<2||h.length<2)return-1;Ne=2,he/=2,st/=2,m/=2}function Ot(kt,nt){return Ne===1?kt[nt]:kt.readUInt16BE(nt*Ne)}a(Ot,"read");let vt;if(de){let kt=-1;for(vt=m;vt<he;vt++)if(Ot(D,vt)===Ot(h,kt===-1?0:vt-kt)){if(kt===-1&&(kt=vt),vt-kt+1===st)return kt*Ne}else kt!==-1&&(vt-=vt-kt),kt=-1}else for(m+st>he&&(m=he-st),vt=m;vt>=0;vt--){let kt=!0;for(let nt=0;nt<st;nt++)if(Ot(D,vt+nt)!==Ot(h,nt)){kt=!1;break}if(kt)return vt}return-1}a(X,"arrayIndexOf"),f.prototype.includes=a(function(h,m,Q){return this.indexOf(h,m,Q)!==-1},"includes"),f.prototype.indexOf=a(function(h,m,Q){return j(this,h,m,Q,!0)},"indexOf"),f.prototype.lastIndexOf=a(function(h,m,Q){return j(this,h,m,Q,!1)},"lastIndexOf");function re(D,h,m,Q){m=Number(m)||0;const de=D.length-m;Q?(Q=Number(Q),Q>de&&(Q=de)):Q=de;const Ne=h.length;Q>Ne/2&&(Q=Ne/2);let he;for(he=0;he<Q;++he){const st=parseInt(h.substr(he*2,2),16);if(Qe(st))return he;D[m+he]=st}return he}a(re,"hexWrite");function ne(D,h,m,Q){return J(ve(h,D.length-m),D,m,Q)}a(ne,"utf8Write");function le(D,h,m,Q){return J(ft(h),D,m,Q)}a(le,"asciiWrite");function Ce(D,h,m,Q){return J(U(h),D,m,Q)}a(Ce,"base64Write");function ie(D,h,m,Q){return J(We(h,D.length-m),D,m,Q)}a(ie,"ucs2Write"),f.prototype.write=a(function(h,m,Q,de){if(m===void 0)de="utf8",Q=this.length,m=0;else if(Q===void 0&&typeof m=="string")de=m,Q=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(Q)?(Q=Q>>>0,de===void 0&&(de="utf8")):(de=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ne=this.length-m;if((Q===void 0||Q>Ne)&&(Q=Ne),h.length>0&&(Q<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let he=!1;for(;;)switch(de){case"hex":return re(this,h,m,Q);case"utf8":case"utf-8":return ne(this,h,m,Q);case"ascii":case"latin1":case"binary":return le(this,h,m,Q);case"base64":return Ce(this,h,m,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,h,m,Q);default:if(he)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),he=!0}},"write"),f.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function G(D,h,m){return h===0&&m===D.length?v.fromByteArray(D):v.fromByteArray(D.slice(h,m))}a(G,"base64Slice");function me(D,h,m){m=Math.min(D.length,m);const Q=[];let de=h;for(;de<m;){const Ne=D[de];let he=null,st=Ne>239?4:Ne>223?3:Ne>191?2:1;if(de+st<=m){let Ot,vt,kt,nt;switch(st){case 1:Ne<128&&(he=Ne);break;case 2:Ot=D[de+1],(Ot&192)==128&&(nt=(Ne&31)<<6|Ot&63,nt>127&&(he=nt));break;case 3:Ot=D[de+1],vt=D[de+2],(Ot&192)==128&&(vt&192)==128&&(nt=(Ne&15)<<12|(Ot&63)<<6|vt&63,nt>2047&&(nt<55296||nt>57343)&&(he=nt));break;case 4:Ot=D[de+1],vt=D[de+2],kt=D[de+3],(Ot&192)==128&&(vt&192)==128&&(kt&192)==128&&(nt=(Ne&15)<<18|(Ot&63)<<12|(vt&63)<<6|kt&63,nt>65535&&nt<1114112&&(he=nt))}}he===null?(he=65533,st=1):he>65535&&(he-=65536,Q.push(he>>>10&1023|55296),he=56320|he&1023),Q.push(he),de+=st}return Le(Q)}a(me,"utf8Slice");const Ue=4096;function Le(D){const h=D.length;if(h<=Ue)return String.fromCharCode.apply(String,D);let m="",Q=0;for(;Q<h;)m+=String.fromCharCode.apply(String,D.slice(Q,Q+=Ue));return m}a(Le,"decodeCodePointsArray");function ue(D,h,m){let Q="";m=Math.min(D.length,m);for(let de=h;de<m;++de)Q+=String.fromCharCode(D[de]&127);return Q}a(ue,"asciiSlice");function Y(D,h,m){let Q="";m=Math.min(D.length,m);for(let de=h;de<m;++de)Q+=String.fromCharCode(D[de]);return Q}a(Y,"latin1Slice");function we(D,h,m){const Q=D.length;(!h||h<0)&&(h=0),(!m||m<0||m>Q)&&(m=Q);let de="";for(let Ne=h;Ne<m;++Ne)de+=ut[D[Ne]];return de}a(we,"hexSlice");function Oe(D,h,m){const Q=D.slice(h,m);let de="";for(let Ne=0;Ne<Q.length-1;Ne+=2)de+=String.fromCharCode(Q[Ne]+Q[Ne+1]*256);return de}a(Oe,"utf16leSlice"),f.prototype.slice=a(function(h,m){const Q=this.length;h=~~h,m=m===void 0?Q:~~m,h<0?(h+=Q,h<0&&(h=0)):h>Q&&(h=Q),m<0?(m+=Q,m<0&&(m=0)):m>Q&&(m=Q),m<h&&(m=h);const de=this.subarray(h,m);return Object.setPrototypeOf(de,f.prototype),de},"slice");function De(D,h,m){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+h>m)throw new RangeError("Trying to access beyond buffer length")}a(De,"checkOffset"),f.prototype.readUintLE=f.prototype.readUIntLE=a(function(h,m,Q){h=h>>>0,m=m>>>0,Q||De(h,m,this.length);let de=this[h],Ne=1,he=0;for(;++he<m&&(Ne*=256);)de+=this[h+he]*Ne;return de},"readUIntLE"),f.prototype.readUintBE=f.prototype.readUIntBE=a(function(h,m,Q){h=h>>>0,m=m>>>0,Q||De(h,m,this.length);let de=this[h+--m],Ne=1;for(;m>0&&(Ne*=256);)de+=this[h+--m]*Ne;return de},"readUIntBE"),f.prototype.readUint8=f.prototype.readUInt8=a(function(h,m){return h=h>>>0,m||De(h,1,this.length),this[h]},"readUInt8"),f.prototype.readUint16LE=f.prototype.readUInt16LE=a(function(h,m){return h=h>>>0,m||De(h,2,this.length),this[h]|this[h+1]<<8},"readUInt16LE"),f.prototype.readUint16BE=f.prototype.readUInt16BE=a(function(h,m){return h=h>>>0,m||De(h,2,this.length),this[h]<<8|this[h+1]},"readUInt16BE"),f.prototype.readUint32LE=f.prototype.readUInt32LE=a(function(h,m){return h=h>>>0,m||De(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},"readUInt32LE"),f.prototype.readUint32BE=f.prototype.readUInt32BE=a(function(h,m){return h=h>>>0,m||De(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},"readUInt32BE"),f.prototype.readBigUInt64LE=wt(a(function(h){h=h>>>0,Re(h,"offset");const m=this[h],Q=this[h+7];(m===void 0||Q===void 0)&&Te(h,this.length-8);const de=m+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,Ne=this[++h]+this[++h]*2**8+this[++h]*2**16+Q*2**24;return BigInt(de)+(BigInt(Ne)<<BigInt(32))},"readBigUInt64LE")),f.prototype.readBigUInt64BE=wt(a(function(h){h=h>>>0,Re(h,"offset");const m=this[h],Q=this[h+7];(m===void 0||Q===void 0)&&Te(h,this.length-8);const de=m*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],Ne=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+Q;return(BigInt(de)<<BigInt(32))+BigInt(Ne)},"readBigUInt64BE")),f.prototype.readIntLE=a(function(h,m,Q){h=h>>>0,m=m>>>0,Q||De(h,m,this.length);let de=this[h],Ne=1,he=0;for(;++he<m&&(Ne*=256);)de+=this[h+he]*Ne;return Ne*=128,de>=Ne&&(de-=Math.pow(2,8*m)),de},"readIntLE"),f.prototype.readIntBE=a(function(h,m,Q){h=h>>>0,m=m>>>0,Q||De(h,m,this.length);let de=m,Ne=1,he=this[h+--de];for(;de>0&&(Ne*=256);)he+=this[h+--de]*Ne;return Ne*=128,he>=Ne&&(he-=Math.pow(2,8*m)),he},"readIntBE"),f.prototype.readInt8=a(function(h,m){return h=h>>>0,m||De(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},"readInt8"),f.prototype.readInt16LE=a(function(h,m){h=h>>>0,m||De(h,2,this.length);const Q=this[h]|this[h+1]<<8;return Q&32768?Q|4294901760:Q},"readInt16LE"),f.prototype.readInt16BE=a(function(h,m){h=h>>>0,m||De(h,2,this.length);const Q=this[h+1]|this[h]<<8;return Q&32768?Q|4294901760:Q},"readInt16BE"),f.prototype.readInt32LE=a(function(h,m){return h=h>>>0,m||De(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},"readInt32LE"),f.prototype.readInt32BE=a(function(h,m){return h=h>>>0,m||De(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},"readInt32BE"),f.prototype.readBigInt64LE=wt(a(function(h){h=h>>>0,Re(h,"offset");const m=this[h],Q=this[h+7];(m===void 0||Q===void 0)&&Te(h,this.length-8);const de=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(Q<<24);return(BigInt(de)<<BigInt(32))+BigInt(m+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)},"readBigInt64LE")),f.prototype.readBigInt64BE=wt(a(function(h){h=h>>>0,Re(h,"offset");const m=this[h],Q=this[h+7];(m===void 0||Q===void 0)&&Te(h,this.length-8);const de=(m<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(de)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+Q)},"readBigInt64BE")),f.prototype.readFloatLE=a(function(h,m){return h=h>>>0,m||De(h,4,this.length),p.read(this,h,!0,23,4)},"readFloatLE"),f.prototype.readFloatBE=a(function(h,m){return h=h>>>0,m||De(h,4,this.length),p.read(this,h,!1,23,4)},"readFloatBE"),f.prototype.readDoubleLE=a(function(h,m){return h=h>>>0,m||De(h,8,this.length),p.read(this,h,!0,52,8)},"readDoubleLE"),f.prototype.readDoubleBE=a(function(h,m){return h=h>>>0,m||De(h,8,this.length),p.read(this,h,!1,52,8)},"readDoubleBE");function ee(D,h,m,Q,de,Ne){if(!f.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>de||h<Ne)throw new RangeError('"value" argument is out of bounds');if(m+Q>D.length)throw new RangeError("Index out of range")}a(ee,"checkInt"),f.prototype.writeUintLE=f.prototype.writeUIntLE=a(function(h,m,Q,de){if(h=+h,m=m>>>0,Q=Q>>>0,!de){const st=Math.pow(2,8*Q)-1;ee(this,h,m,Q,st,0)}let Ne=1,he=0;for(this[m]=h&255;++he<Q&&(Ne*=256);)this[m+he]=h/Ne&255;return m+Q},"writeUIntLE"),f.prototype.writeUintBE=f.prototype.writeUIntBE=a(function(h,m,Q,de){if(h=+h,m=m>>>0,Q=Q>>>0,!de){const st=Math.pow(2,8*Q)-1;ee(this,h,m,Q,st,0)}let Ne=Q-1,he=1;for(this[m+Ne]=h&255;--Ne>=0&&(he*=256);)this[m+Ne]=h/he&255;return m+Q},"writeUIntBE"),f.prototype.writeUint8=f.prototype.writeUInt8=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,1,255,0),this[m]=h&255,m+1},"writeUInt8"),f.prototype.writeUint16LE=f.prototype.writeUInt16LE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,2,65535,0),this[m]=h&255,this[m+1]=h>>>8,m+2},"writeUInt16LE"),f.prototype.writeUint16BE=f.prototype.writeUInt16BE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,2,65535,0),this[m]=h>>>8,this[m+1]=h&255,m+2},"writeUInt16BE"),f.prototype.writeUint32LE=f.prototype.writeUInt32LE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,4,4294967295,0),this[m+3]=h>>>24,this[m+2]=h>>>16,this[m+1]=h>>>8,this[m]=h&255,m+4},"writeUInt32LE"),f.prototype.writeUint32BE=f.prototype.writeUInt32BE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,4,4294967295,0),this[m]=h>>>24,this[m+1]=h>>>16,this[m+2]=h>>>8,this[m+3]=h&255,m+4},"writeUInt32BE");function ct(D,h,m,Q,de){Se(h,Q,de,D,m,7);let Ne=Number(h&BigInt(4294967295));D[m++]=Ne,Ne=Ne>>8,D[m++]=Ne,Ne=Ne>>8,D[m++]=Ne,Ne=Ne>>8,D[m++]=Ne;let he=Number(h>>BigInt(32)&BigInt(4294967295));return D[m++]=he,he=he>>8,D[m++]=he,he=he>>8,D[m++]=he,he=he>>8,D[m++]=he,m}a(ct,"wrtBigUInt64LE");function qe(D,h,m,Q,de){Se(h,Q,de,D,m,7);let Ne=Number(h&BigInt(4294967295));D[m+7]=Ne,Ne=Ne>>8,D[m+6]=Ne,Ne=Ne>>8,D[m+5]=Ne,Ne=Ne>>8,D[m+4]=Ne;let he=Number(h>>BigInt(32)&BigInt(4294967295));return D[m+3]=he,he=he>>8,D[m+2]=he,he=he>>8,D[m+1]=he,he=he>>8,D[m]=he,m+8}a(qe,"wrtBigUInt64BE"),f.prototype.writeBigUInt64LE=wt(a(function(h,m=0){return ct(this,h,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),f.prototype.writeBigUInt64BE=wt(a(function(h,m=0){return qe(this,h,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),f.prototype.writeIntLE=a(function(h,m,Q,de){if(h=+h,m=m>>>0,!de){const Ot=Math.pow(2,8*Q-1);ee(this,h,m,Q,Ot-1,-Ot)}let Ne=0,he=1,st=0;for(this[m]=h&255;++Ne<Q&&(he*=256);)h<0&&st===0&&this[m+Ne-1]!==0&&(st=1),this[m+Ne]=(h/he>>0)-st&255;return m+Q},"writeIntLE"),f.prototype.writeIntBE=a(function(h,m,Q,de){if(h=+h,m=m>>>0,!de){const Ot=Math.pow(2,8*Q-1);ee(this,h,m,Q,Ot-1,-Ot)}let Ne=Q-1,he=1,st=0;for(this[m+Ne]=h&255;--Ne>=0&&(he*=256);)h<0&&st===0&&this[m+Ne+1]!==0&&(st=1),this[m+Ne]=(h/he>>0)-st&255;return m+Q},"writeIntBE"),f.prototype.writeInt8=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,1,127,-128),h<0&&(h=255+h+1),this[m]=h&255,m+1},"writeInt8"),f.prototype.writeInt16LE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,2,32767,-32768),this[m]=h&255,this[m+1]=h>>>8,m+2},"writeInt16LE"),f.prototype.writeInt16BE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,2,32767,-32768),this[m]=h>>>8,this[m+1]=h&255,m+2},"writeInt16BE"),f.prototype.writeInt32LE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,4,2147483647,-2147483648),this[m]=h&255,this[m+1]=h>>>8,this[m+2]=h>>>16,this[m+3]=h>>>24,m+4},"writeInt32LE"),f.prototype.writeInt32BE=a(function(h,m,Q){return h=+h,m=m>>>0,Q||ee(this,h,m,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[m]=h>>>24,this[m+1]=h>>>16,this[m+2]=h>>>8,this[m+3]=h&255,m+4},"writeInt32BE"),f.prototype.writeBigInt64LE=wt(a(function(h,m=0){return ct(this,h,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),f.prototype.writeBigInt64BE=wt(a(function(h,m=0){return qe(this,h,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Ze(D,h,m,Q,de,Ne){if(m+Q>D.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}a(Ze,"checkIEEE754");function Z(D,h,m,Q,de){return h=+h,m=m>>>0,de||Ze(D,h,m,4,34028234663852886e22,-34028234663852886e22),p.write(D,h,m,Q,23,4),m+4}a(Z,"writeFloat"),f.prototype.writeFloatLE=a(function(h,m,Q){return Z(this,h,m,!0,Q)},"writeFloatLE"),f.prototype.writeFloatBE=a(function(h,m,Q){return Z(this,h,m,!1,Q)},"writeFloatBE");function te(D,h,m,Q,de){return h=+h,m=m>>>0,de||Ze(D,h,m,8,17976931348623157e292,-17976931348623157e292),p.write(D,h,m,Q,52,8),m+8}a(te,"writeDouble"),f.prototype.writeDoubleLE=a(function(h,m,Q){return te(this,h,m,!0,Q)},"writeDoubleLE"),f.prototype.writeDoubleBE=a(function(h,m,Q){return te(this,h,m,!1,Q)},"writeDoubleBE"),f.prototype.copy=a(function(h,m,Q,de){if(!f.isBuffer(h))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!de&&de!==0&&(de=this.length),m>=h.length&&(m=h.length),m||(m=0),de>0&&de<Q&&(de=Q),de===Q||h.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),h.length-m<de-Q&&(de=h.length-m+Q);const Ne=de-Q;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,Q,de):Uint8Array.prototype.set.call(h,this.subarray(Q,de),m),Ne},"copy"),f.prototype.fill=a(function(h,m,Q,de){if(typeof h=="string"){if(typeof m=="string"?(de=m,m=0,Q=this.length):typeof Q=="string"&&(de=Q,Q=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!f.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(h.length===1){const he=h.charCodeAt(0);(de==="utf8"&&he<128||de==="latin1")&&(h=he)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(m<0||this.length<m||this.length<Q)throw new RangeError("Out of range index");if(Q<=m)return this;m=m>>>0,Q=Q===void 0?this.length:Q>>>0,h||(h=0);let Ne;if(typeof h=="number")for(Ne=m;Ne<Q;++Ne)this[Ne]=h;else{const he=f.isBuffer(h)?h:f.from(h,de),st=he.length;if(st===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(Ne=0;Ne<Q-m;++Ne)this[Ne+m]=he[Ne%st]}return this},"fill");const ae={};function _e(D,h,m){ae[D]=a(class extends m{constructor(){super();Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}},"NodeError")}a(_e,"E"),_e("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(D,h){return`The "${D}" argument must be of type number. Received type ${typeof h}`},TypeError),_e("ERR_OUT_OF_RANGE",function(D,h,m){let Q=`The value of "${D}" is out of range.`,de=m;return Number.isInteger(m)&&Math.abs(m)>2**32?de=Ge(String(m)):typeof m=="bigint"&&(de=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(de=Ge(de)),de+="n"),Q+=` It must be ${h}. Received ${de}`,Q},RangeError);function Ge(D){let h="",m=D.length;const Q=D[0]==="-"?1:0;for(;m>=Q+4;m-=3)h=`_${D.slice(m-3,m)}${h}`;return`${D.slice(0,m)}${h}`}a(Ge,"addNumericalSeparator");function lt(D,h,m){Re(h,"offset"),(D[h]===void 0||D[h+m]===void 0)&&Te(h,D.length-(m+1))}a(lt,"checkBounds");function Se(D,h,m,Q,de,Ne){if(D>m||D<h){const he=typeof h=="bigint"?"n":"";let st;throw Ne>3?h===0||h===BigInt(0)?st=`>= 0${he} and < 2${he} ** ${(Ne+1)*8}${he}`:st=`>= -(2${he} ** ${(Ne+1)*8-1}${he}) and < 2 ** ${(Ne+1)*8-1}${he}`:st=`>= ${h}${he} and <= ${m}${he}`,new ae.ERR_OUT_OF_RANGE("value",st,D)}lt(Q,de,Ne)}a(Se,"checkIntBI");function Re(D,h){if(typeof D!="number")throw new ae.ERR_INVALID_ARG_TYPE(h,"number",D)}a(Re,"validateNumber");function Te(D,h,m){throw Math.floor(D)!==D?(Re(D,m),new ae.ERR_OUT_OF_RANGE(m||"offset","an integer",D)):h<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${h}`,D)}a(Te,"boundsError");const xe=/[^+/0-9A-Za-z-_]/g;function ke(D){if(D=D.split("=")[0],D=D.trim().replace(xe,""),D.length<2)return"";for(;D.length%4!=0;)D=D+"=";return D}a(ke,"base64clean");function ve(D,h){h=h||1/0;let m;const Q=D.length;let de=null;const Ne=[];for(let he=0;he<Q;++he){if(m=D.charCodeAt(he),m>55295&&m<57344){if(!de){if(m>56319){(h-=3)>-1&&Ne.push(239,191,189);continue}else if(he+1===Q){(h-=3)>-1&&Ne.push(239,191,189);continue}de=m;continue}if(m<56320){(h-=3)>-1&&Ne.push(239,191,189),de=m;continue}m=(de-55296<<10|m-56320)+65536}else de&&(h-=3)>-1&&Ne.push(239,191,189);if(de=null,m<128){if((h-=1)<0)break;Ne.push(m)}else if(m<2048){if((h-=2)<0)break;Ne.push(m>>6|192,m&63|128)}else if(m<65536){if((h-=3)<0)break;Ne.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((h-=4)<0)break;Ne.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Ne}a(ve,"utf8ToBytes");function ft(D){const h=[];for(let m=0;m<D.length;++m)h.push(D.charCodeAt(m)&255);return h}a(ft,"asciiToBytes");function We(D,h){let m,Q,de;const Ne=[];for(let he=0;he<D.length&&!((h-=2)<0);++he)m=D.charCodeAt(he),Q=m>>8,de=m%256,Ne.push(de),Ne.push(Q);return Ne}a(We,"utf16leToBytes");function U(D){return v.toByteArray(ke(D))}a(U,"base64ToBytes");function J(D,h,m,Q){let de;for(de=0;de<Q&&!(de+m>=h.length||de>=D.length);++de)h[de+m]=D[de];return de}a(J,"blitBuffer");function ge(D,h){return D instanceof h||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===h.name}a(ge,"isInstance");function Qe(D){return D!==D}a(Qe,"numberIsNaN");const ut=function(){const D="0123456789abcdef",h=new Array(256);for(let m=0;m<16;++m){const Q=m*16;for(let de=0;de<16;++de)h[Q+de]=D[m]+D[de]}return h}();function wt(D){return typeof BigInt=="undefined"?ot:D}a(wt,"defineBigIntMethod");function ot(){throw new Error("BigInt not supported")}a(ot,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(fe){const c=await strtok3.fromStream(fe);try{return await fromTokenizer(c)}finally{await c.close()}}a(fromStream,"fromStream");async function fromBuffer(fe){if(!(fe instanceof Uint8Array||fe instanceof ArrayBuffer||Buffer.isBuffer(fe)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof fe}\``);const c=fe instanceof Buffer?fe:Buffer.from(fe);if(!(c&&c.length>1))return;const b=strtok3.fromBuffer(c);return fromTokenizer(b)}a(fromBuffer,"fromBuffer");function _check(fe,c,b){b={offset:0,...b};for(const[v,p]of c.entries())if(b.mask){if(p!==(b.mask[v]&fe[v+b.offset]))return!1}else if(p!==fe[v+b.offset])return!1;return!0}a(_check,"_check");async function fromTokenizer(fe){try{return _fromTokenizer(fe)}catch(c){if(!(c instanceof strtok3.EndOfStreamError))throw c}}a(fromTokenizer,"fromTokenizer");async function _fromTokenizer(fe){let c=Buffer.alloc(minimumBytes);const b=12,v=a((y,w)=>_check(c,y,w),"check"),p=a((y,w)=>v(stringToBytes(y),w),"checkString");if(fe.fileInfo.size||(fe.fileInfo.size=Number.MAX_SAFE_INTEGER),await fe.peekBuffer(c,{length:b,mayBeLess:!0}),v([66,77]))return{ext:"bmp",mime:"image/bmp"};if(v([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(v([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(v([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(v([37,33]))return await fe.peekBuffer(c,{length:24,mayBeLess:!0}),p("PS-Adobe-",{offset:2})&&p(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(v([31,160])||v([31,157]))return{ext:"Z",mime:"application/x-compress"};if(v([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(v([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(v([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(v([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(p("ID3")){await fe.ignore(6);const y=await fe.readToken(uint32SyncSafeToken);return fe.position+y>fe.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await fe.ignore(y),fromTokenizer(fe))}if(p("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((c[0]===67||c[0]===70)&&v([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(v([71,73,70]))return{ext:"gif",mime:"image/gif"};if(p("FLIF"))return{ext:"flif",mime:"image/flif"};if(p("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(p("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(p("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(p("FORM"))return{ext:"aif",mime:"audio/aiff"};if(p("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(v([80,75,3,4])){try{for(;fe.position+30<fe.fileInfo.size;){await fe.readBuffer(c,{length:30});const y={compressedSize:c.readUInt32LE(18),uncompressedSize:c.readUInt32LE(22),filenameLength:c.readUInt16LE(26),extraFieldLength:c.readUInt16LE(28)};if(y.filename=await fe.readToken(new Token.StringType(y.filenameLength,"utf-8")),await fe.ignore(y.extraFieldLength),y.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(y.filename.endsWith(".rels")||y.filename.endsWith(".xml"))switch(y.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(y.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(y.filename.startsWith("3D/")&&y.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(y.filename==="mimetype"&&y.compressedSize===y.uncompressedSize)switch(await fe.readToken(new Token.StringType(y.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(y.compressedSize===0){let w=-1;for(;w<0&&fe.position<fe.fileInfo.size;)await fe.peekBuffer(c,{mayBeLess:!0}),w=c.indexOf("504B0304",0,"hex"),await fe.ignore(w>=0?w:c.length)}else await fe.ignore(y.compressedSize)}}catch(y){if(!(y instanceof strtok3.EndOfStreamError))throw y}return{ext:"zip",mime:"application/zip"}}if(p("OggS")){await fe.ignore(28);const y=Buffer.alloc(8);return await fe.readBuffer(y),_check(y,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(y,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(y,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(y,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(y,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(y,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(v([80,75])&&(c[2]===3||c[2]===5||c[2]===7)&&(c[3]===4||c[3]===6||c[3]===8))return{ext:"zip",mime:"application/zip"};if(p("ftyp",{offset:4})&&(c[8]&96)!=0){const y=c.toString("binary",8,12).replace("\0"," ").trim();switch(y){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return y.startsWith("3g")?y.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(p("MThd"))return{ext:"mid",mime:"audio/midi"};if(p("wOFF")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(p("wOF2")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(v([212,195,178,161])||v([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(p("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(p("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(p("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(v([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(p("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(p("%PDF")){await fe.ignore(1350);const y=10*1024*1024,w=Buffer.alloc(Math.min(y,fe.fileInfo.size));return await fe.readBuffer(w,{mayBeLess:!0}),w.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(v([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(v([73,73,42,0]))return p("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:v([28,0,254,0],{offset:8})||v([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:v([8,0,0,0],{offset:4})&&(v([45,0,254,0],{offset:8})||v([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(c=Buffer.alloc(24),await fe.peekBuffer(c),(v([16,251,134,1],{offset:4})||v([8,0,0,0],{offset:4}))&&v([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(v([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(p("MAC "))return{ext:"ape",mime:"audio/ape"};if(v([26,69,223,163])){async function y(){const E=await fe.peekNumber(Token.UINT8);let S=128,_=0;for(;(E&S)==0&&S!==0;)++_,S>>=1;const x=Buffer.alloc(_+1);return await fe.readBuffer(x),x}a(y,"readField");async function w(){const E=await y(),S=await y();S[0]^=128>>S.length-1;const _=Math.min(6,S.length);return{id:E.readUIntBE(0,E.length),len:S.readUIntBE(S.length-_,_)}}a(w,"readElement");async function O(E,S){for(;S>0;){const _=await w();if(_.id===17026)return fe.readToken(new Token.StringType(_.len,"utf-8"));await fe.ignore(_.len),--S}}a(O,"readChildren");const C=await w();switch(await O(1,C.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(v([82,73,70,70])){if(v([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(v([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(v([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(p("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(v([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(p("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(p("MSCF")||p("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(v([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(v([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(v([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(v([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(p("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(p("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(v([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(p("IMPM"))return{ext:"it",mime:"audio/x-it"};if(p("-lh0-",{offset:2})||p("-lh1-",{offset:2})||p("-lh2-",{offset:2})||p("-lh3-",{offset:2})||p("-lh4-",{offset:2})||p("-lh5-",{offset:2})||p("-lh6-",{offset:2})||p("-lh7-",{offset:2})||p("-lzs-",{offset:2})||p("-lz4-",{offset:2})||p("-lz5-",{offset:2})||p("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(v([0,0,1,186])){if(v([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(v([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(p("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(v([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(p("<?xml "))return{ext:"xml",mime:"application/xml"};if(v([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(v([82,97,114,33,26,7])&&(c[6]===0||c[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(p("solid "))return{ext:"stl",mime:"model/stl"};if(p("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(p("!<arch>"))return await fe.ignore(8),await fe.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(v([137,80,78,71,13,10,26,10])){await fe.ignore(8);async function y(){return{length:await fe.readToken(Token.INT32_BE),type:await fe.readToken(new Token.StringType(4,"binary"))}}a(y,"readChunkHeader");do{const w=await y();if(w.length<0)return;switch(w.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await fe.ignore(w.length+4)}}while(fe.position+8<fe.fileInfo.size);return{ext:"png",mime:"image/png"}}if(v([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(v([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(v([102,114,101,101],{offset:4})||v([109,100,97,116],{offset:4})||v([109,111,111,118],{offset:4})||v([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(v([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(p("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(v([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(v([48,38,178,117,142,102,207,17,166,217])){async function y(){const w=Buffer.alloc(16);return await fe.readBuffer(w),{id:w,size:Number(await fe.readToken(Token.UINT64_LE))}}for(a(y,"readHeader"),await fe.ignore(30);fe.position+24<fe.fileInfo.size;){const w=await y();let O=w.size-24;if(_check(w.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const C=Buffer.alloc(16);if(O-=await fe.readBuffer(C),_check(C,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(C,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await fe.ignore(O)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(v([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((v([126,16,4])||v([126,24,4]))&&v([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(v([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(v([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await fe.ignore(20),await fe.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(v([255,10])||v([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(v([0,0,1,186])||v([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(v([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(v([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(v([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(v([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await fe.peekBuffer(c,{length:Math.min(256,fe.fileInfo.size),mayBeLess:!0}),p("BEGIN:")){if(p("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(p("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(p("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(p("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(p("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(v([4,0,0,0])&&c.length>=16){const y=c.readUInt32LE(12);if(y>12&&c.length>=y+16)try{const w=c.slice(16,y+16).toString();if(JSON.parse(w).files)return{ext:"asar",mime:"application/x-asar"}}catch(w){}}if(v([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(p("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(v([71],{offset:4})&&(v([71],{offset:192})||v([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(v([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(v([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(v([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(v([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(v([76,80],{offset:34})&&(v([0,0,1],{offset:8})||v([1,0,2],{offset:8})||v([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(v([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await fe.peekBuffer(c,{length:Math.min(512,fe.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(c))return{ext:"tar",mime:"application/x-tar"};if(v([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(p("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(c.length>=2&&v([255,224],{offset:0,mask:[255,224]})){if(v([16],{offset:1,mask:[22]}))return v([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(v([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(v([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(v([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}a(_fromTokenizer,"_fromTokenizer");const stream=a(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const fe=new stream.PassThrough;let c;stream.pipeline?c=stream.pipeline(readableStream,fe,()=>{}):c=readableStream.pipe(fe);const b=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const v=await fromBuffer(b);fe.fileType=v}catch(v){reject(v)}resolve(c)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(fe,c,b)=>{"use strict";const v=b(6597),p=b(1);async function y(O){const C=await v.fromFile(O);try{return await p.fromTokenizer(C)}finally{await C.close()}}a(y,"fromFile");const w={fromFile:y};Object.assign(w,p),Object.defineProperty(w,"extensions",{get(){return p.extensions}}),Object.defineProperty(w,"mimeTypes",{get(){return p.mimeTypes}}),fe.exports=w},9898:fe=>{"use strict";fe.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(fe,c)=>{"use strict";c.stringToBytes=b=>[...b].map(v=>v.charCodeAt(0)),c.tarHeaderChecksumMatches=(b,v=0)=>{const p=parseInt(b.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(p))return!1;let y=8*32;for(let w=v;w<v+148;w++)y+=b[w];for(let w=v+156;w<v+512;w++)y+=b[w];return p===y},c.uint32SyncSafeToken={get:(b,v)=>b[v+3]&127|b[v+2]<<7|b[v+1]<<14|b[v]<<21,len:4}},7360:function(fe,c){var b,v,p;(function(y,w){v=[],b=w,p=typeof b=="function"?b.apply(c,v):b,p!==void 0&&(fe.exports=p)})(this,a(function(){function w(N){var z={single:function($,R,L){if(!$||(q($)||($=z.getPreparedSearch($)),!R))return null;q(R)||(R=z.getPrepared(R));var j=L&&L.allowTypo!==void 0?L.allowTypo:N&&N.allowTypo!==void 0?N.allowTypo:!0,X=j?z.algorithm:z.algorithmNoTypo;return X($,R,$[0])},go:function($,R,L){if(!$)return E;$=z.prepareSearch($);var j=$[0],X=L&&L.threshold||N&&N.threshold||-9007199254740991,re=L&&L.limit||N&&N.limit||9007199254740991,ne=L&&L.allowTypo!==void 0?L.allowTypo:N&&N.allowTypo!==void 0?N.allowTypo:!0,le=ne?z.algorithm:z.algorithmNoTypo,Ce=0,ie=0,G=R.length;if(L&&L.keys)for(var me=L.scoreFn||B,Ue=L.keys,Le=Ue.length,ue=G-1;ue>=0;--ue){for(var Y=R[ue],we=new Array(Le),Oe=Le-1;Oe>=0;--Oe){var De=Ue[Oe],ee=I(Y,De);if(!ee){we[Oe]=null;continue}q(ee)||(ee=z.getPrepared(ee)),we[Oe]=le($,ee,j)}we.obj=Y;var ct=me(we);ct!==null&&(ct<X||(we.score=ct,Ce<re?(se.add(we),++Ce):(++ie,ct>se.peek().score&&se.replaceTop(we))))}else if(L&&L.key)for(var De=L.key,ue=G-1;ue>=0;--ue){var Y=R[ue],ee=I(Y,De);if(!!ee){q(ee)||(ee=z.getPrepared(ee));var qe=le($,ee,j);qe!==null&&(qe.score<X||(qe={target:qe.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:qe.score,indexes:qe.indexes,obj:Y},Ce<re?(se.add(qe),++Ce):(++ie,qe.score>se.peek().score&&se.replaceTop(qe))))}}else for(var ue=G-1;ue>=0;--ue){var ee=R[ue];if(!!ee){q(ee)||(ee=z.getPrepared(ee));var qe=le($,ee,j);qe!==null&&(qe.score<X||(Ce<re?(se.add(qe),++Ce):(++ie,qe.score>se.peek().score&&se.replaceTop(qe))))}}if(Ce===0)return E;for(var Ze=new Array(Ce),ue=Ce-1;ue>=0;--ue)Ze[ue]=se.poll();return Ze.total=Ce+ie,Ze},goAsync:function($,R,L){var j=!1,X=new Promise(function(re,ne){if(!$)return re(E);$=z.prepareSearch($);var le=$[0],Ce=K(),ie=R.length-1,G=L&&L.threshold||N&&N.threshold||-9007199254740991,me=L&&L.limit||N&&N.limit||9007199254740991,Ue=L&&L.allowTypo!==void 0?L.allowTypo:N&&N.allowTypo!==void 0?N.allowTypo:!0,Le=Ue?z.algorithm:z.algorithmNoTypo,ue=0,Y=0;function we(){if(j)return ne("canceled");var Oe=Date.now();if(L&&L.keys)for(var De=L.scoreFn||B,ee=L.keys,ct=ee.length;ie>=0;--ie){for(var qe=R[ie],Ze=new Array(ct),Z=ct-1;Z>=0;--Z){var te=ee[Z],ae=I(qe,te);if(!ae){Ze[Z]=null;continue}q(ae)||(ae=z.getPrepared(ae)),Ze[Z]=Le($,ae,le)}Ze.obj=qe;var _e=De(Ze);if(_e!==null&&!(_e<G)&&(Ze.score=_e,ue<me?(Ce.add(Ze),++ue):(++Y,_e>Ce.peek().score&&Ce.replaceTop(Ze)),ie%1e3==0&&Date.now()-Oe>=10)){O?setImmediate(we):setTimeout(we);return}}else if(L&&L.key)for(var te=L.key;ie>=0;--ie){var qe=R[ie],ae=I(qe,te);if(!!ae){q(ae)||(ae=z.getPrepared(ae));var Ge=Le($,ae,le);if(Ge!==null&&!(Ge.score<G)&&(Ge={target:Ge.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Ge.score,indexes:Ge.indexes,obj:qe},ue<me?(Ce.add(Ge),++ue):(++Y,Ge.score>Ce.peek().score&&Ce.replaceTop(Ge)),ie%1e3==0&&Date.now()-Oe>=10)){O?setImmediate(we):setTimeout(we);return}}}else for(;ie>=0;--ie){var ae=R[ie];if(!!ae){q(ae)||(ae=z.getPrepared(ae));var Ge=Le($,ae,le);if(Ge!==null&&!(Ge.score<G)&&(ue<me?(Ce.add(Ge),++ue):(++Y,Ge.score>Ce.peek().score&&Ce.replaceTop(Ge)),ie%1e3==0&&Date.now()-Oe>=10)){O?setImmediate(we):setTimeout(we);return}}}if(ue===0)return re(E);for(var lt=new Array(ue),Se=ue-1;Se>=0;--Se)lt[Se]=Ce.poll();lt.total=ue+Y,re(lt)}a(we,"step"),O?setImmediate(we):we()});return X.cancel=function(){j=!0},X},highlight:function($,R,L){if($===null)return null;R===void 0&&(R="<b>"),L===void 0&&(L="</b>");for(var j="",X=0,re=!1,ne=$.target,le=ne.length,Ce=$.indexes,ie=0;ie<le;++ie){var G=ne[ie];if(Ce[X]===ie){if(++X,re||(re=!0,j+=R),X===Ce.length){j+=G+L+ne.substr(ie+1);break}}else re&&(re=!1,j+=L);j+=G}return j},prepare:function($){if(!!$)return{target:$,_targetLowerCodes:z.prepareLowerCodes($),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function($){if(!!$)return{target:$,_targetLowerCodes:z.prepareLowerCodes($),_nextBeginningIndexes:z.prepareNextBeginningIndexes($),score:null,indexes:null,obj:null}},prepareSearch:function($){if(!!$)return z.prepareLowerCodes($)},getPrepared:function($){if($.length>999)return z.prepare($);var R=C.get($);return R!==void 0||(R=z.prepare($),C.set($,R)),R},getPreparedSearch:function($){if($.length>999)return z.prepareSearch($);var R=f.get($);return R!==void 0||(R=z.prepareSearch($),f.set($,R)),R},algorithm:function($,R,L){for(var j=R._targetLowerCodes,X=$.length,re=j.length,ne=0,le=0,Ce=0,ie=0;;){var G=L===j[le];if(G){if(S[ie++]=le,++ne,ne===X)break;L=$[Ce===0?ne:Ce===ne?ne+1:Ce===ne-1?ne-1:ne]}if(++le,le>=re)for(;;){if(ne<=1)return null;if(Ce===0){--ne;var me=$[ne];if(L===me)continue;Ce=ne}else{if(Ce===1)return null;--Ce,ne=Ce,L=$[ne+1];var me=$[ne];if(L===me)continue}ie=ne,le=S[ie-1]+1;break}}var ne=0,Ue=0,Le=!1,ue=0,Y=R._nextBeginningIndexes;Y===null&&(Y=R._nextBeginningIndexes=z.prepareNextBeginningIndexes(R.target));var we=le=S[0]===0?0:Y[S[0]-1];if(le!==re)for(;;)if(le>=re){if(ne<=0){if(++Ue,Ue>X-2)break;if($[Ue]===$[Ue+1])continue;le=we;continue}--ne;var Oe=_[--ue];le=Y[Oe]}else{var G=$[Ue===0?ne:Ue===ne?ne+1:Ue===ne-1?ne-1:ne]===j[le];if(G){if(_[ue++]=le,++ne,ne===X){Le=!0;break}++le}else le=Y[le]}{if(Le)var De=_,ee=ue;else var De=S,ee=ie;for(var ct=0,qe=-1,Ze=0;Ze<X;++Ze){var le=De[Ze];qe!==le-1&&(ct-=le),qe=le}Le?Ue!==0&&(ct+=-20):(ct*=1e3,Ce!==0&&(ct+=-20)),ct-=re-X,R.score=ct,R.indexes=new Array(ee);for(var Ze=ee-1;Ze>=0;--Ze)R.indexes[Ze]=De[Ze];return R}},algorithmNoTypo:function($,R,L){for(var j=R._targetLowerCodes,X=$.length,re=j.length,ne=0,le=0,Ce=0;;){var ie=L===j[le];if(ie){if(S[Ce++]=le,++ne,ne===X)break;L=$[ne]}if(++le,le>=re)return null}var ne=0,G=!1,me=0,Ue=R._nextBeginningIndexes;Ue===null&&(Ue=R._nextBeginningIndexes=z.prepareNextBeginningIndexes(R.target));var Le=le=S[0]===0?0:Ue[S[0]-1];if(le!==re)for(;;)if(le>=re){if(ne<=0)break;--ne;var ue=_[--me];le=Ue[ue]}else{var ie=$[ne]===j[le];if(ie){if(_[me++]=le,++ne,ne===X){G=!0;break}++le}else le=Ue[le]}{if(G)var Y=_,we=me;else var Y=S,we=Ce;for(var Oe=0,De=-1,ee=0;ee<X;++ee){var le=Y[ee];De!==le-1&&(Oe-=le),De=le}G||(Oe*=1e3),Oe-=re-X,R.score=Oe,R.indexes=new Array(we);for(var ee=we-1;ee>=0;--ee)R.indexes[ee]=Y[ee];return R}},prepareLowerCodes:function($){for(var R=$.length,L=[],j=$.toLowerCase(),X=0;X<R;++X)L[X]=j.charCodeAt(X);return L},prepareBeginningIndexes:function($){for(var R=$.length,L=[],j=0,X=!1,re=!1,ne=0;ne<R;++ne){var le=$.charCodeAt(ne),Ce=le>=65&&le<=90,ie=Ce||le>=97&&le<=122||le>=48&&le<=57,G=Ce&&!X||!re||!ie;X=Ce,re=ie,G&&(L[j++]=ne)}return L},prepareNextBeginningIndexes:function($){for(var R=$.length,L=z.prepareBeginningIndexes($),j=[],X=L[0],re=0,ne=0;ne<R;++ne)X>ne?j[ne]=X:(X=L[++re],j[ne]=X===void 0?R:X);return j},cleanup:x,new:w};return z}a(w,"fuzzysortNew");var O=typeof window=="undefined",C=new Map,f=new Map,E=[];E.total=0;var S=[],_=[];function x(){C.clear(),f.clear(),S=[],_=[]}a(x,"cleanup");function B(N){for(var z=-9007199254740991,$=N.length-1;$>=0;--$){var R=N[$];if(R!==null){var L=R.score;L>z&&(z=L)}}return z===-9007199254740991?null:z}a(B,"defaultScoreFn");function I(N,z){var $=N[z];if($!==void 0)return $;var R=z;Array.isArray(z)||(R=z.split("."));for(var L=R.length,j=-1;N&&++j<L;)N=N[R[j]];return N}a(I,"getValue");function q(N){return typeof N=="object"}a(q,"isObj");var K=a(function(){var N=[],z=0,$={};function R(){for(var L=0,j=N[L],X=1;X<z;){var re=X+1;L=X,re<z&&N[re].score<N[X].score&&(L=re),N[L-1>>1]=N[L],X=1+(L<<1)}for(var ne=L-1>>1;L>0&&j.score<N[ne].score;ne=(L=ne)-1>>1)N[L]=N[ne];N[L]=j}return a(R,"n"),$.add=function(L){var j=z;N[z++]=L;for(var X=j-1>>1;j>0&&L.score<N[X].score;X=(j=X)-1>>1)N[j]=N[X];N[j]=L},$.poll=function(){if(z!==0){var L=N[0];return N[0]=N[--z],R(),L}},$.peek=function(L){if(z!==0)return N[0]},$.replaceTop=function(L){N[0]=L,R()},$},"fastpriorityqueue"),se=K();return w()},"UMD"))},645:(fe,c)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */c.read=function(b,v,p,y,w){var O,C,f=w*8-y-1,E=(1<<f)-1,S=E>>1,_=-7,x=p?w-1:0,B=p?-1:1,I=b[v+x];for(x+=B,O=I&(1<<-_)-1,I>>=-_,_+=f;_>0;O=O*256+b[v+x],x+=B,_-=8);for(C=O&(1<<-_)-1,O>>=-_,_+=y;_>0;C=C*256+b[v+x],x+=B,_-=8);if(O===0)O=1-S;else{if(O===E)return C?NaN:(I?-1:1)*(1/0);C=C+Math.pow(2,y),O=O-S}return(I?-1:1)*C*Math.pow(2,O-y)},c.write=function(b,v,p,y,w,O){var C,f,E,S=O*8-w-1,_=(1<<S)-1,x=_>>1,B=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=y?0:O-1,q=y?1:-1,K=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(f=isNaN(v)?1:0,C=_):(C=Math.floor(Math.log(v)/Math.LN2),v*(E=Math.pow(2,-C))<1&&(C--,E*=2),C+x>=1?v+=B/E:v+=B*Math.pow(2,1-x),v*E>=2&&(C++,E/=2),C+x>=_?(f=0,C=_):C+x>=1?(f=(v*E-1)*Math.pow(2,w),C=C+x):(f=v*Math.pow(2,x-1)*Math.pow(2,w),C=0));w>=8;b[p+I]=f&255,I+=q,f/=256,w-=8);for(C=C<<w|f,S+=w;S>0;b[p+I]=C&255,I+=q,C/=256,S-=8);b[p+I-q]|=K*128}},3300:(fe,c)=>{"use strict";var b=a(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof v!="undefined")return v;throw new Error("unable to locate global object")},"getGlobal"),v=b();fe.exports=c=v.fetch,v.fetch&&(c.default=v.fetch.bind(v)),c.Headers=v.Headers,c.Request=v.Request,c.Response=v.Response},447:(fe,c,b)=>{var v=b(2479);fe.exports=v(p),fe.exports.strict=v(y),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return y(this)},configurable:!0})});function p(w){var O=a(function(){return O.called?O.value:(O.called=!0,O.value=w.apply(this,arguments))},"f");return O.called=!1,O}a(p,"once");function y(w){var O=a(function(){if(O.called)throw new Error(O.onceError);return O.called=!0,O.value=w.apply(this,arguments)},"f"),C=w.name||"Function wrapped with `once`";return O.onceError=C+" shouldn't be called more than once",O.called=!1,O}a(y,"onceStrict")},6470:(fe,c,b)=>{"use strict";var v=b(4155);function p(C){if(typeof C!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(C))}a(p,"assertPath");function y(C,f){for(var E="",S=0,_=-1,x=0,B,I=0;I<=C.length;++I){if(I<C.length)B=C.charCodeAt(I);else{if(B===47)break;B=47}if(B===47){if(!(_===I-1||x===1))if(_!==I-1&&x===2){if(E.length<2||S!==2||E.charCodeAt(E.length-1)!==46||E.charCodeAt(E.length-2)!==46){if(E.length>2){var q=E.lastIndexOf("/");if(q!==E.length-1){q===-1?(E="",S=0):(E=E.slice(0,q),S=E.length-1-E.lastIndexOf("/")),_=I,x=0;continue}}else if(E.length===2||E.length===1){E="",S=0,_=I,x=0;continue}}f&&(E.length>0?E+="/..":E="..",S=2)}else E.length>0?E+="/"+C.slice(_+1,I):E=C.slice(_+1,I),S=I-_-1;_=I,x=0}else B===46&&x!==-1?++x:x=-1}return E}a(y,"normalizeStringPosix");function w(C,f){var E=f.dir||f.root,S=f.base||(f.name||"")+(f.ext||"");return E?E===f.root?E+S:E+C+S:S}a(w,"_format");var O={resolve:a(function(){for(var f="",E=!1,S,_=arguments.length-1;_>=-1&&!E;_--){var x;_>=0?x=arguments[_]:(S===void 0&&(S=v.cwd()),x=S),p(x),x.length!==0&&(f=x+"/"+f,E=x.charCodeAt(0)===47)}return f=y(f,!E),E?f.length>0?"/"+f:"/":f.length>0?f:"."},"resolve"),normalize:a(function(f){if(p(f),f.length===0)return".";var E=f.charCodeAt(0)===47,S=f.charCodeAt(f.length-1)===47;return f=y(f,!E),f.length===0&&!E&&(f="."),f.length>0&&S&&(f+="/"),E?"/"+f:f},"normalize"),isAbsolute:a(function(f){return p(f),f.length>0&&f.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var f,E=0;E<arguments.length;++E){var S=arguments[E];p(S),S.length>0&&(f===void 0?f=S:f+="/"+S)}return f===void 0?".":O.normalize(f)},"join"),relative:a(function(f,E){if(p(f),p(E),f===E||(f=O.resolve(f),E=O.resolve(E),f===E))return"";for(var S=1;S<f.length&&f.charCodeAt(S)===47;++S);for(var _=f.length,x=_-S,B=1;B<E.length&&E.charCodeAt(B)===47;++B);for(var I=E.length,q=I-B,K=x<q?x:q,se=-1,N=0;N<=K;++N){if(N===K){if(q>K){if(E.charCodeAt(B+N)===47)return E.slice(B+N+1);if(N===0)return E.slice(B+N)}else x>K&&(f.charCodeAt(S+N)===47?se=N:N===0&&(se=0));break}var z=f.charCodeAt(S+N),$=E.charCodeAt(B+N);if(z!==$)break;z===47&&(se=N)}var R="";for(N=S+se+1;N<=_;++N)(N===_||f.charCodeAt(N)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+E.slice(B+se):(B+=se,E.charCodeAt(B)===47&&++B,E.slice(B))},"relative"),_makeLong:a(function(f){return f},"_makeLong"),dirname:a(function(f){if(p(f),f.length===0)return".";for(var E=f.charCodeAt(0),S=E===47,_=-1,x=!0,B=f.length-1;B>=1;--B)if(E=f.charCodeAt(B),E===47){if(!x){_=B;break}}else x=!1;return _===-1?S?"/":".":S&&_===1?"//":f.slice(0,_)},"dirname"),basename:a(function(f,E){if(E!==void 0&&typeof E!="string")throw new TypeError('"ext" argument must be a string');p(f);var S=0,_=-1,x=!0,B;if(E!==void 0&&E.length>0&&E.length<=f.length){if(E.length===f.length&&E===f)return"";var I=E.length-1,q=-1;for(B=f.length-1;B>=0;--B){var K=f.charCodeAt(B);if(K===47){if(!x){S=B+1;break}}else q===-1&&(x=!1,q=B+1),I>=0&&(K===E.charCodeAt(I)?--I==-1&&(_=B):(I=-1,_=q))}return S===_?_=q:_===-1&&(_=f.length),f.slice(S,_)}else{for(B=f.length-1;B>=0;--B)if(f.charCodeAt(B)===47){if(!x){S=B+1;break}}else _===-1&&(x=!1,_=B+1);return _===-1?"":f.slice(S,_)}},"basename"),extname:a(function(f){p(f);for(var E=-1,S=0,_=-1,x=!0,B=0,I=f.length-1;I>=0;--I){var q=f.charCodeAt(I);if(q===47){if(!x){S=I+1;break}continue}_===-1&&(x=!1,_=I+1),q===46?E===-1?E=I:B!==1&&(B=1):E!==-1&&(B=-1)}return E===-1||_===-1||B===0||B===1&&E===_-1&&E===S+1?"":f.slice(E,_)},"extname"),format:a(function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return w("/",f)},"format"),parse:a(function(f){p(f);var E={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return E;var S=f.charCodeAt(0),_=S===47,x;_?(E.root="/",x=1):x=0;for(var B=-1,I=0,q=-1,K=!0,se=f.length-1,N=0;se>=x;--se){if(S=f.charCodeAt(se),S===47){if(!K){I=se+1;break}continue}q===-1&&(K=!1,q=se+1),S===46?B===-1?B=se:N!==1&&(N=1):B!==-1&&(N=-1)}return B===-1||q===-1||N===0||N===1&&B===q-1&&B===I+1?q!==-1&&(I===0&&_?E.base=E.name=f.slice(1,q):E.base=E.name=f.slice(I,q)):(I===0&&_?(E.name=f.slice(1,B),E.base=f.slice(1,q)):(E.name=f.slice(I,B),E.base=f.slice(I,q)),E.ext=f.slice(B,q)),I>0?E.dir=f.slice(0,I-1):_&&(E.dir="/"),E},"parse"),sep:"/",delimiter:":",win32:null,posix:null};O.posix=O,fe.exports=O},8985:(fe,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Deferred=void 0;class b{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((p,y)=>{this.reject=y,this.resolve=p})}}a(b,"Deferred"),c.Deferred=b},7279:(fe,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndOfStreamError=c.defaultMessages=void 0,c.defaultMessages="End-Of-Stream";class b extends Error{constructor(){super(c.defaultMessages)}}a(b,"EndOfStreamError"),c.EndOfStreamError=b},6654:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StreamReader=c.EndOfStreamError=void 0;const v=b(7279),p=b(8985);var y=b(7279);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return y.EndOfStreamError}});const w=1*1024*1024;class O{constructor(f){if(this.s=f,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!f.read||!f.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new v.EndOfStreamError)),this.s.once("error",E=>this.reject(E)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(f,E,S){const _=await this.read(f,E,S);return this.peekQueue.push(f.subarray(E,E+_)),_}async read(f,E,S){if(S===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new v.EndOfStreamError;let _=S,x=0;for(;this.peekQueue.length>0&&_>0;){const B=this.peekQueue.pop();if(!B)throw new Error("peekData should be defined");const I=Math.min(B.length,_);f.set(B.subarray(0,I),E+x),x+=I,_-=I,I<B.length&&this.peekQueue.push(B.subarray(I))}for(;_>0&&!this.endOfStream;){const B=Math.min(_,w),I=await this.readFromStream(f,E+x,B);if(x+=I,I<B)break;_-=I}return x}async readFromStream(f,E,S){const _=this.s.read(S);if(_)return f.set(_,E),_.length;{const x={buffer:f,offset:E,length:S,deferred:new p.Deferred};return this.deferred=x.deferred,this.s.once("readable",()=>{this.readDeferred(x)}),x.deferred.promise}}readDeferred(f){const E=this.s.read(f.length);E?(f.buffer.set(E,f.offset),f.deferred.resolve(E.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(f)})}reject(f){this.endOfStream=!0,this.deferred&&(this.deferred.reject(f),this.deferred=null)}}a(O,"StreamReader"),c.StreamReader=O},5167:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StreamReader=c.EndOfStreamError=void 0;var v=b(7279);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return v.EndOfStreamError}});var p=b(6654);Object.defineProperty(c,"StreamReader",{enumerable:!0,get:function(){return p.StreamReader}})},4155:fe=>{var c=fe.exports={},b,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function y(){throw new Error("clearTimeout has not been defined")}a(y,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?b=setTimeout:b=p}catch(q){b=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=y}catch(q){v=y}}();function w(q){if(b===setTimeout)return setTimeout(q,0);if((b===p||!b)&&setTimeout)return b=setTimeout,setTimeout(q,0);try{return b(q,0)}catch(K){try{return b.call(null,q,0)}catch(se){return b.call(this,q,0)}}}a(w,"runTimeout");function O(q){if(v===clearTimeout)return clearTimeout(q);if((v===y||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(q);try{return v(q)}catch(K){try{return v.call(null,q)}catch(se){return v.call(this,q)}}}a(O,"runClearTimeout");var C=[],f=!1,E,S=-1;function _(){!f||!E||(f=!1,E.length?C=E.concat(C):S=-1,C.length&&x())}a(_,"cleanUpNextTick");function x(){if(!f){var q=w(_);f=!0;for(var K=C.length;K;){for(E=C,C=[];++S<K;)E&&E[S].run();S=-1,K=C.length}E=null,f=!1,O(q)}}a(x,"drainQueue"),c.nextTick=function(q){var K=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)K[se-1]=arguments[se];C.push(new B(q,K)),C.length===1&&!f&&w(x)};function B(q,K){this.fun=q,this.array=K}a(B,"Item"),B.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={};function I(){}a(I,"noop"),c.on=I,c.addListener=I,c.once=I,c.off=I,c.removeListener=I,c.removeAllListeners=I,c.emit=I,c.prependListener=I,c.prependOnceListener=I,c.listeners=function(q){return[]},c.binding=function(q){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(q){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},842:(fe,c,b)=>{"use strict";var v=b(8764).Buffer;Object.defineProperty(c,"__esModule",{value:!0}),c.AbstractTokenizer=void 0;const p=b(5167);class y{constructor(O){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=O||{}}async readToken(O,C=this.position){const f=v.alloc(O.len);if(await this.readBuffer(f,{position:C})<O.len)throw new p.EndOfStreamError;return O.get(f,0)}async peekToken(O,C=this.position){const f=v.alloc(O.len);if(await this.peekBuffer(f,{position:C})<O.len)throw new p.EndOfStreamError;return O.get(f,0)}async readNumber(O){if(await this.readBuffer(this.numBuffer,{length:O.len})<O.len)throw new p.EndOfStreamError;return O.get(this.numBuffer,0)}async peekNumber(O){if(await this.peekBuffer(this.numBuffer,{length:O.len})<O.len)throw new p.EndOfStreamError;return O.get(this.numBuffer,0)}async ignore(O){if(this.fileInfo.size!==void 0){const C=this.fileInfo.size-this.position;if(O>C)return this.position+=C,C}return this.position+=O,O}async close(){}normalizeOptions(O,C){if(C&&C.position!==void 0&&C.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return C?{mayBeLess:C.mayBeLess===!0,offset:C.offset?C.offset:0,length:C.length?C.length:O.length-(C.offset?C.offset:0),position:C.position?C.position:this.position}:{mayBeLess:!1,offset:0,length:O.length,position:this.position}}}a(y,"AbstractTokenizer"),c.AbstractTokenizer=y},778:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BufferTokenizer=void 0;const v=b(5167),p=b(842);class y extends p.AbstractTokenizer{constructor(O,C){super(C);this.uint8Array=O,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:O.length}async readBuffer(O,C){if(C&&C.position){if(C.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=C.position}const f=await this.peekBuffer(O,C);return this.position+=f,f}async peekBuffer(O,C){const f=this.normalizeOptions(O,C),E=Math.min(this.uint8Array.length-f.position,f.length);if(!f.mayBeLess&&E<f.length)throw new v.EndOfStreamError;return O.set(this.uint8Array.subarray(f.position,f.position+E),f.offset),E}async close(){}}a(y,"BufferTokenizer"),c.BufferTokenizer=y},7859:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromFile=c.FileTokenizer=void 0;const v=b(842),p=b(5167),y=b(7209);class w extends v.AbstractTokenizer{constructor(f,E){super(E);this.fd=f}async readBuffer(f,E){const S=this.normalizeOptions(f,E);this.position=S.position;const _=await y.read(this.fd,f,S.offset,S.length,S.position);if(this.position+=_.bytesRead,_.bytesRead<S.length&&(!E||!E.mayBeLess))throw new p.EndOfStreamError;return _.bytesRead}async peekBuffer(f,E){const S=this.normalizeOptions(f,E),_=await y.read(this.fd,f,S.offset,S.length,S.position);if(!S.mayBeLess&&_.bytesRead<S.length)throw new p.EndOfStreamError;return _.bytesRead}async close(){return y.close(this.fd)}}a(w,"FileTokenizer"),c.FileTokenizer=w;async function O(C){const f=await y.stat(C);if(!f.isFile)throw new Error(`File not a file: ${C}`);const E=await y.open(C,"r");return new w(E,{path:C,size:f.size})}a(O,"fromFile"),c.fromFile=O},7209:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.readFile=c.writeFileSync=c.writeFile=c.read=c.open=c.close=c.stat=c.createReadStream=c.pathExists=void 0;const v=b(4059);c.pathExists=v.existsSync,c.createReadStream=v.createReadStream;async function p(S){return new Promise((_,x)=>{v.stat(S,(B,I)=>{B?x(B):_(I)})})}a(p,"stat"),c.stat=p;async function y(S){return new Promise((_,x)=>{v.close(S,B=>{B?x(B):_()})})}a(y,"close"),c.close=y;async function w(S,_){return new Promise((x,B)=>{v.open(S,_,(I,q)=>{I?B(I):x(q)})})}a(w,"open"),c.open=w;async function O(S,_,x,B,I){return new Promise((q,K)=>{v.read(S,_,x,B,I,(se,N,z)=>{se?K(se):q({bytesRead:N,buffer:z})})})}a(O,"read"),c.read=O;async function C(S,_){return new Promise((x,B)=>{v.writeFile(S,_,I=>{I?B(I):x()})})}a(C,"writeFile"),c.writeFile=C;function f(S,_){v.writeFileSync(S,_)}a(f,"writeFileSync"),c.writeFileSync=f;async function E(S){return new Promise((_,x)=>{v.readFile(S,(B,I)=>{B?x(B):_(I)})})}a(E,"readFile"),c.readFile=E},599:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ReadStreamTokenizer=void 0;const v=b(842),p=b(5167),y=256e3;class w extends v.AbstractTokenizer{constructor(C,f){super(f);this.streamReader=new p.StreamReader(C)}async getFileInfo(){return this.fileInfo}async readBuffer(C,f){const E=this.normalizeOptions(C,f),S=E.position-this.position;if(S>0)return await this.ignore(S),this.readBuffer(C,f);if(S<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(E.length===0)return 0;const _=await this.streamReader.read(C,E.offset,E.length);if(this.position+=_,(!f||!f.mayBeLess)&&_<E.length)throw new p.EndOfStreamError;return _}async peekBuffer(C,f){const E=this.normalizeOptions(C,f);let S=0;if(E.position){const _=E.position-this.position;if(_>0){const x=new Uint8Array(E.length+_);return S=await this.peekBuffer(x,{mayBeLess:E.mayBeLess}),C.set(x.subarray(_),E.offset),S-_}else if(_<0)throw new Error("Cannot peek from a negative offset in a stream")}if(E.length>0){try{S=await this.streamReader.peek(C,E.offset,E.length)}catch(_){if(f&&f.mayBeLess&&_ instanceof p.EndOfStreamError)return 0;throw _}if(!E.mayBeLess&&S<E.length)throw new p.EndOfStreamError}return S}async ignore(C){const f=Math.min(y,C),E=new Uint8Array(f);let S=0;for(;S<C;){const _=C-S,x=await this.readBuffer(E,{length:Math.min(f,_)});if(x<0)return x;S+=x}return S}}a(w,"ReadStreamTokenizer"),c.ReadStreamTokenizer=w},5849:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromBuffer=c.fromStream=c.EndOfStreamError=void 0;const v=b(599),p=b(778);var y=b(5167);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return y.EndOfStreamError}});function w(C,f){return f=f||{},new v.ReadStreamTokenizer(C,f)}a(w,"fromStream"),c.fromStream=w;function O(C,f){return new p.BufferTokenizer(C,f)}a(O,"fromBuffer"),c.fromBuffer=O},6597:(fe,c,b)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromStream=c.fromBuffer=c.EndOfStreamError=c.fromFile=void 0;const v=b(7209),p=b(5849);var y=b(7859);Object.defineProperty(c,"fromFile",{enumerable:!0,get:function(){return y.fromFile}});var w=b(5849);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),Object.defineProperty(c,"fromBuffer",{enumerable:!0,get:function(){return w.fromBuffer}});async function O(C,f){if(f=f||{},C.path){const E=await v.stat(C.path);f.path=C.path,f.size=E.size}return p.fromStream(C,f)}a(O,"fromStream"),c.fromStream=O},3416:(fe,c,b)=>{"use strict";var v=b(8764).Buffer;Object.defineProperty(c,"__esModule",{value:!0}),c.AnsiStringType=c.StringType=c.BufferType=c.Uint8ArrayType=c.IgnoreType=c.Float80_LE=c.Float80_BE=c.Float64_LE=c.Float64_BE=c.Float32_LE=c.Float32_BE=c.Float16_LE=c.Float16_BE=c.INT64_BE=c.UINT64_BE=c.INT64_LE=c.UINT64_LE=c.INT32_LE=c.INT32_BE=c.INT24_BE=c.INT24_LE=c.INT16_LE=c.INT16_BE=c.INT8=c.UINT32_BE=c.UINT32_LE=c.UINT24_BE=c.UINT24_LE=c.UINT16_BE=c.UINT16_LE=c.UINT8=void 0;const p=b(645);function y(S){return new DataView(S.buffer,S.byteOffset)}a(y,"dv"),c.UINT8={len:1,get(S,_){return y(S).getUint8(_)},put(S,_,x){return y(S).setUint8(_,x),_+1}},c.UINT16_LE={len:2,get(S,_){return y(S).getUint16(_,!0)},put(S,_,x){return y(S).setUint16(_,x,!0),_+2}},c.UINT16_BE={len:2,get(S,_){return y(S).getUint16(_)},put(S,_,x){return y(S).setUint16(_,x),_+2}},c.UINT24_LE={len:3,get(S,_){const x=y(S);return x.getUint8(_)+(x.getUint16(_+1,!0)<<8)},put(S,_,x){const B=y(S);return B.setUint8(_,x&255),B.setUint16(_+1,x>>8,!0),_+3}},c.UINT24_BE={len:3,get(S,_){const x=y(S);return(x.getUint16(_)<<8)+x.getUint8(_+2)},put(S,_,x){const B=y(S);return B.setUint16(_,x>>8),B.setUint8(_+2,x&255),_+3}},c.UINT32_LE={len:4,get(S,_){return y(S).getUint32(_,!0)},put(S,_,x){return y(S).setUint32(_,x,!0),_+4}},c.UINT32_BE={len:4,get(S,_){return y(S).getUint32(_)},put(S,_,x){return y(S).setUint32(_,x),_+4}},c.INT8={len:1,get(S,_){return y(S).getInt8(_)},put(S,_,x){return y(S).setInt8(_,x),_+2}},c.INT16_BE={len:2,get(S,_){return y(S).getInt16(_)},put(S,_,x){return y(S).setInt16(_,x),_+2}},c.INT16_LE={len:2,get(S,_){return y(S).getInt16(_,!0)},put(S,_,x){return y(S).setInt16(_,x,!0),_+2}},c.INT24_LE={len:3,get(S,_){const x=c.UINT24_LE.get(S,_);return x>8388607?x-16777216:x},put(S,_,x){const B=y(S);return B.setUint8(_,x&255),B.setUint16(_+1,x>>8,!0),_+3}},c.INT24_BE={len:3,get(S,_){const x=c.UINT24_BE.get(S,_);return x>8388607?x-16777216:x},put(S,_,x){const B=y(S);return B.setUint16(_,x>>8),B.setUint8(_+2,x&255),_+3}},c.INT32_BE={len:4,get(S,_){return y(S).getInt32(_)},put(S,_,x){return y(S).setInt32(_,x),_+4}},c.INT32_LE={len:4,get(S,_){return y(S).getInt32(_,!0)},put(S,_,x){return y(S).setInt32(_,x,!0),_+4}},c.UINT64_LE={len:8,get(S,_){return y(S).getBigUint64(_,!0)},put(S,_,x){return y(S).setBigUint64(_,x,!0),_+8}},c.INT64_LE={len:8,get(S,_){return y(S).getBigInt64(_,!0)},put(S,_,x){return y(S).setBigInt64(_,x,!0),_+8}},c.UINT64_BE={len:8,get(S,_){return y(S).getBigUint64(_)},put(S,_,x){return y(S).setBigUint64(_,x),_+8}},c.INT64_BE={len:8,get(S,_){return y(S).getBigInt64(_)},put(S,_,x){return y(S).setBigInt64(_,x),_+8}},c.Float16_BE={len:2,get(S,_){return p.read(S,_,!1,10,this.len)},put(S,_,x){return p.write(S,x,_,!1,10,this.len),_+this.len}},c.Float16_LE={len:2,get(S,_){return p.read(S,_,!0,10,this.len)},put(S,_,x){return p.write(S,x,_,!0,10,this.len),_+this.len}},c.Float32_BE={len:4,get(S,_){return y(S).getFloat32(_)},put(S,_,x){return y(S).setFloat32(_,x),_+4}},c.Float32_LE={len:4,get(S,_){return y(S).getFloat32(_,!0)},put(S,_,x){return y(S).setFloat32(_,x,!0),_+4}},c.Float64_BE={len:8,get(S,_){return y(S).getFloat64(_)},put(S,_,x){return y(S).setFloat64(_,x),_+8}},c.Float64_LE={len:8,get(S,_){return y(S).getFloat64(_,!0)},put(S,_,x){return y(S).setFloat64(_,x,!0),_+8}},c.Float80_BE={len:10,get(S,_){return p.read(S,_,!1,63,this.len)},put(S,_,x){return p.write(S,x,_,!1,63,this.len),_+this.len}},c.Float80_LE={len:10,get(S,_){return p.read(S,_,!0,63,this.len)},put(S,_,x){return p.write(S,x,_,!0,63,this.len),_+this.len}};class w{constructor(_){this.len=_}get(_,x){}}a(w,"IgnoreType"),c.IgnoreType=w;class O{constructor(_){this.len=_}get(_,x){return _.subarray(x,x+this.len)}}a(O,"Uint8ArrayType"),c.Uint8ArrayType=O;class C{constructor(_){this.len=_}get(_,x){return v.from(_.subarray(x,x+this.len))}}a(C,"BufferType"),c.BufferType=C;class f{constructor(_,x){this.len=_,this.encoding=x}get(_,x){return v.from(_).toString(this.encoding,x,x+this.len)}}a(f,"StringType"),c.StringType=f;class E{constructor(_){this.len=_}static decode(_,x,B){let I="";for(let q=x;q<B;++q)I+=E.codePointToString(E.singleByteDecoder(_[q]));return I}static inRange(_,x,B){return x<=_&&_<=B}static codePointToString(_){return _<=65535?String.fromCharCode(_):(_-=65536,String.fromCharCode((_>>10)+55296,(_&1023)+56320))}static singleByteDecoder(_){if(E.inRange(_,0,127))return _;const x=E.windows1252[_-128];if(x===null)throw Error("invaliding encoding");return x}get(_,x=0){return E.decode(_,x,x+this.len)}}a(E,"AnsiStringType"),c.AnsiStringType=E,E.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:fe=>{fe.exports=c;function c(b,v){if(b&&v)return c(b)(v);if(typeof b!="function")throw new TypeError("need wrapper function");return Object.keys(b).forEach(function(y){p[y]=b[y]}),p;function p(){for(var y=new Array(arguments.length),w=0;w<y.length;w++)y[w]=arguments[w];var O=b.apply(this,y),C=y[y.length-1];return typeof O=="function"&&O!==C&&Object.keys(C).forEach(function(f){O[f]=C[f]}),O}a(p,"wrapper")}a(c,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(fe){var c=__webpack_module_cache__[fe];if(c!==void 0)return c.exports;var b=__webpack_module_cache__[fe]={id:fe,loaded:!1,exports:{}};return __webpack_modules__[fe].call(b.exports,b,b.exports,__webpack_require__),b.loaded=!0,b.exports}a(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=fe=>{var c=fe&&fe.__esModule?()=>fe.default:()=>fe;return __webpack_require__.d(c,{a:c}),c}})(),(()=>{__webpack_require__.d=(fe,c)=>{for(var b in c)__webpack_require__.o(c,b)&&!__webpack_require__.o(fe,b)&&Object.defineProperty(fe,b,{enumerable:!0,get:c[b]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(fe){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(fe,c)=>Object.prototype.hasOwnProperty.call(fe,c)})(),(()=>{__webpack_require__.r=fe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=fe=>(fe.paths=[],fe.children||(fe.children=[]),fe)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>Kh});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{max:()=>Yt,min:()=>kr});const c=require("vscode"),b=new TextDecoder,v=new TextEncoder,p=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function y(t){const e=v.encode(t),r=new Array(e.length);for(let n=0;n<e.length;++n)r[n]=p[e[n]];return r.join("")}a(y,"encodeUtf8Hex");function w(t){const e=t.match(/(\w{2})/g);if(e===null)return"";const r=new Uint8Array(e.map(n=>parseInt(n,16)));return b.decode(r)}a(w,"decodeUtf8Hex");const O=/^[0-9a-f]{40}$/i;function C(t){return t!==void 0&&O.test(t)}a(C,"isSha");const f=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function E(t){return f.test(t)}a(E,"isValidBranchName");function S(t){return t===""||t==="~"||t==="HEAD"?t:t.endsWith("^")?`${t.substr(0,7)}^`:t.substr(0,7)}a(S,"shortenRef");const _=47;function x(t){if(t===void 0)return;const e=t.path.endsWith("/");return!e&&!t.fragment?t.toString():t.with({path:e?t.path.slice(0,-1):t.path,fragment:""}).toString()}a(x,"asKey");function B(t){if(t===void 0)return;const e=t.path.endsWith("/");return!e&&!t.query&&!t.fragment?t.toString():t.with({path:e?t.path.slice(0,-1):t.path,query:"",fragment:""}).toString()}a(B,"asFileKey");function I(t,e){return`${(e==null?void 0:e.excludeScheme)?"":`${t.scheme}-`}${t.authority}${t.path.endsWith("/")?t.path.slice(0,-1):t.path}`}a(I,"asFileStorageKey");function q(t){const e=typeof t=="string"?t:t.path;let r=0,n=-1,i=!0;for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===_){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)}a(q,"uris_basename");function K(t){const e=t.path;if(e.length===1)return"/";let r,n=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(r=e.charCodeAt(o),r===_){if(!i){n=o;break}}else i=!1;return n===-1?"/":e.slice(0,n)}a(K,"dirname");function se(t){const e=t.path.lastIndexOf("/");return e===-1?t.with({path:"/"}):t.with({path:t.path.substring(0,e)})}a(se,"getParent");function N(t,e){const r=typeof e=="string"?e:e.path;return r.startsWith(t.path)?c.Uri.joinPath(t,r.substr(t.path.length)):c.Uri.joinPath(t,r)}a(N,"joinRelativePath");function z(t,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),$(t,e)&&t.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):$(t,e)&&t.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(z,"isChild");function $(t,e){if(typeof t=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const r=typeof t=="string"?t:t.path;return e.length===1||r.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===t.scheme&&e.authority===t.authority&&(e.path.length===1||t.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a($,"uris_isDescendent");function R(t){return t&&typeof t=="object"&&"scheme"in t}a(R,"isSerializedUri");var L;(function(t){t.authoritySeparator="+",t.scheme="vscode-vfs",t.baseVirtualWorkspaceUri=c.Uri.parse(`${t.scheme}://`);function e(u){const{authority:g}=u,F=g.indexOf(t.authoritySeparator);return F!==-1?g.substr(0,F):g}a(e,"getProviderId"),t.getProviderId=e;function r(u){return u.scheme!==t.scheme?u:u.with({scheme:e(u)})}a(r,"getProviderUri"),t.getProviderUri=r;function n(u,g){const F=new Map,A=c.workspace.textDocuments;if(A.length===0)return F;for(const k of A)k.uri.scheme===u&&g.some(oe=>$(k.uri,oe))&&F.set(x(k.uri),k.uri);return F}a(n,"getOpenUris"),t.getOpenUris=n;function i(u){return u.scheme===t.scheme?u:u.with({scheme:t.scheme})}a(i,"getVirtualUri"),t.getVirtualUri=i;function o(u,g){const[F,A]=u.authority.split(t.authoritySeparator);let k;if(A)try{const oe=JSON.parse(w(A));k=g?g(oe):oe}catch{}return{scheme:F,metadata:k}}a(o,"decodeAuthority"),t.decodeAuthority=o;function s(u,g){const F=g?`${t.authoritySeparator}${y(JSON.stringify(g))}`:"";return`${u}${F}`}a(s,"encodeAuthority"),t.encodeAuthority=s;function l(u){return u.authority.indexOf(t.authoritySeparator)===-1}a(l,"isCanonicalUri"),t.isCanonicalUri=l;function d(){var u,g;return(g=(u=c.workspace.workspaceFolders)==null?void 0:u.every(F=>F.uri.scheme===t.scheme))!=null?g:!1}a(d,"isVirtualWorkspace"),t.isVirtualWorkspace=d})(L||(L={}));var j;(function(t){t[t.Admin=100]="Admin",t[t.Maintain=40]="Maintain",t[t.WriteToPullRequest=31]="WriteToPullRequest",t[t.Write=30]="Write",t[t.Triage=20]="Triage",t[t.Read=10]="Read",t[t.None=0]="None"})(j||(j={}));var X;(function(t){t[t.Branch=0]="Branch",t[t.RemoteBranch=1]="RemoteBranch",t[t.Tag=2]="Tag",t[t.Commit=3]="Commit"})(X||(X={}));var re;(function(t){function e(r){return r!==void 0&&r.type===Ce.Active}a(e,"isActive"),t.isActive=e})(re||(re={}));var ne;(function(t){function e(r){const n=L.decodeAuthority(r).metadata;if(!(n===void 0||n.idx===void 0)){if(n.idx==="latest")return{type:le.Latest};if(C(n.idx))return{type:le.SHA,sha:n.idx}}}a(e,"decode"),t.decode=e})(ne||(ne={}));var le;(function(t){t[t.Latest=1]="Latest",t[t.SHA=2]="SHA"})(le||(le={}));var Ce;(function(t){t[t.NotIndexed=0]="NotIndexed",t[t.Indexed=1]="Indexed",t[t.Match=2]="Match",t[t.Active=3]="Active"})(Ce||(Ce={})),function(t){function e(r){return r!==void 0&&(r===t.Indexed||r===t.Match||r===t.Active)}a(e,"hasIndex"),t.hasIndex=e}(Ce||(Ce={}));var ie;(function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed",t[t.Merged=2]="Merged"})(ie||(ie={}));var G;(function(t){t[t.Changed=1]="Changed",t[t.Created=2]="Created",t[t.Deleted=3]="Deleted"})(G||(G={}));var me;(function(t){t.CurrentWindow="currentWindow",t.NewWindow="newWindow",t.AddToWorkspace="addToWorkspace"})(me||(me={}));var Ue;(function(t){t[t.Branch=0]="Branch",t[t.Tag=1]="Tag",t[t.Commit=2]="Commit",t[t.PullRequest=3]="PullRequest",t[t.Tree=4]="Tree"})(Ue||(Ue={}));var Le;(function(t){t[t.Abort=0]="Abort",t[t.KeepCurrent=1]="KeepCurrent",t[t.DiscardCurrent=2]="DiscardCurrent",t[t.Merge=3]="Merge"})(Le||(Le={}));var ue;(function(t){t[t.Repository=0]="Repository",t[t.PullRequest=1]="PullRequest",t[t.Branch=2]="Branch",t[t.Commit=3]="Commit",t[t.File=4]="File",t[t.Tag=5]="Tag"})(ue||(ue={}));var Y;(function(t){t.Branch="branch",t.RemoteBranch="remoteBranch",t.PullRequestBranch="pullRequestBranch",t.PullRequestRemoteBranch="pullRequestRemoteBranch",t.Tag="tag",t.Commit="commit"})(Y||(Y={}));var we;(function(t){t.None="none",t.Latest="latest",t.Match="match",t.TipPlusLatest="tip+latest"})(we||(we={}));var Oe;(function(t){t.Browse="browse",t.Edit="edit"})(Oe||(Oe={}));var De;(function(t){t.CommitFailedError="CommitFailedError",t.DetachedHEADError="DetachedHEADError",t.CommitToProtectedBranchError="CommitToProtectedBranchError",t.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",t.InvalidBranchNameError="InvalidBranchNameError",t.InvalidCredentialsError="InvalidCredentialsError",t.MergeConflictError="MergeConflictError",t.NothingToCommitError="NothingToCommitError",t.SyncConflictsError="SyncConflictsError",t.SyncOrFetchError="SyncOrFetchError",t.UnresolvedConflictsError="UnresolvedConflictsError",t.InvalidRepositoryError="InvalidRepositoryError",t.Unknown="Unknown"})(De||(De={}));class ee extends Error{constructor(e,r,n){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=r,this.action=n}static CommitFailedError(){return new ee("Failed to create and push commit",De.CommitFailedError)}static DetachedHEADError(e){return new ee(e,De.DetachedHEADError)}static CommitToProtectedBranchError(e){return new ee(e,De.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new ee(e,De.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,r=!1){const n=r?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new ee(n,De.InvalidBranchNameError)}static InvalidCredentialsError(e,r){return new ee(e,De.InvalidCredentialsError,r)}static MergeConflictError(e){return new ee(e,De.MergeConflictError)}static NothingToCommitError(e){return new ee(e,De.NothingToCommitError)}static SyncOrFetchError(e=!1){const r=e?"Unable to sync the repository":"Unable to fetch the repository";return new ee(r,De.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new ee(e,De.SyncConflictsError)}static UnresolvedConflictsError(){return new ee("You have unresolved merge conflicts.",De.UnresolvedConflictsError)}static InvalidRepositoryError(){return new ee("The current repository is invalid",De.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:De.Unknown}}a(ee,"VirtualProviderError");const ct=6;var qe;(function(t){t.Off="off",t.Auto="auto",t.Always="always"})(qe||(qe={}));var Ze;(function(t){t.None="none",t.Latest="latest",t.Match="match",t.TipPlusLatest="tip+latest"})(Ze||(Ze={})),function(t){function e(r){return r===t.None||r===t.Latest||r===t.Match||r===t.TipPlusLatest?r:t.None}a(e,"sanitize"),t.sanitize=e}(Ze||(Ze={}));var Z;(function(t){t.Browse="browse",t.Edit="edit"})(Z||(Z={})),function(t){function e(n){return n===t.Browse||n===t.Edit?n:t.Edit}a(e,"sanitize"),t.sanitize=e;function r(n){return n===t.Browse?t.Edit:t.Browse}a(r,"toggle"),t.toggle=r}(Z||(Z={}));var te;(function(t){function e(r,n){return r.display===n.display&&r.index===n.index}a(e,"equals"),t.equals=e})(te||(te={}));var ae;(function(t){const e=new Map([[Y.Branch,Ze.None],[Y.RemoteBranch,Ze.None],[Y.PullRequestBranch,Ze.Match],[Y.PullRequestRemoteBranch,Ze.Match],[Y.Commit,Ze.Match],[Y.Tag,Ze.Match]]),r=new Map([[Y.Branch,Z.Edit],[Y.RemoteBranch,Z.Edit],[Y.PullRequestBranch,Z.Browse],[Y.PullRequestRemoteBranch,Z.Browse],[Y.Commit,Z.Browse],[Y.Tag,Z.Browse]]);function n(o){var s,l;return{display:(s=r.get(o))!=null?s:Z.Edit,index:(l=e.get(o))!=null?l:Ze.None}}a(n,"getDefault"),t.getDefault=n;function i(o){switch(o){case Y.Branch:case Y.RemoteBranch:return{display:Z.Browse,index:Ze.Latest};case Y.PullRequestBranch:case Y.PullRequestRemoteBranch:return{display:Z.Browse,index:Ze.Match};case Y.Commit:case Y.Tag:return{display:Z.Browse,index:Ze.Match};default:return{display:Z.Edit,index:Ze.None}}}a(i,"getIndexDefault"),t.getIndexDefault=i})(ae||(ae={}));const _e=null;var Ge=__webpack_require__(5179),lt=__webpack_require__.n(Ge);const Se="modes",Re="indexMemento";class Te{constructor(){this._onDidChange=new c.EventEmitter,this._onDidChangeAny=new c.EventEmitter,this.memoryState=new Map}static configure(e,r){xe.configPrefix=e,xe.state=r.workspaceState,r.subscriptions.push(c.workspace.onDidChangeConfiguration(xe.onConfigurationChanged,xe))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(Se),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const r of this.memoryState.entries())this.modes[r[0]]=r[1];this._state.update(Se,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(Re),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,r,n){const i=this.inspect(e,r);return i===void 0&&n!==void 0?n:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,r,n){return n===void 0?c.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,r).get(e===void 0?this.configPrefix:e):c.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,r).get(e===void 0?this.configPrefix:e,n)}getMode(e,r,n){var i;const o=e.toString();let s=this.modes!==void 0?this.modes[o]:void 0;if(s!==void 0)return{display:Z.sanitize(s.display),index:Ze.sanitize(s.index)};if(s=this.memoryState.get(o),s!==void 0)return s;if(r===Y.Branch||r===Y.RemoteBranch)switch((i=c.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:Z.Edit,index:Ze.None};case"latest":return{display:Z.Browse,index:Ze.Latest};case"tipPlusLatest":return{display:Z.Edit,index:Ze.TipPlusLatest}}if(!n)return ae.getDefault(r)}setMode(e,r){const n=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(n,r),Promise.resolve()):(this.modes[n]=r,this._state.update(Se,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,r){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=r,this._state.update(Re,this.indexMemento))}getAny(e,r,n){return n===void 0?c.workspace.getConfiguration(void 0,r).get(e):c.workspace.getConfiguration(void 0,r).get(e,n)}changed(e,r,n){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${r}`,n))!=null?i:!0}inspect(e,r){return c.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,r).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,r){return c.workspace.getConfiguration(void 0,r).inspect(e)}async migrate(e,r,n){const i=xe.inspect(e);if(i===void 0)return!1;let o=!1;return i.globalValue!==void 0&&(await this.update(r,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,c.ConfigurationTarget.Global),o=!0),i.workspaceValue!==void 0&&(await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,c.ConfigurationTarget.Workspace),o=!0),i.workspaceFolderValue!==void 0&&(await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,c.ConfigurationTarget.WorkspaceFolder),o=!0),!o&&n.fallbackValue!==void 0&&(await this.update(r,n.fallbackValue,c.ConfigurationTarget.Global),o=!0),o}async migrateIfMissing(e,r,n){const i=xe.inspect(e);if(i===void 0)return;const o=xe.inspect(r);i.globalValue!==void 0&&(o===void 0||o.globalValue===void 0)&&await this.update(r,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,c.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(o===void 0||o.workspaceValue===void 0)&&await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,c.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(o===void 0||o.workspaceFolderValue===void 0)&&await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,c.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,r,n){return c.workspace.getConfiguration(this.configPrefix).update(e,r,n)}updateAny(e,r,n,i){return c.workspace.getConfiguration(void 0,n===c.ConfigurationTarget.Global?void 0:i).update(e,r,n)}updateEffective(e,r){const n=xe.inspect(e);return n.workspaceFolderValue!==void 0?r===n.workspaceFolderValue?Promise.resolve(void 0):xe.update(e,r,c.ConfigurationTarget.WorkspaceFolder):n.workspaceValue!==void 0?r===n.workspaceValue?Promise.resolve(void 0):xe.update(e,r,c.ConfigurationTarget.Workspace):n.globalValue===r||n.globalValue===void 0&&r===n.defaultValue?Promise.resolve(void 0):xe.update(e,lt()(r,n.defaultValue)?void 0:r,c.ConfigurationTarget.Global)}}a(Te,"Configuration");const xe=new Te,ke="";var ve;(function(t){t.Off="off",t.Error="error",t.Warn="warn",t.Info="info",t.Debug="debug"})(ve||(ve={}));var ft;(function(t){t[t.Off=0]="Off",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"})(ft||(ft={}));const We="[RemoteHub]",U=a(class{static configure(t,e,r){this._isDebugging=t.extensionMode===c.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=r}static enabled(t){return this.level>=this.toOrderedLevel(t)}static get logLevel(){return this._logLevel}static set logLevel(t){var e,r;this._logLevel=t,this.level=this.toOrderedLevel(t),t===ve.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(r=this.output)!=null?r:c.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(t){switch(t){case ve.Off:return 0;case ve.Error:return 1;case ve.Warn:return 2;case ve.Info:return 3;case ve.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(t,...e){U.isDebugging&&console.log(this.timestamp,We,t!=null?t:ke,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:ke}${this.toLoggableParams(!0,e)}`)}static error(t,e,...r){if(!(this.level<1&&!U.isDebugging)){if(e===void 0){const n=t instanceof Error?t.stack:void 0;if(n){const i=/.*\s*?at\s(.+?)\s/.exec(n);i!==null&&(e=i[1])}}U.isDebugging&&console.error(this.timestamp,We,e!=null?e:ke,...r,t),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:ke}${this.toLoggableParams(!1,r)}
${String(t)}`)}}static log(t,...e){U.isDebugging&&console.log(this.timestamp,We,t!=null?t:ke,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:ke}${this.toLoggableParams(!1,e)}`)}static warn(t,...e){U.isDebugging&&console.warn(this.timestamp,We,t!=null?t:ke,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:ke}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var t;(t=this.output)==null||t.show()}static toLoggable(t,e){if(typeof t!="object")return String(t);if(t instanceof c.Uri)return`Uri(${t.toString(!0)})`;try{return JSON.stringify(t,e)}catch{return"<error>"}}static toLoggableName(t){var e,r,n;let i;if(typeof t=="function"){if(t.prototype===void 0||t.prototype.constructor===void 0)return t.name;i=(e=t.prototype.constructor.name)!=null?e:ke}else i=(n=(r=t.constructor)==null?void 0:r.name)!=null?n:ke;const o=i.indexOf("_");return o===-1?i:i.substr(o+1)}static get timestamp(){const t=new Date;return`[${t.toISOString().replace(/T/," ").replace(/\..+/,ke)}:${`00${t.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(t,e){if(e.length===0||t&&this.level<4&&!U.isDebugging)return ke;const r=e.map(n=>this.toLoggable(n)).join(", ");return r.length!==0?` \u2014 ${r}`:ke}},"_Logger");let J=U;J.level=0,J._logLevel=ve.Off;class ge{constructor(e){this.provider=e,this._timeout=0,this._disposable=xe.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const r=xe.get("autoFetch");this._config={enabled:(e=r.enabled)!=null?e:!0,interval:r.interval*1e3}}return this._config}onConfigurationChanged(e){!xe.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await c.window.withProgress({location:c.ProgressLocation.SourceControl},async()=>{for(const r of e)try{await this.provider.fetch(r.uri)}catch(n){J.error(n)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(ge,"AutoFetchService");function Qe(){}a(Qe,"Diff"),Qe.prototype={diff:a(function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var o=this;function s(pe){return i?(setTimeout(function(){i(void 0,pe)},0),!0):pe}a(s,"done"),e=this.castInput(e),r=this.castInput(r),e=this.removeEmpty(this.tokenize(e)),r=this.removeEmpty(this.tokenize(r));var l=r.length,d=e.length,u=1,g=l+d,F=[{newPos:-1,components:[]}],A=this.extractCommon(F[0],r,e,0);if(F[0].newPos+1>=l&&A+1>=d)return s([{value:this.join(r),count:r.length}]);function k(){for(var pe=-1*u;pe<=u;pe+=2){var Be=void 0,Ie=F[pe-1],Ye=F[pe+1],tt=(Ye?Ye.newPos:0)-pe;Ie&&(F[pe-1]=void 0);var $e=Ie&&Ie.newPos+1<l,it=Ye&&0<=tt&&tt<d;if(!$e&&!it){F[pe]=void 0;continue}if(!$e||it&&Ie.newPos<Ye.newPos?(Be=wt(Ye),o.pushComponent(Be.components,void 0,!0)):(Be=Ie,Be.newPos++,o.pushComponent(Be.components,!0,void 0)),tt=o.extractCommon(Be,r,e,pe),Be.newPos+1>=l&&tt+1>=d)return s(ut(o,Be.components,r,e,o.useLongestToken));F[pe]=Be}u++}if(a(k,"execEditLength"),i)a(function pe(){setTimeout(function(){if(u>g)return i();k()||pe()},0)},"exec")();else for(;u<=g;){var oe=k();if(oe)return oe}},"diff"),pushComponent:a(function(e,r,n){var i=e[e.length-1];i&&i.added===r&&i.removed===n?e[e.length-1]={count:i.count+1,added:r,removed:n}:e.push({count:1,added:r,removed:n})},"pushComponent"),extractCommon:a(function(e,r,n,i){for(var o=r.length,s=n.length,l=e.newPos,d=l-i,u=0;l+1<o&&d+1<s&&this.equals(r[l+1],n[d+1]);)l++,d++,u++;return u&&e.components.push({count:u}),e.newPos=l,d},"extractCommon"),equals:a(function(e,r){return this.options.comparator?this.options.comparator(e,r):e===r||this.options.ignoreCase&&e.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(e[n]);return r},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function ut(t,e,r,n,i){for(var o=0,s=e.length,l=0,d=0;o<s;o++){var u=e[o];if(u.removed){if(u.value=t.join(n.slice(d,d+u.count)),d+=u.count,o&&e[o-1].added){var F=e[o-1];e[o-1]=e[o],e[o]=F}}else{if(!u.added&&i){var g=r.slice(l,l+u.count);g=g.map(function(k,oe){var pe=n[d+oe];return pe.length>k.length?pe:k}),u.value=t.join(g)}else u.value=t.join(r.slice(l,l+u.count));l+=u.count,u.added||(d+=u.count)}}var A=e[s-1];return s>1&&typeof A.value=="string"&&(A.added||A.removed)&&t.equals("",A.value)&&(e[s-2].value+=A.value,e.pop()),e}a(ut,"buildValues");function wt(t){return{newPos:t.newPos,components:t.components.slice(0)}}a(wt,"clonePath");var ot=new Qe;function D(t,e,r){return ot.diff(t,e,r)}a(D,"diffChars");function h(t,e){if(typeof t=="function")e.callback=t;else if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}a(h,"generateOptions");var m=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Q=/\S/,de=new Qe;de.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!Q.test(t)&&!Q.test(e)},de.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<e.length-1;r++)!e[r+1]&&e[r+2]&&m.test(e[r])&&m.test(e[r+2])&&(e[r]+=e[r+2],e.splice(r+1,2),r--);return e};function Ne(t,e,r){return r=h(r,{ignoreWhitespace:!0}),de.diff(t,e,r)}a(Ne,"diffWords");function he(t,e,r){return de.diff(t,e,r)}a(he,"diffWordsWithSpace");var st=new Qe;st.tokenize=function(t){var e=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function Ot(t,e,r){return st.diff(t,e,r)}a(Ot,"diffLines");function vt(t,e,r){var n=h(r,{ignoreWhitespace:!0});return st.diff(t,e,n)}a(vt,"diffTrimmedLines");var kt=new Qe;kt.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};function nt(t,e,r){return kt.diff(t,e,r)}a(nt,"diffSentences");var Jt=new Qe;Jt.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function ar(t,e,r){return Jt.diff(t,e,r)}a(ar,"diffCss");function Qt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qt=a(function(e){return typeof e},"_typeof"):Qt=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),Qt(t)}a(Qt,"_typeof");function Gt(t){return yr(t)||Ir(t)||bn(t)||Or()}a(Gt,"_toConsumableArray");function yr(t){if(Array.isArray(t))return Xr(t)}a(yr,"_arrayWithoutHoles");function Ir(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}a(Ir,"_iterableToArray");function bn(t,e){if(!!t){if(typeof t=="string")return Xr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xr(t,e)}}a(bn,"_unsupportedIterableToArray");function Xr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}a(Xr,"_arrayLikeToArray");function Or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Or,"_nonIterableSpread");var Ln=Object.prototype.toString,pn=new Qe;pn.useLongestToken=!0,pn.tokenize=st.tokenize,pn.castInput=function(t){var e=this.options,r=e.undefinedReplacement,n=e.stringifyReplacer,i=n===void 0?function(o,s){return typeof s=="undefined"?r:s}:n;return typeof t=="string"?t:JSON.stringify(In(t,null,null,i),i,"  ")},pn.equals=function(t,e){return Qe.prototype.equals.call(pn,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function qn(t,e,r){return pn.diff(t,e,r)}a(qn,"diffJson");function In(t,e,r,n,i){e=e||[],r=r||[],n&&(t=n(i,t));var o;for(o=0;o<e.length;o+=1)if(e[o]===t)return r[o];var s;if(Ln.call(t)==="[object Array]"){for(e.push(t),s=new Array(t.length),r.push(s),o=0;o<t.length;o+=1)s[o]=In(t[o],e,r,n,i);return e.pop(),r.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),Qt(t)==="object"&&t!==null){e.push(t),s={},r.push(s);var l=[],d;for(d in t)t.hasOwnProperty(d)&&l.push(d);for(l.sort(),o=0;o<l.length;o+=1)d=l[o],s[d]=In(t[d],e,r,n,d);e.pop(),r.pop()}else s=t;return s}a(In,"canonicalize");var Tn=new Qe;Tn.tokenize=function(t){return t.slice()},Tn.join=Tn.removeEmpty=function(t){return t};function Mn(t,e,r){return Tn.diff(t,e,r)}a(Mn,"diffArrays");function ce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.split(/\r\n|[\n\v\f\r\x85]/),n=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var u={};for(i.push(u);o<r.length;){var g=r[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(g))break;var F=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(g);F&&(u.index=F[1]),o++}for(l(u),l(u),u.hunks=[];o<r.length;){var A=r[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(A))break;if(/^@@/.test(A))u.hunks.push(d());else{if(A&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(A));o++}}}a(s,"parseIndex");function l(u){var g=/^(---|\+\+\+)\s+(.*)$/.exec(r[o]);if(g){var F=g[1]==="---"?"old":"new",A=g[2].split("	",2),k=A[0].replace(/\\\\/g,"\\");/^".*"$/.test(k)&&(k=k.substr(1,k.length-2)),u[F+"FileName"]=k,u[F+"Header"]=(A[1]||"").trim(),o++}}a(l,"parseFileHeader");function d(){var u=o,g=r[o++],F=g.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),A={oldStart:+F[1],oldLines:typeof F[2]=="undefined"?1:+F[2],newStart:+F[3],newLines:typeof F[4]=="undefined"?1:+F[4],lines:[],linedelimiters:[]};A.oldLines===0&&(A.oldStart+=1),A.newLines===0&&(A.newStart+=1);for(var k=0,oe=0;o<r.length&&!(r[o].indexOf("--- ")===0&&o+2<r.length&&r[o+1].indexOf("+++ ")===0&&r[o+2].indexOf("@@")===0);o++){var pe=r[o].length==0&&o!=r.length-1?" ":r[o][0];if(pe==="+"||pe==="-"||pe===" "||pe==="\\")A.lines.push(r[o]),A.linedelimiters.push(n[o]||`
`),pe==="+"?k++:pe==="-"?oe++:pe===" "&&(k++,oe++);else break}if(!k&&A.newLines===1&&(A.newLines=0),!oe&&A.oldLines===1&&(A.oldLines=0),e.strict){if(k!==A.newLines)throw new Error("Added line count did not match for hunk at line "+(u+1));if(oe!==A.oldLines)throw new Error("Removed line count did not match for hunk at line "+(u+1))}return A}for(a(d,"parseHunk");o<r.length;)s();return i}a(ce,"parsePatch");function Je(t,e,r){var n=!0,i=!1,o=!1,s=1;return a(function l(){if(n&&!o){if(i?s++:n=!1,t+s<=r)return s;o=!0}if(!i)return o||(n=!0),e<=t-s?-s++:(i=!0,l())},"iterator")}a(Je,"distanceIterator");function pt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=ce(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var n=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=e.hunks,s=r.compareLine||function(bi,kn,Si,sa){return kn===sa},l=0,d=r.fuzzFactor||0,u=0,g=0,F,A;function k(bi,kn){for(var Si=0;Si<bi.lines.length;Si++){var sa=bi.lines[Si],il=sa.length>0?sa[0]:" ",Gh=sa.length>0?sa.substr(1):sa;if(il===" "||il==="-"){if(!s(kn+1,n[kn],il,Gh)&&(l++,l>d))return!1;kn++}}return!0}a(k,"hunkFits");for(var oe=0;oe<o.length;oe++){for(var pe=o[oe],Be=n.length-pe.oldLines,Ie=0,Ye=g+pe.oldStart-1,tt=Je(Ye,u,Be);Ie!==void 0;Ie=tt())if(k(pe,Ye+Ie)){pe.offset=g+=Ie;break}if(Ie===void 0)return!1;u=pe.offset+pe.oldStart+pe.oldLines}for(var $e=0,it=0;it<o.length;it++){var xt=o[it],at=xt.oldStart+xt.offset+$e-1;$e+=xt.newLines-xt.oldLines;for(var dt=0;dt<xt.lines.length;dt++){var Pt=xt.lines[dt],rt=Pt.length>0?Pt[0]:" ",Ft=Pt.length>0?Pt.substr(1):Pt,hr=xt.linedelimiters[dt];if(rt===" ")at++;else if(rt==="-")n.splice(at,1),i.splice(at,1);else if(rt==="+")n.splice(at,0,Ft),i.splice(at,0,hr),at++;else if(rt==="\\"){var Qr=xt.lines[dt-1]?xt.lines[dt-1][0]:null;Qr==="+"?F=!0:Qr==="-"&&(A=!0)}}}if(F)for(;!n[n.length-1];)n.pop(),i.pop();else A&&(n.push(""),i.push(`
`));for(var Vr=0;Vr<n.length-1;Vr++)n[Vr]=n[Vr]+i[Vr];return n.join("")}a(pt,"applyPatch");function Ct(t,e){typeof t=="string"&&(t=ce(t));var r=0;function n(){var i=t[r++];if(!i)return e.complete();e.loadFile(i,function(o,s){if(o)return e.complete(o);var l=pt(s,i,e);e.patched(i,l,function(d){if(d)return e.complete(d);n()})})}a(n,"processIndex"),n()}a(Ct,"applyPatches");function Wt(t,e,r,n,i,o,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var l=Ot(r,n,s);l.push({value:"",lines:[]});function d(Ie){return Ie.map(function(Ye){return" "+Ye})}a(d,"contextLines");for(var u=[],g=0,F=0,A=[],k=1,oe=1,pe=a(function(Ye){var tt=l[Ye],$e=tt.lines||tt.value.replace(/\n$/,"").split(`
`);if(tt.lines=$e,tt.added||tt.removed){var it;if(!g){var xt=l[Ye-1];g=k,F=oe,xt&&(A=s.context>0?d(xt.lines.slice(-s.context)):[],g-=A.length,F-=A.length)}(it=A).push.apply(it,Gt($e.map(function(Vr){return(tt.added?"+":"-")+Vr}))),tt.added?oe+=$e.length:k+=$e.length}else{if(g)if($e.length<=s.context*2&&Ye<l.length-2){var at;(at=A).push.apply(at,Gt(d($e)))}else{var dt,Pt=Math.min($e.length,s.context);(dt=A).push.apply(dt,Gt(d($e.slice(0,Pt))));var rt={oldStart:g,oldLines:k-g+Pt,newStart:F,newLines:oe-F+Pt,lines:A};if(Ye>=l.length-2&&$e.length<=s.context){var Ft=/\n$/.test(r),hr=/\n$/.test(n),Qr=$e.length==0&&A.length>rt.oldLines;!Ft&&Qr&&r.length>0&&A.splice(rt.oldLines,0,"\\ No newline at end of file"),(!Ft&&!Qr||!hr)&&A.push("\\ No newline at end of file")}u.push(rt),g=0,F=0,A=[]}k+=$e.length,oe+=$e.length}},"_loop"),Be=0;Be<l.length;Be++)pe(Be);return{oldFileName:t,newFileName:e,oldHeader:i,newHeader:o,hunks:u}}a(Wt,"structuredPatch");function Ut(t){var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(typeof t.oldHeader=="undefined"?"":"	"+t.oldHeader)),e.push("+++ "+t.newFileName+(typeof t.newHeader=="undefined"?"":"	"+t.newHeader));for(var r=0;r<t.hunks.length;r++){var n=t.hunks[r];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),e.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),e.push.apply(e,n.lines)}return e.join(`
`)+`
`}a(Ut,"formatPatch");function Pr(t,e,r,n,i,o,s){return Ut(Wt(t,e,r,n,i,o,s))}a(Pr,"createTwoFilesPatch");function Nr(t,e,r,n,i,o){return Pr(t,t,e,r,n,i,o)}a(Nr,"createPatch");function Tt(t,e){return t.length!==e.length?!1:Rt(t,e)}a(Tt,"arrayEqual");function Rt(t,e){if(e.length>t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}a(Rt,"arrayStartsWith");function $t(t){var e=Kt(t.lines),r=e.oldLines,n=e.newLines;r!==void 0?t.oldLines=r:delete t.oldLines,n!==void 0?t.newLines=n:delete t.newLines}a($t,"calcLineCount");function _t(t,e,r){t=Xt(t,r),e=Xt(e,r);var n={};(t.index||e.index)&&(n.index=t.index||e.index),(t.newFileName||e.newFileName)&&(zt(t)?zt(e)?(n.oldFileName=Et(n,t.oldFileName,e.oldFileName),n.newFileName=Et(n,t.newFileName,e.newFileName),n.oldHeader=Et(n,t.oldHeader,e.oldHeader),n.newHeader=Et(n,t.newHeader,e.newHeader)):(n.oldFileName=t.oldFileName,n.newFileName=t.newFileName,n.oldHeader=t.oldHeader,n.newHeader=t.newHeader):(n.oldFileName=e.oldFileName||t.oldFileName,n.newFileName=e.newFileName||t.newFileName,n.oldHeader=e.oldHeader||t.oldHeader,n.newHeader=e.newHeader||t.newHeader)),n.hunks=[];for(var i=0,o=0,s=0,l=0;i<t.hunks.length||o<e.hunks.length;){var d=t.hunks[i]||{oldStart:1/0},u=e.hunks[o]||{oldStart:1/0};if(tr(d,u))n.hunks.push(or(d,s)),i++,l+=d.newLines-d.oldLines;else if(tr(u,d))n.hunks.push(or(u,l)),o++,s+=u.newLines-u.oldLines;else{var g={oldStart:Math.min(d.oldStart,u.oldStart),oldLines:0,newStart:Math.min(d.newStart+s,u.oldStart+l),newLines:0,lines:[]};_r(g,d.oldStart,d.lines,u.oldStart,u.lines),o++,i++,n.hunks.push(g)}}return n}a(_t,"merge");function Xt(t,e){if(typeof t=="string"){if(/^@@/m.test(t)||/^Index:/m.test(t))return ce(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return Wt(void 0,void 0,e,t)}return t}a(Xt,"loadPatch");function zt(t){return t.newFileName&&t.newFileName!==t.oldFileName}a(zt,"fileNameChanged");function Et(t,e,r){return e===r?e:(t.conflict=!0,{mine:e,theirs:r})}a(Et,"selectField");function tr(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}a(tr,"hunkBefore");function or(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}a(or,"cloneHunk");function _r(t,e,r,n,i){var o={offset:e,lines:r,index:0},s={offset:n,lines:i,index:0};for(Fr(t,o,s),Fr(t,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var l=o.lines[o.index],d=s.lines[s.index];if((l[0]==="-"||l[0]==="+")&&(d[0]==="-"||d[0]==="+"))gr(t,o,s);else if(l[0]==="+"&&d[0]===" "){var u;(u=t.lines).push.apply(u,Gt(Lt(o)))}else if(d[0]==="+"&&l[0]===" "){var g;(g=t.lines).push.apply(g,Gt(Lt(s)))}else l[0]==="-"&&d[0]===" "?$r(t,o,s):d[0]==="-"&&l[0]===" "?$r(t,s,o,!0):l===d?(t.lines.push(l),o.index++,s.index++):xr(t,Lt(o),Lt(s))}fr(t,o),fr(t,s),$t(t)}a(_r,"mergeLines");function gr(t,e,r){var n=Lt(e),i=Lt(r);if(er(n)&&er(i)){if(Rt(n,i)&&Er(r,n,n.length-i.length)){var o;(o=t.lines).push.apply(o,Gt(n));return}else if(Rt(i,n)&&Er(e,i,i.length-n.length)){var s;(s=t.lines).push.apply(s,Gt(i));return}}else if(Tt(n,i)){var l;(l=t.lines).push.apply(l,Gt(n));return}xr(t,n,i)}a(gr,"mutualChange");function $r(t,e,r,n){var i=Lt(e),o=rr(r,i);if(o.merged){var s;(s=t.lines).push.apply(s,Gt(o.merged))}else xr(t,n?o:i,n?i:o)}a($r,"removal");function xr(t,e,r){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:r})}a(xr,"conflict");function Fr(t,e,r){for(;e.offset<r.offset&&e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n),e.offset++}}a(Fr,"insertLeading");function fr(t,e){for(;e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r)}}a(fr,"insertTrailing");function Lt(t){for(var e=[],r=t.lines[t.index][0];t.index<t.lines.length;){var n=t.lines[t.index];if(r==="-"&&n[0]==="+"&&(r="+"),r===n[0])e.push(n),t.index++;else break}return e}a(Lt,"collectChange");function rr(t,e){for(var r=[],n=[],i=0,o=!1,s=!1;i<e.length&&t.index<t.lines.length;){var l=t.lines[t.index],d=e[i];if(d[0]==="+")break;if(o=o||l[0]!==" ",n.push(d),i++,l[0]==="+")for(s=!0;l[0]==="+";)r.push(l),l=t.lines[++t.index];d.substr(1)===l.substr(1)?(r.push(l),t.index++):s=!0}if((e[i]||"")[0]==="+"&&o&&(s=!0),s)return r;for(;i<e.length;)n.push(e[i++]);return{merged:n,changes:r}}a(rr,"collectContext");function er(t){return t.reduce(function(e,r){return e&&r[0]==="-"},!0)}a(er,"allRemoves");function Er(t,e,r){for(var n=0;n<r;n++){var i=e[e.length-r+n].substr(1);if(t.lines[t.index+n]!==" "+i)return!1}return t.index+=r,!0}a(Er,"skipRemoveSuperset");function Kt(t){var e=0,r=0;return t.forEach(function(n){if(typeof n!="string"){var i=Kt(n.mine),o=Kt(n.theirs);e!==void 0&&(i.oldLines===o.oldLines?e+=i.oldLines:e=void 0),r!==void 0&&(i.newLines===o.newLines?r+=i.newLines:r=void 0)}else r!==void 0&&(n[0]==="+"||n[0]===" ")&&r++,e!==void 0&&(n[0]==="-"||n[0]===" ")&&e++}),{oldLines:e,newLines:r}}a(Kt,"calcOldNewLineCount");function ur(t){for(var e=[],r,n,i=0;i<t.length;i++)r=t[i],r.added?n=1:r.removed?n=-1:n=0,e.push([n,r.value]);return e}a(ur,"convertChangesToDMP");function wr(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n.added?e.push("<ins>"):n.removed&&e.push("<del>"),e.push(Dr(n.value)),n.added?e.push("</ins>"):n.removed&&e.push("</del>")}return e.join("")}a(wr,"convertChangesToXML");function Dr(t){var e=t;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(Dr,"escapeHTML");var nr=/[^a-zA-Z0-9]/,Ar=/\s/,Br=/[\r\n]/,Rr=/\n\r?\n$/,Hr=/^\r?\n\r?\n/,Xe;(function(t){t[t.DIFF_DELETE=-1]="DIFF_DELETE",t[t.DIFF_INSERT=1]="DIFF_INSERT",t[t.DIFF_EQUAL=0]="DIFF_EQUAL"})(Xe||(Xe={}));function kr(t,e){return t<e?t:e}a(kr,"min");function Yt(t,e){return t>e?t:e}a(Yt,"max");var Nt=fe,Lr=function(){function t(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(t,"PatchObject"),t.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2===1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+r+` @@
`],i,o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case Xe.DIFF_INSERT:i="+";break;case Xe.DIFF_DELETE:i="-";break;case Xe.DIFF_EQUAL:i=" ";break}n[o+1]=i+encodeURI(this.diffs[o][1])+`
`}return n.join("").replace(/%20/g," ")},t}(),Sn=function(){function t(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(t,"DiffMatchPatch"),t.prototype.diff_main=function(e,r,n,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var o=i;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e===r)return e?[[Xe.DIFF_EQUAL,e]]:[];typeof n=="undefined"&&(n=!0);var s=n,l=this.diff_commonPrefix(e,r),d=e.substring(0,l);e=e.substring(l),r=r.substring(l),l=this.diff_commonSuffix(e,r);var u=e.substring(e.length-l);e=e.substring(0,e.length-l),r=r.substring(0,r.length-l);var g=this.diff_compute_(e,r,s,o);return d&&g.unshift([Xe.DIFF_EQUAL,d]),u&&g.push([Xe.DIFF_EQUAL,u]),this.diff_cleanupMerge(g),g},t.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!==r.charAt(0))return 0;for(var n=0,i=Nt.min(e.length,r.length),o=i,s=0;n<o;)e.substring(s,o)===r.substring(s,o)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},t.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!==r.charAt(r.length-1))return 0;for(var n=0,i=Nt.min(e.length,r.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)===r.substring(r.length-o,r.length-s)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,n=[],i=0,o=null,s=0,l=0,d=0,u=0,g=0;s<e.length;)e[s][0]===Xe.DIFF_EQUAL?(n[i++]=s,l=u,d=g,u=0,g=0,o=e[s][1]):(e[s][0]===Xe.DIFF_INSERT?u+=e[s][1].length:g+=e[s][1].length,o&&o.length<=Nt.max(l,d)&&o.length<=Nt.max(u,g)&&(e.splice(n[i-1],0,[Xe.DIFF_DELETE,o]),e[n[i-1]+1][0]=Xe.DIFF_INSERT,i--,i--,s=i>0?n[i-1]:-1,l=0,d=0,u=0,g=0,o=null,r=!0)),s++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]===Xe.DIFF_DELETE&&e[s][0]===Xe.DIFF_INSERT){var F=e[s-1][1],A=e[s][1],k=this.diff_commonOverlap_(F,A),oe=this.diff_commonOverlap_(A,F);k>=oe?(k>=F.length/2||k>=A.length/2)&&(e.splice(s,0,[Xe.DIFF_EQUAL,A.substring(0,k)]),e[s-1][1]=F.substring(0,F.length-k),e[s+1][1]=A.substring(k),s++):(oe>=F.length/2||oe>=A.length/2)&&(e.splice(s,0,[Xe.DIFF_EQUAL,F.substring(0,oe)]),e[s-1][0]=Xe.DIFF_INSERT,e[s-1][1]=A.substring(0,A.length-oe),e[s+1][0]=Xe.DIFF_DELETE,e[s+1][1]=F.substring(oe),s++),s++}s++}},t.prototype.diff_cleanupSemanticLossless=function(e){for(var r=1;r<e.length-1;){if(e[r-1][0]===Xe.DIFF_EQUAL&&e[r+1][0]===Xe.DIFF_EQUAL){var n=e[r-1][1],i=e[r][1],o=e[r+1][1],s=this.diff_commonSuffix(n,i);if(s){var l=i.substring(i.length-s);n=n.substring(0,n.length-s),i=l+i.substring(0,i.length-s),o=l+o}for(var d=n,u=i,g=o,F=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var A=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);A>=F&&(F=A,d=n,u=i,g=o)}e[r-1][1]!==d&&(d?e[r-1][1]=d:(e.splice(r-1,1),r--),e[r][1]=u,g?e[r+1][1]=g:(e.splice(r+1,1),r--))}r++}},t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,n=[],i=0,o=null,s=0,l=!1,d=!1,u=!1,g=!1;s<e.length;)e[s][0]===Xe.DIFF_EQUAL?(e[s][1].length<this.diffEditCost&&(u||g)?(n[i++]=s,l=u,d=g,o=e[s][1]):(i=0,o=null),u=g=!1):(e[s][0]===Xe.DIFF_DELETE?g=!0:u=!0,o&&(l&&d&&u&&g||o.length<this.diffEditCost/2&&Number(l)+Number(d)+Number(u)+Number(g)===3)&&(e.splice(n[i-1],0,[Xe.DIFF_DELETE,o]),e[n[i-1]+1][0]=Xe.DIFF_INSERT,i--,o=null,l&&d?(u=g=!0,i=0):(i--,s=i>0?n[i-1]:-1,u=g=!1),r=!0)),s++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([Xe.DIFF_EQUAL,""]);for(var r=0,n=0,i=0,o="",s="",l;r<e.length;)switch(e[r][0]){case Xe.DIFF_INSERT:i++,s+=e[r][1],r++;break;case Xe.DIFF_DELETE:n++,o+=e[r][1],r++;break;case Xe.DIFF_EQUAL:n+i>1?(n!==0&&i!==0&&(l=this.diff_commonPrefix(s,o),l!==0&&(r-n-i>0&&e[r-n-i-1][0]===Xe.DIFF_EQUAL?e[r-n-i-1][1]+=s.substring(0,l):(e.splice(0,0,[Xe.DIFF_EQUAL,s.substring(0,l)]),r++),s=s.substring(l),o=o.substring(l)),l=this.diff_commonSuffix(s,o),l!==0&&(e[r][1]=s.substring(s.length-l)+e[r][1],s=s.substring(0,s.length-l),o=o.substring(0,o.length-l))),r-=n+i,e.splice(r,n+i),o.length&&(e.splice(r,0,[Xe.DIFF_DELETE,o]),r++),s.length&&(e.splice(r,0,[Xe.DIFF_INSERT,s]),r++),r++):r!==0&&e[r-1][0]===Xe.DIFF_EQUAL?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,o="",s="";break}e[e.length-1][1]===""&&e.pop();var d=!1;for(r=1;r<e.length-1;)e[r-1][0]===Xe.DIFF_EQUAL&&e[r+1][0]===Xe.DIFF_EQUAL&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)===e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,r){var n=0,i=0,o=0,s=0,l;for(l=0;l<e.length&&(e[l][0]!==Xe.DIFF_INSERT&&(n+=e[l][1].length),e[l][0]!==Xe.DIFF_DELETE&&(i+=e[l][1].length),!(n>r));l++)o=n,s=i;return e.length!==l&&e[l][0]===Xe.DIFF_DELETE?s:s+(r-o)},t.prototype.diff_prettyHtml=function(e){for(var r=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,l=0;l<e.length;l++){var d=e[l][0],u=e[l][1],g=u.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(d){case Xe.DIFF_INSERT:r[l]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case Xe.DIFF_DELETE:r[l]='<del style="background:#ffe6e6;">'+g+"</del>";break;case Xe.DIFF_EQUAL:r[l]="<span>"+g+"</span>";break}}return r.join("")},t.prototype.diff_text1=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==Xe.DIFF_INSERT&&(r[n]=e[n][1]);return r.join("")},t.prototype.diff_text2=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==Xe.DIFF_DELETE&&(r[n]=e[n][1]);return r.join("")},t.prototype.diff_levenshtein=function(e){for(var r=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],l=e[o][1];switch(s){case Xe.DIFF_INSERT:n+=l.length;break;case Xe.DIFF_DELETE:i+=l.length;break;case Xe.DIFF_EQUAL:r+=Nt.max(n,i),n=0,i=0;break}}return r+=Nt.max(n,i),r},t.prototype.diff_toDelta=function(e){for(var r=[],n=0;n<e.length;n++)switch(e[n][0]){case Xe.DIFF_INSERT:r[n]="+"+encodeURI(e[n][1]);break;case Xe.DIFF_DELETE:r[n]="-"+e[n][1].length;break;case Xe.DIFF_EQUAL:r[n]="="+e[n][1].length;break}return r.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var n=[],i=0,o=0,s=r.split(/\t/g),l=0;l<s.length;l++){var d=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{n[i++]=[Xe.DIFF_INSERT,decodeURI(d)]}catch(F){throw new Error("Illegal escape in diff_fromDelta: "+d)}break;case"-":case"=":var u=parseInt(d,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+d);var g=e.substring(o,o+=u);s[l].charAt(0)==="="?n[i++]=[Xe.DIFF_EQUAL,g]:n[i++]=[Xe.DIFF_DELETE,g];break;default:if(s[l])throw new Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(o!==e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+")");return n},t.prototype.diff_linesToChars=function(e,r){var n=[],i={};n[0]="";var o=this.diff_linesToCharsMunge_(e,n,i,4e4),s=this.diff_linesToCharsMunge_(r,n,i,65535);return{chars1:o,chars2:s,lineArray:n}},t.prototype.diff_charsToLines=function(e,r){for(var n=0;n<e.length;n++){for(var i=e[n][1],o=[],s=0;s<i.length;s++)o[s]=r[i.charCodeAt(s)];e[n][1]=o.join("")}},t.prototype.match_main=function(e,r,n){if(e==null||r==null||n==null)throw new Error("Null input. (match_main)");return n=Nt.max(0,Nt.min(n,e.length)),e===r?0:e.length?e.substring(n,n+r.length)===r?n:this.match_bitap_(e,r,n):-1},t.prototype.patch_make=function(e,r,n){var i,o;if(typeof e=="string"&&typeof r=="string"&&typeof n=="undefined")i=e,o=this.diff_main(i,r,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&typeof e=="object"&&typeof r=="undefined"&&typeof n=="undefined")o=e,i=this.diff_text1(o);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof n=="undefined")i=e,o=r;else if(typeof e=="string"&&typeof r=="string"&&n&&typeof n=="object")i=e,o=n;else throw new Error("Unknown call format to patch_make");if(o.length===0)return[];for(var s=[],l=new Lr,d=0,u=0,g=0,F=i,A=i,k=0;k<o.length;k++){var oe=o[k][0],pe=o[k][1];switch(!d&&oe!==Xe.DIFF_EQUAL&&(l.start1=u,l.start2=g),oe){case Xe.DIFF_INSERT:l.diffs[d++]=o[k],l.length2+=pe.length,A=A.substring(0,g)+pe+A.substring(g);break;case Xe.DIFF_DELETE:l.length1+=pe.length,l.diffs[d++]=o[k],A=A.substring(0,g)+A.substring(g+pe.length);break;case Xe.DIFF_EQUAL:pe.length<=2*this.patchMargin&&d&&o.length!==k+1?(l.diffs[d++]=o[k],l.length1+=pe.length,l.length2+=pe.length):pe.length>=2*this.patchMargin&&d&&(this.patch_addContext_(l,F),s.push(l),l=new Lr,d=0,F=A,u=g);break}oe!==Xe.DIFF_INSERT&&(u+=pe.length),oe!==Xe.DIFF_DELETE&&(g+=pe.length)}return d&&(this.patch_addContext_(l,F),s.push(l)),s},t.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){for(var i=e[n],o=new Lr,s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,r[n]=o}return r},t.prototype.patch_apply=function(e,r){if(e.length===0)return[r,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);r=n+r+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var l=e[s].start2+i,d=this.diff_text1(e[s].diffs),u=void 0,g=-1;if(d.length>this.matchMaxBits?(u=this.match_main(r,d.substring(0,this.matchMaxBits),l),u!==-1&&(g=this.match_main(r,d.substring(d.length-this.matchMaxBits),l+d.length-this.matchMaxBits),(g===-1||u>=g)&&(u=-1))):u=this.match_main(r,d,l),u===-1)o[s]=!1,i-=e[s].length2-e[s].length1;else{o[s]=!0,i=u-l;var F=void 0;if(g===-1?F=r.substring(u,u+d.length):F=r.substring(u,g+this.matchMaxBits),d===F)r=r.substring(0,u)+this.diff_text2(e[s].diffs)+r.substring(u+d.length);else{var A=this.diff_main(d,F,!1);if(d.length>this.matchMaxBits&&this.diff_levenshtein(A)/d.length>this.patchDeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(A);for(var k=0,oe=0,pe=0;pe<e[s].diffs.length;pe++){var Be=e[s].diffs[pe];Be[0]!==Xe.DIFF_EQUAL&&(oe=this.diff_xIndex(A,k)),Be[0]===Xe.DIFF_INSERT?r=r.substring(0,u+oe)+Be[1]+r.substring(u+oe):Be[0]===Xe.DIFF_DELETE&&(r=r.substring(0,u+oe)+r.substring(u+this.diff_xIndex(A,k+Be[1].length))),Be[0]!==Xe.DIFF_DELETE&&(k+=Be[1].length)}}}}}return r=r.substring(n.length,r.length-n.length),[r,o]},t.prototype.patch_addPadding=function(e){for(var r=this.patchMargin,n="",i=1;i<=r;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=r,e[i].start2+=r;var o=e[0],s=o.diffs;if(s.length===0||s[0][0]!==Xe.DIFF_EQUAL)s.unshift([Xe.DIFF_EQUAL,n]),o.start1-=r,o.start2-=r,o.length1+=r,o.length2+=r;else if(r>s[0][1].length){var l=r-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=l,o.start2-=l,o.length1+=l,o.length2+=l}if(o=e[e.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==Xe.DIFF_EQUAL)s.push([Xe.DIFF_EQUAL,n]),o.length1+=r,o.length2+=r;else if(r>s[s.length-1][1].length){var l=r-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,l),o.length1+=l,o.length2+=l}return n},t.prototype.patch_splitMax=function(e){for(var r=this.matchMaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=r)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,l="";i.diffs.length!==0;){var d=new Lr,u=!0;for(d.start1=o-l.length,d.start2=s-l.length,l!==""&&(d.length1=d.length2=l.length,d.diffs.push([Xe.DIFF_EQUAL,l]));i.diffs.length!==0&&d.length1<r-this.patchMargin;){var g=i.diffs[0][0],F=i.diffs[0][1];g===Xe.DIFF_INSERT?(d.length2+=F.length,s+=F.length,d.diffs.push(i.diffs.shift()),u=!1):g===Xe.DIFF_DELETE&&d.diffs.length===1&&d.diffs[0][0]===Xe.DIFF_EQUAL&&F.length>2*r?(d.length1+=F.length,o+=F.length,u=!1,d.diffs.push([g,F]),i.diffs.shift()):(F=F.substring(0,r-d.length1-this.patchMargin),d.length1+=F.length,o+=F.length,g===Xe.DIFF_EQUAL?(d.length2+=F.length,s+=F.length):u=!1,d.diffs.push([g,F]),F===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(F.length))}l=this.diff_text2(d.diffs),l=l.substring(l.length-this.patchMargin);var A=this.diff_text1(i.diffs).substring(0,this.patchMargin);A!==""&&(d.length1+=A.length,d.length2+=A.length,d.diffs.length!==0&&d.diffs[d.diffs.length-1][0]===Xe.DIFF_EQUAL?d.diffs[d.diffs.length-1][1]+=A:d.diffs.push([Xe.DIFF_EQUAL,A])),u||e.splice(++n,0,d)}}},t.prototype.patch_toText=function(e){for(var r=[],n=0;n<e.length;n++)r[n]=e[n];return r.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var n=e.split(`
`),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var l=new Lr;r.push(l),l.start1=parseInt(s[1],10),s[2]===""?(l.start1--,l.length1=1):s[2]==="0"?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),s[4]===""?(l.start2--,l.length2=1):s[4]==="0"?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),i++;for(var d=void 0,u=void 0,g=void 0;i<n.length;){d=n[i].charAt(0),g=n[i].substring(1);try{u=decodeURI(g)}catch(F){throw new Error("Illegal escape in patch_fromText: "+g)}if(d==="-")l.diffs.push([Xe.DIFF_DELETE,u]);else if(d==="+")l.diffs.push([Xe.DIFF_INSERT,u]);else if(d===" ")l.diffs.push([Xe.DIFF_EQUAL,u]);else{if(d==="@")break;if(d!=="")throw new Error('Invalid patch mode "'+d+'" in: '+u)}i++}}return r},t.prototype.diff_compute_=function(e,r,n,i){var o;if(!e)return[[Xe.DIFF_INSERT,r]];if(!r)return[[Xe.DIFF_DELETE,e]];var s=e.length>r.length?e:r,l=e.length>r.length?r:e,d=s.indexOf(l);if(d!==-1)return o=[[Xe.DIFF_INSERT,s.substring(0,d)],[Xe.DIFF_EQUAL,l],[Xe.DIFF_INSERT,s.substring(d+l.length)]],e.length>r.length&&(o[0][0]=Xe.DIFF_DELETE,o[2][0]=Xe.DIFF_DELETE),o;if(l.length===1)return[[Xe.DIFF_DELETE,e],[Xe.DIFF_INSERT,r]];var u=this.diff_halfMatch_(e,r);if(u){var g=u[0],F=u[1],A=u[2],k=u[3],oe=u[4],pe=this.diff_main(g,A,n,i),Be=this.diff_main(F,k,n,i);return pe.concat([[Xe.DIFF_EQUAL,oe]],Be)}return n&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,i):this.diff_bisect_(e,r,i)},t.prototype.diff_lineMode_=function(e,r,n){var i=this.diff_linesToChars(e,r);e=i.chars1,r=i.chars2;var o=i.lineArray,s=this.diff_main(e,r,!1,n);this.diff_charsToLines(s,o),this.diff_cleanupSemantic(s),s.push([Xe.DIFF_EQUAL,""]);for(var l=0,d=0,u=0,g="",F="";l<s.length;){switch(s[l][0]){case Xe.DIFF_INSERT:u++,F+=s[l][1];break;case Xe.DIFF_DELETE:d++,g+=s[l][1];break;case Xe.DIFF_EQUAL:if(d>=1&&u>=1){s.splice(l-d-u,d+u),l=l-d-u;for(var A=this.diff_main(g,F,!1,n),k=A.length-1;k>=0;k--)s.splice(l,0,A[k]);l=l+A.length}u=0,d=0,g="",F="";break}l++}return s.pop(),s},t.prototype.diff_bisect_=function(e,r,n){for(var i=e.length,o=r.length,s=Math.ceil((i+o)/2),l=s,d=2*s,u=new Array(d),g=new Array(d),F=0;F<d;F++)u[F]=-1,g[F]=-1;u[l+1]=0,g[l+1]=0;for(var A=i-o,k=A%2!=0,oe=0,pe=0,Be=0,Ie=0,Ye=0;Ye<s&&!(Date.now()>n);Ye++){for(var tt=-Ye+oe;tt<=Ye-pe;tt+=2){var $e=l+tt,it=void 0;tt===-Ye||tt!==Ye&&u[$e-1]<u[$e+1]?it=u[$e+1]:it=u[$e-1]+1;for(var xt=it-tt;it<i&&xt<o&&e.charAt(it)===r.charAt(xt);)it++,xt++;if(u[$e]=it,it>i)pe+=2;else if(xt>o)oe+=2;else if(k){var at=l+A-tt;if(at>=0&&at<d&&g[at]!==-1){var dt=i-g[at];if(it>=dt)return this.diff_bisectSplit_(e,r,it,xt,n)}}}for(var Pt=-Ye+Be;Pt<=Ye-Ie;Pt+=2){var at=l+Pt,dt=void 0;Pt===-Ye||Pt!==Ye&&g[at-1]<g[at+1]?dt=g[at+1]:dt=g[at-1]+1;for(var rt=dt-Pt;dt<i&&rt<o&&e.charAt(i-dt-1)===r.charAt(o-rt-1);)dt++,rt++;if(g[at]=dt,dt>i)Ie+=2;else if(rt>o)Be+=2;else if(!k){var $e=l+A-Pt;if($e>=0&&$e<d&&u[$e]!==-1){var it=u[$e],xt=l+it-$e;if(dt=i-dt,it>=dt)return this.diff_bisectSplit_(e,r,it,xt,n)}}}}return[[Xe.DIFF_DELETE,e],[Xe.DIFF_INSERT,r]]},t.prototype.diff_bisectSplit_=function(e,r,n,i,o){var s=e.substring(0,n),l=r.substring(0,i),d=e.substring(n),u=r.substring(i),g=this.diff_main(s,l,!1,o),F=this.diff_main(d,u,!1,o);return g.concat(F)},t.prototype.diff_linesToCharsMunge_=function(e,r,n,i){for(var o="",s=0,l=-1,d=r.length;l<e.length-1;){l=e.indexOf(`
`,s),l===-1&&(l=e.length-1);var u=e.substring(s,l+1);(n.hasOwnProperty?n.hasOwnProperty(u):n[u]!==void 0)?o+=String.fromCharCode(n[u]):(d===i&&(u=e.substring(s),l=e.length),o+=String.fromCharCode(d),n[u]=d,r[d++]=u),s=l+1}return o},t.prototype.diff_commonOverlap_=function(e,r){var n=e.length,i=r.length;if(n===0||i===0)return 0;n>i?e=e.substring(n-i):n<i&&(r=r.substring(0,n));var o=Nt.min(n,i);if(e===r)return o;for(var s=0,l=1;;){var d=e.substring(o-l),u=r.indexOf(d);if(u===-1)return s;l+=u,(u===0||e.substring(o-l)===r.substring(0,l))&&(s=l,l++)}},t.prototype.diff_halfMatch_=function(e,r){if(this.diffTimeout<=0)return null;var n=e.length>r.length?e:r,i=e.length>r.length?r:e;if(n.length<4||i.length*2<n.length)return null;var o=this.diff_halfMatchI_(n,i,Math.ceil(n.length/4)),s=this.diff_halfMatchI_(n,i,Math.ceil(n.length/2)),l;if(!o&&!s)return null;s?o?l=o[4].length>s[4].length?o:s:l=s:l=o;var d,u,g,F,A=l[4];return e.length>r.length?(d=l[0],u=l[1],g=l[2],F=l[3]):(g=l[0],F=l[1],d=l[2],u=l[3]),[d,u,g,F,A]},t.prototype.diff_halfMatchI_=function(e,r,n){for(var i=e.substring(n,n+Math.floor(e.length/4)),o="",s,l,d,u,g=r.indexOf(i,0);g!==-1;){var F=this.diff_commonPrefix(e.substring(n),r.substring(g)),A=this.diff_commonSuffix(e.substring(0,n),r.substring(0,g));o.length<A+F&&(o=r.substring(g-A,g)+r.substring(g,g+F),s=e.substring(0,n-A),l=e.substring(n+F),d=r.substring(0,g-A),u=r.substring(g+F)),g=r.indexOf(i,g+1)}return o.length*2>=e.length?[s,l,d,u,o]:null},t.prototype.diff_cleanupSemanticScore_=function(e,r){if(!e||!r)return 6;var n=e.charAt(e.length-1),i=r.charAt(0),o=n.match(nr),s=i.match(nr),l=o&&n.match(Ar),d=s&&i.match(Ar),u=l&&n.match(Br),g=d&&i.match(Br),F=u&&e.match(Rr),A=g&&r.match(Hr);return F||A?5:u||g?4:o&&!l&&d?3:l||d?2:o||s?1:0},t.prototype.match_bitap_=function(e,r,n){if(r.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(r),o=this.matchThreshold,s=e.indexOf(r,n);s!==-1&&(o=Nt.min(this.match_bitapScore_(0,s,r,n),o),s=e.lastIndexOf(r,n+r.length),s!==-1&&(o=Nt.min(this.match_bitapScore_(0,s,r,n),o)));var l=1<<r.length-1;s=-1;for(var d,u,g=r.length+e.length,F,A=0;A<r.length;A++){for(d=0,u=g;d<u;)this.match_bitapScore_(A,n+u,r,n)<=o?d=u:g=u,u=Math.floor((g-d)/2+d);g=u;var k=Nt.max(1,n-u+1),oe=Nt.min(n+u,e.length)+r.length,pe=Array(oe+2);pe[oe+1]=(1<<A)-1;for(var Be=oe;Be>=k;Be--){var Ie=i[e.charAt(Be-1)];if(A===0?pe[Be]=(pe[Be+1]<<1|1)&Ie:pe[Be]=(pe[Be+1]<<1|1)&Ie|((F[Be+1]|F[Be])<<1|1)|F[Be+1],pe[Be]&l){var Ye=this.match_bitapScore_(A,Be-1,r,n);if(Ye<=o)if(o=Ye,s=Be-1,s>n)k=Nt.max(1,2*n-s);else break}}if(this.match_bitapScore_(A+1,n,r,n)>o)break;F=pe}return s},t.prototype.match_bitapScore_=function(e,r,n,i){var o=e/n.length,s=Math.abs(i-r);return this.matchDistance?o+s/this.matchDistance:s?1:o},t.prototype.match_alphabet_=function(e){for(var r={},n=0;n<e.length;n++)r[e.charAt(n)]=0;for(var n=0;n<e.length;n++)r[e.charAt(n)]|=1<<e.length-n-1;return r},t.prototype.patch_addContext_=function(e,r){if(r.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var n=r.substring(e.start2,e.start2+e.length1),i=0;r.indexOf(n)!==r.lastIndexOf(n)&&n.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,n=r.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var o=r.substring(e.start2-i,e.start2);o&&e.diffs.unshift([Xe.DIFF_EQUAL,o]);var s=r.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push([Xe.DIFF_EQUAL,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t}();function Wr(t,e){let r={};for(let o=0;o<e.length;o++){const s=e[o];r[s]?r[s].push(o):r[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<t.length;o++){const s=t[o],l=r[s]||[];let d=0,u=i[0];for(let g=0;g<l.length;g++){const F=l[g];let A;for(A=d;A<i.length&&!(i[A].buffer2index<F&&(A===i.length-1||i[A+1].buffer2index>F));A++);if(A<i.length){const k={buffer1index:o,buffer2index:F,chain:i[A]};if(d===i.length?i.push(u):i[d]=u,d=A+1,u=k,d===i.length)break}}i[d]=u}return i[i.length-1]}a(Wr,"LCS");function tn(t,e){const r=Wr(t,e);let n=[],i=t.length,o=e.length,s={common:[]};function l(){s.common.length&&(s.common.reverse(),n.push(s),s={common:[]})}a(l,"processCommon");for(let d=r;d!==null;d=d.chain){let u={buffer1:[],buffer2:[]};for(;--i>d.buffer1index;)u.buffer1.push(t[i]);for(;--o>d.buffer2index;)u.buffer2.push(e[o]);(u.buffer1.length||u.buffer2.length)&&(l(),u.buffer1.reverse(),u.buffer2.reverse(),n.push(u)),i>=0&&s.common.push(t[i])}return l(),n.reverse(),n}a(tn,"diffComm");function zr(t,e){const r=Wr(t,e);let n=[],i=t.length,o=e.length;for(let s=r;s!==null;s=s.chain){const l=i-s.buffer1index-1,d=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(l||d)&&n.push({buffer1:[i+1,l],buffer1Content:t.slice(i+1,i+1+l),buffer2:[o+1,d],buffer2Content:e.slice(o+1,o+1+d)})}return n.reverse(),n}a(zr,"diffIndices");function Bn(t,e){const r=Wr(t,e);let n=[],i=t.length,o=e.length;function s(l,d,u){let g=[];for(let F=0;F<u;F++)g.push(l[d+F]);return{offset:d,length:u,chunk:g}}a(s,"chunkDescription");for(let l=r;l!==null;l=l.chain){const d=i-l.buffer1index-1,u=o-l.buffer2index-1;i=l.buffer1index,o=l.buffer2index,(d||u)&&n.push({buffer1:s(t,l.buffer1index+1,d),buffer2:s(e,l.buffer2index+1,u)})}return n.reverse(),n}a(Bn,"diffPatch");function rn(t,e,r){let n=[];function i(d,u){n.push({ab:u,oStart:d.buffer1[0],oLength:d.buffer1[1],abStart:d.buffer2[0],abLength:d.buffer2[1]})}a(i,"addHunk"),zr(e,t).forEach(d=>i(d,"a")),zr(e,r).forEach(d=>i(d,"b")),n.sort((d,u)=>d.oStart-u.oStart);let o=[],s=0;function l(d){d>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:d-s,bufferContent:e.slice(s,d)}),s=d)}for(a(l,"advanceTo");n.length;){let d=n.shift(),u=d.oStart,g=d.oStart+d.oLength,F=[d];for(l(u);n.length;){const A=n[0],k=A.oStart;if(k>g)break;g=Math.max(g,k+A.oLength),F.push(n.shift())}if(F.length===1){if(d.abLength>0){const A=d.ab==="a"?t:r;o.push({stable:!0,buffer:d.ab,bufferStart:d.abStart,bufferLength:d.abLength,bufferContent:A.slice(d.abStart,d.abStart+d.abLength)})}}else{let A={a:[t.length,-1,e.length,-1],b:[r.length,-1,e.length,-1]};for(;F.length;){d=F.shift();const Ye=d.oStart,tt=Ye+d.oLength,$e=d.abStart,it=$e+d.abLength;let xt=A[d.ab];xt[0]=Math.min($e,xt[0]),xt[1]=Math.max(it,xt[1]),xt[2]=Math.min(Ye,xt[2]),xt[3]=Math.max(tt,xt[3])}const k=A.a[0]+(u-A.a[2]),oe=A.a[1]+(g-A.a[3]),pe=A.b[0]+(u-A.b[2]),Be=A.b[1]+(g-A.b[3]);let Ie={stable:!1,aStart:k,aLength:oe-k,aContent:t.slice(k,oe),oStart:u,oLength:g-u,oContent:e.slice(u,g),bStart:pe,bLength:Be-pe,bContent:r.slice(pe,Be)};o.push(Ie)}s=g}return l(e.length),o}a(rn,"diff3MergeRegions");function Ur(t,e,r,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=typeof t=="string",s=typeof e=="string",l=typeof r=="string";o&&(t=t.split(n.stringSeparator)),s&&(e=e.split(n.stringSeparator)),l&&(r=r.split(n.stringSeparator));let d=[];const u=rn(t,e,r);let g=[];function F(){g.length&&d.push({ok:g}),g=[]}a(F,"flushOk");function A(k,oe){if(k.length!==oe.length)return!1;for(let pe=0;pe<k.length;pe++)if(k[pe]!==oe[pe])return!1;return!0}return a(A,"isFalseConflict"),u.forEach(k=>{k.stable?g.push(...k.bufferContent):n.excludeFalseConflicts&&A(k.aContent,k.bContent)?g.push(...k.aContent):(F(),d.push({conflict:{a:k.aContent,aIndex:k.aStart,o:k.oContent,oIndex:k.oStart,b:k.bContent,bIndex:k.bStart}}))}),F(),d}a(Ur,"diff3Merge");function Vn(t,e,r,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},n);const o=Ur(t,e,r,n);let s=!1,l=[];return o.forEach(d=>{d.ok?l=l.concat(d.ok):d.conflict&&(s=!0,l.push(`<<<<<<<${n.label.a?` ${n.label.a}`:""}`),l=l.concat(d.conflict.a),l.push(`|||||||${n.label.o?` ${n.label.o}`:""}`),l=l.concat(d.conflict.o),l.push("======="),l=l.concat(d.conflict.b),l.push(`>>>>>>>${n.label.b?` ${n.label.b}`:""}`))}),{conflict:s,result:l}}a(Vn,"mergeDiff3");function vn(t,e,r,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=Ur(t,e,r,n);let s=!1,l=[];for(let d=0;d<o.length;d++){const u=o[d];u.ok?l=l.concat(u.ok):(s=!0,l=l.concat([`
<<<<<<<<<
`],u.conflict.a,[`
=========
`],u.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:l}}a(vn,"node_diff3_merge");function mn(t,e,r,n){n=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},n);const o=Ur(t,e,r,n);let s=!1,l=[];for(let d=0;d<o.length;d++){const u=o[d];if(u.ok)l=l.concat(u.ok);else{const g=tn(u.conflict.a,u.conflict.b);for(let F=0;F<g.length;F++){let A=g[F];A.common?l=l.concat(A.common):(s=!0,l=l.concat([`
<<<<<<<<<
`],A.buffer1,[`
=========
`],A.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:l}}a(mn,"mergeDigIn");function xn(t,e){let r=[],n=0;function i(o){for(;n<o;)r.push(t[n]),n++}a(i,"advanceTo");for(let o=0;o<e.length;o++){let s=e[o];i(s.buffer1.offset);for(let l=0;l<s.buffer2.chunk.length;l++)r.push(s.buffer2.chunk[l]);n+=s.buffer1.length}return i(t.length),r}a(xn,"patch");function _n(t){return t.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(_n,"stripPatch");function gi(t){return t.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(gi,"invertPatch");const wn=new Sn;wn.diffTimeout=0;function dn(t,e,r){return xe.get("experimental.useDiffMatchPatch")===!0?wn.patch_toText(wn.patch_make(e,r)):Nr(t,e,r)}a(dn,"diffs_createPatch");function Fn(t,e,r,n){const i=`diff --git a/${t} b/${t}`;switch(n){case"modify":return dn(t,e,r);case"add":{let o;!r.endsWith(`
`)&&!r.endsWith(`\r
`)?o=`
\\ No newline at end of file`:o="";const s=/\r?\n/g,l=r.split(s),d=r.match(s)||[],u=l.length,g=[];for(let F=0;F<u;F+=1)(F<l.length-1||F===l.length-1&&l[F]!=="")&&g.push("+"),g.push(l[F]),F<d.length&&g.push(d[F]);return r=g.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${t}
@@ -0,0 +1,${u} @@
${r}${o}`}case"delete":{let o=0;return e=e.replace(/\r?\n/g,s=>(o++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${t}
+++ /dev/null
@@ -1,${o} +0,0 @@
-${e}`}}}a(Fn,"createPatch2");function On(t,e,r){return pt(t,e,r)}a(On,"diffs_applyPatch");function ni(t,e){const r=[];for(const n of ce(t,e))r.push({...n,oldFileName:n.newFileName,oldHeader:n.newHeader,newFileName:n.oldFileName,newHeader:n.oldHeader,hunks:n.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(o=>o[0]==="-"?`+${o.slice(1)}`:o[0]==="+"?`-${o.slice(1)}`:o)}))}),r.push(n);return r}a(ni,"reversePatch");function Zn(t,e,r,n){let i=`
`;const o=t.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const u=o.filter(g=>g===`\r
`).length;i=u>o.length-u?`\r
`:`
`}const s=vn(t,e,r,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),l=s.result;let d=s.conflict;for(let u=0;u<l.length;u+=1)l[u]===`
<<<<<<<<<
`?l[u]="<<<<<<< HEAD":l[u]===`
=========
`?l[u]="=======":l[u]===`
>>>>>>>>>
`&&(l[u]=`>>>>>>> ${n}`);return{conflicts:d,mergedContent:l.join(i)}}a(Zn,"diffs_merge");function Cn(t){return t!==void 0&&typeof t.then=="function"}a(Cn,"isPromise");const Qn="";function An(...t){if(t.length===1){const e=t[0];return e===void 0?Qn:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof c.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(t)}a(An,"defaultResolver");function Cr(t){return(e,r,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$gate$${r}`;n.value=function(...s){const l=s.length===0?o:`${o}$${(t!=null?t:An)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let d=this[l];if(d===void 0){let u;try{if(u=i.apply(this,s),u==null||!Cn(u))return u;this[l]=d=u.then(g=>(this[l]=void 0,g)).catch(g=>{throw this[l]=void 0,g})}catch(g){throw this[l]=void 0,g}}return d}}}a(Cr,"gate");function Mr(t){const e=performance.now()*.001;let r=Math.floor(e),n=Math.floor(e%1*1e9);return t!==void 0&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}a(Mr,"hrtime");let Tr=0;function Ae(){return Tr===Number.MAX_SAFE_INTEGER&&(Tr=0),++Tr}a(Ae,"getNextInstanceId");const P=a(class{constructor(t,e,...r){this.context=t,this.instance=`[${Ae().toString().padStart(5)}] `;var n,i,o,s,l,d;let u;if(typeof(e==null?void 0:e.log)=="boolean"?u=e.log?{}:void 0:u=(n=e==null?void 0:e.log)!=null?n:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:ve.Info,this.time=Mr(),u){if(!J.enabled(this.logLevel))return;r.length?ye(this.logLevel,`${this.instance}${(o=u.prefix)!=null?o:""}${t}${(s=u.message)!=null?s:""}`,...r):ye(this.logLevel,`${this.instance}${(l=u.prefix)!=null?l:""}${t}${(d=u.message)!=null?d:""}`)}}log(t){this.logCore(this.context,t,!1)}logStep(t,e){(!t||e)&&this.logCore(this.context,e,!1),this.step=t?{time:Mr(),label:t}:void 0}restart(t){this.logCore(this.context,t,!0),this.step=void 0,this.time=Mr()}stop(t){this.restart(t)}logCore(t,e,r){var n,i,o,s,l,d,u;if(!J.enabled(this.logLevel))return;let g="";if(this.step){const[oe,pe]=Mr(this.step.time),Be=oe*1e3+Math.floor(pe/1e6);g=`${this.step.label?`${this.step.label} took `:""}${Be} ms`}if(!r){ye(this.logLevel,`${this.instance}${(n=e==null?void 0:e.prefix)!=null?n:""}${t}${(i=e==null?void 0:e.message)!=null?i:""}${g?` ${g}`:""}${(o=e==null?void 0:e.suffix)!=null?o:""}`);return}const[F,A]=Mr(this.time),k=F*1e3+Math.floor(A/1e6);ye(k>500?ve.Warn:this.logLevel,`${this.instance}${(s=e==null?void 0:e.prefix)!=null?s:""}${t}${(l=e==null?void 0:e.message)!=null?l:""}${(d=e==null?void 0:e.took)!=null?d:" took "}${k} ms${g?` (${g})`:""}${(u=e==null?void 0:e.suffix)!=null?u:""}`)}static start(t,e,...r){var n;(n=P.watches.get(t))==null||n.log(),P.watches.set(t,new P(t,e,...r))}static log(t,e){var r;(r=P.watches.get(t))==null||r.log(e)}static stop(t,e){var r;(r=P.watches.get(t))==null||r.stop(e),P.watches.delete(t)}},"_Stopwatch");let W=P;W.watches=new Map;function ye(t,e,...r){switch(t){case ve.Warn:J.warn(e,...r);break;case ve.Info:J.log(e,...r);break;default:J.debug(e,...r);break}}a(ye,"log");let Ke=0;function Dt(){return Ke===Number.MAX_SAFE_INTEGER&&(Ke=0),String(++Ke)}a(Dt,"getNextLockId");class ht{constructor(){this.id=Dt()}async synchronize(e){let r;const n=this.promise;this.promise=new Promise(i=>r=i),await n;try{return await e()}finally{r()}}}a(ht,"Lock");class be{constructor(e){this.lock=new ht,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,r){let n;const i=new W(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:r?` \u2022 ${r}`:""},logLevel:ve.Debug});let o;await this.lock.synchronize(async()=>{this.writer&&await this.writer,o=new Promise(s=>n=s),this.readers.add(o)}),i.restart({prefix:"(L) ",suffix:r?` \u2022 ${r}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:r?` \u2022 ${r}`:"",took:" locked for "}),o!==void 0&&this.readers.delete(o),n()}}async synchronizeWrite(e,r){let n;const i=new W(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:r?` \u2022 ${r}`:""},logLevel:ve.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const o=[...this.readers];this.readers.clear(),await Promise.all(o)}this.writer=new Promise(o=>n=o)}),i.restart({prefix:"(L) ",suffix:r?` \u2022 ${r}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:r?` \u2022 ${r}`:"",took:" locked for "}),n(),this.writer=void 0}}}a(be,"ReaderWriterLock");class Pe{constructor(){this.locks=new Map}async synchronizeRead(e,r,n){let i=this.locks.get(e);return i===void 0&&(i=new be(String(e)),this.locks.set(e,i)),i.synchronizeRead(r,n)}async synchronizeWrite(e,r,n){let i=this.locks.get(e);return i===void 0&&(i=new be(String(e)),this.locks.set(e,i)),i.synchronizeWrite(r,n)}}a(Pe,"KeyedReaderWriterLock");const He=new TextDecoder,et=new TextEncoder;async function gt(t){const e=typeof t=="string"?et.encode(t):t;let r;if(globalThis.crypto.subtle)r=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const n=new jt;n.update(e),r=n.digest()}return globalThis.btoa(encodeURIComponent(He.decode(r)))}a(gt,"sha1");async function yt(t){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},t);return y(He.decode(e))}a(yt,"sha256");var Ht;(function(t){t[t.BLOCK_SIZE=64]="BLOCK_SIZE"})(Ht||(Ht={}));function Bt(t,e,r=32){const n=r-e,i=~((1<<n)-1);return(t<<e|(i&t)>>>n)>>>0}a(Bt,"leftRotate");function qt(t,e=0,r=t.byteLength,n=0){for(let i=0;i<r;i++)t[e+i]=n}a(qt,"fill");const Gr=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(t){const e=this._buff;let r=this._buffLen,n=0;const i=t.byteLength;for(;n<i;){const o=Math.min(64-r,i-n);for(let s=0;s<o;s++)e[r++]=t[n++];r>=64&&(this._step(),r-=64,this._totalLen+=64)}this._buffLen=r}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),t}_wrapUp(){this._buff[this._buffLen++]=128,qt(this._buff,this._buffLen),this._buffLen>56&&(this._step(),qt(this._buff));const t=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(t/4294967296),!1),this._buffDV.setUint32(60,t%4294967296,!1),this._step()}_step(){const t=Gr._bigBlock32,e=this._buffDV;for(let g=0;g<64;g+=4)t.setUint32(g,e.getUint32(g,!1),!1);for(let g=64;g<320;g+=4)t.setUint32(g,Bt(t.getUint32(g-12,!1)^t.getUint32(g-32,!1)^t.getUint32(g-56,!1)^t.getUint32(g-64,!1),1),!1);let r=this._h0,n=this._h1,i=this._h2,o=this._h3,s=this._h4,l,d,u;for(let g=0;g<80;g++)g<20?(l=n&i|~n&o,d=1518500249):g<40?(l=n^i^o,d=1859775393):g<60?(l=n&i|n&o|i&o,d=2400959708):(l=n^i^o,d=3395469782),u=Bt(r,5)+l+s+d+t.getUint32(g*4,!1)&4294967295,s=o,o=i,i=Bt(n,30),n=r,r=u;this._h0=this._h0+r&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let jt=Gr;jt._bigBlock32=new DataView(new ArrayBuffer(320));function Jr(t){const e=globalThis.atob(t),r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return n}a(Jr,"fromBase64");const{fromCharCode:Yr}=String;function Zr(t){let e;if(typeof t=="string")e=t;else{e="";for(let r=0,{length:n}=t;r<n;r++)e+=Yr(t[r])}return globalThis.btoa(e)}a(Zr,"toBase64");function yn(t,e){if(t===e)return-1;let r=0;for(;t[r]===e[r];)r++;return r}a(yn,"indexOfDifference");function pi(t){return t.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(pi,"strings_escapeRegExpCharacters");var la=Object.defineProperty,Wi=Object.getOwnPropertyDescriptor,xi=a((t,e,r,n)=>{for(var i=n>1?void 0:n?Wi(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&la(e,r,i),i},"__decorateClass");const Ci=c.FileSystemError.FileNotFound().code,ua=`===================================================================
`,hn=new TextDecoder,zi=new TextEncoder;function Ti(t){return t&&"type"in t&&"uri"in t&&"uri"in t&&"fileType"in t&&"revision"in t&&"timestamp"in t}a(Ti,"isOperation");function ii(t,e,r){return{type:t.type,rootUri:e,uri:r!=null?r:t.uri}}a(ii,"toEvent");const Xn=a(class{constructor(t,e,r,n,i,o){this.providerService=t,this.storageService=e,this.fileStorageService=r,this.telemetryService=n,this.workspaceId=i,this._onDidChange=new c.EventEmitter,this.cache=new Map,this.lock=new Pe,this.scopedStores=new Map,o===void 0&&(this.disposable=c.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var t;(t=this.disposable)==null||t.dispose()}async exportDebugInfo(t){var e;async function r(n){const i=await c.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${n.toString(!0)}

${this.toStorage(await this.getWorkingOperations(n))}`});return void c.window.showTextDocument(i)}if(a(r,"exportCore"),t===void 0)for(const n of(e=c.workspace.workspaceFolders)!=null?e:[])await r.call(this,n.uri);else return r.call(this,t)}async getWorkspacesWithChanges(){var t;const e=new W("ChangeStore.getWorkspacesWithChanges()");try{const r=[];for(const n of(t=c.workspace.workspaceFolders)!=null?t:[])n.uri.scheme===L.scheme&&await this.hasChanges(n.uri)&&r.push(n.uri);return r.length>0?r:void 0}finally{e.stop()}}async acceptAll(t,e){const r=`ChangeStore.acceptAll(${t.toString()}, ${e==null?void 0:e.staged})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(t),async()=>{const i=await this.getWorkingOperations(t),o=[];let s=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(d=>d.staged));for(const d of i){if(l&&!d.staged){s.push(d);continue}d.fileType===c.FileType.File&&await this.discardWorkingContent(t,d.uri);let u;if(d.type===G.Created&&d.fileType===c.FileType.Directory&&(i.some(g=>z(g.uri,d.uri))||(u={type:G.Deleted,rootUri:t,uri:d.uri})),n.push(u!=null?u:ii(d,t)),d.type===G.Created){let g=d.uri;for(;;){const{parent:F}=this.findParent(g,i,A=>A.type===G.Created);if(F){o.push(F),g=F.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(d=>o.includes(d)?(n.push(ii(d,t)),!1):!0)),await this.saveWorkingOperations(t,s)},r),n.length!==0&&this._onDidChange.fire(n)}async discard(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=`ChangeStore.discard(${t.toString()})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(e),async()=>this.discardCore(e,t,n),r),n.length!==0&&this._onDidChange.fire(n)}async discardCore(t,e,r){J.debug(`ChangeStore.discardCore(${e.toString()})`);let n=await this.getWorkingOperations(t);if(n.length===0)return;const i=B(e),o=n.findIndex(d=>B(d.uri)===i);if(o===-1)return;const[s]=n.splice(o,1);let l;switch(s.type){case G.Created:l=G.Deleted;break;case G.Deleted:l=G.Created;break;default:l=s.type;break}if(r.push({type:l,rootUri:t,uri:e}),s.type===G.Created){let d=s.uri;for(;;){const{parent:u,parentIndex:g}=this.findNewParentWithOnlyChild(d,n);if(u){n.splice(g,1),r.push({type:G.Deleted,rootUri:t,uri:u.uri}),d=u.uri;continue}break}}else if(s.type===G.Deleted){let d=s.uri;const u=this.findDeletedParents(d,n);let g=[...n];u.forEach(({parent:F,parentIndex:A})=>{g[A]=void 0,r.push({type:G.Created,rootUri:t,uri:F.uri})}),n=g.filter(F=>F!==void 0)}await this.saveWorkingOperations(t,n),s.fileType===c.FileType.File&&await this.discardWorkingContent(t,e)}async discardAll(t,e){const r=this.getUriScope(t);if(r)return this.getScopedChangeStore(r).discardAll(t,e);const n=`ChangeStore.discardAll(${t.toString()}, ${e==null?void 0:e.staged})`;J.log(n);const i=[];await this.lock.synchronizeWrite(x(t),async()=>{const o=await this.getWorkingOperations(t),s=[];let l=[];const d=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!o.some(u=>u.staged));for(const u of o){if(d&&!u.staged){l.push(u);continue}u.fileType===c.FileType.File&&await this.discardWorkingContent(t,u.uri);let g;switch(u.type){case G.Created:g=G.Deleted;break;case G.Deleted:g=G.Created;break;default:g=u.type;break}if(i.push({type:g,rootUri:t,uri:u.uri}),u.type===G.Created){let F=u.uri;for(;;){const{parent:A}=this.findNewParentWithOnlyChild(F,o);if(A){s.push(A),F=A.uri;continue}break}}}l.length>0&&s.length>0&&(l=l.filter(u=>s.includes(u)?(i.push({type:G.Deleted,rootUri:t,uri:u.uri}),!1):!0)),await this.saveWorkingOperations(t,l)},n),i.length!==0&&this._onDidChange.fire(i)}async stage(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=`ChangeStore.stage(${t.toString()})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);i!==void 0&&await this.stageCore(e,t,i,n,o)},r),n.length!==0&&this._onDidChange.fire(n)}async stageAll(t){const e=`ChangeStore.stageAll(${t.toString()})`;J.log(e);const r=[];await this.lock.synchronizeWrite(x(t),async()=>{const n=(await this.getWorkingOperations(t)).filter(i=>!i.staged);if(n.length!==0)for(const i of n){const{index:o}=await this.getWorkingOperation(i.uri,t);if(!await this.stageCore(t,i.uri,i,r,o))return}},e),r.length!==0&&this._onDidChange.fire(r)}async stageCore(t,e,r,n,i){if(r.conflicts){if(!r.conflicts.status.includes(G.Deleted)){const s=c.l10n.t("Yes");if(await c.window.showWarningMessage(c.l10n.t("Are you sure you want to stage {0} with merge conflicts?",q(e)),{modal:!0},s)!==s)return!1}const[,o]=r.conflicts.status;switch(o){case G.Changed:switch(r.type){case G.Created:return!1;case G.Changed:return await this.spliceOperation(e,i,{...r,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0;case G.Deleted:const s=c.l10n.t("Keep Their Version"),l=c.l10n.t("Delete File"),d=await c.window.showInformationMessage(c.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,q(e)),{modal:!0},s,l);return d===s?(await this.discardCore(t,e,n),!0):d===l?(await this.spliceOperation(e,i,{...r,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):!1}case G.Created:switch(r.type){case G.Changed:case G.Deleted:return!1;case G.Created:return await this.spliceOperation(e,i,{...r,type:G.Changed,conflicts:void 0,size:r.size,hash:r.hash,originalHash:r.originalHash,staged:!0,timestamp:Date.now()},n),!0}case G.Deleted:switch(r.type){case G.Created:case G.Changed:{const s=c.l10n.t("Keep Our Version"),l=c.l10n.t("Delete File"),d=await c.window.showInformationMessage(c.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,q(e)),{modal:!0},s,l);return d===s?(await this.spliceOperation(e,i,{...r,type:G.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):d===l?(await this.discardCore(t,e,n),!0):!1}case G.Deleted:return await this.discardCore(t,e,n),!0}}}return await this.spliceOperation(e,i,{...r,staged:!0,conflicts:void 0,timestamp:Date.now()},n),!0}async unstage(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=`ChangeStore.unstage(${t.toString()})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);i!==void 0&&await this.spliceOperation(t,o,{...i,staged:!1,timestamp:Date.now()},n)},r),n.length!==0&&this._onDidChange.fire(n)}async unstageAll(t){const e=`ChangeStore.unstageAll(${t.toString()})`;J.log(e);const r=[];await this.lock.synchronizeWrite(x(t),async()=>{const n=(await this.getWorkingOperations(t)).map(i=>({...i,staged:!1,timestamp:Date.now()}));n.length!==0&&(await this.saveWorkingOperations(t,n),r.push(...n.map(i=>ii(i,t))))},e),r.length!==0&&this._onDidChange.fire(r)}async hasChanges(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).hasChanges(t);const r=x(t),n=this.cache.get(r);return n!==void 0?n.length!==0:this.lock.synchronizeRead(r,async()=>(await this.getWorkingOperations(t)).length!==0,`ChangeStore.hasChanges(${t.toString()})`)}maybeHasChanges(t,e){const r=this.getUriScope(t);if(r)return this.getScopedChangeStore(r).maybeHasChanges(t,e);const n=x(t),i=this.cache.get(n);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const o=B(e);return i.some(s=>B(s.uri)===o)}async hasMergeConflicts(t){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${t.toString()})`)}async hasStagedChanges(t){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${t.toString()})`)}async hasWorkingChanges(t){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${t.toString()})`)}async getChange(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).getChange(t);const r=this.providerService.getVirtualRootUri(t);if(r!==void 0)return this.lock.synchronizeRead(x(r),async()=>{const{operation:n}=await this.getWorkingOperation(t,r);return n},`ChangeStore.getChange(${t.toString()})`)}async getChanges(t,e){const r=this.getUriScope(t);return r?this.getScopedChangeStore(r).getChanges(t,e):this.lock.synchronizeRead(x(t),async()=>{let n=await this.getWorkingOperations(t);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:o}=e;n=n.filter(s=>{var l;return(!i||s.conflicts===void 0)&&((l=o==null?void 0:o(s))!=null?l:!0)})}return n},`ChangeStore.getChanges(${t.toString()})`)}async getGroupedChanges(t,e){const r=this.getUriScope(t);return r?this.getScopedChangeStore(r).getGroupedChanges(t,e):this.lock.synchronizeRead(x(t),async()=>{var n,i;const o=await this.getWorkingOperations(t),s={conflicts:[],staged:[],working:[]};for(const l of o)!((i=(n=e==null?void 0:e.predicate)==null?void 0:n.call(e,l))!=null?i:!0)||(l.conflicts?s.conflicts.push(l):l.staged?s.staged.push(l):s.working.push(l));return s},`ChangeStore.getChangesByType(${t.toString()})`)}async getContent(t){const e=this.providerService.getVirtualRootUri(t);if(e===void 0)throw new Error(`Unable to find content for ${t.toString()}; Repository not found`);const r=x(e),n=this.cache.get(r);if((n==null?void 0:n.length)===0)throw new Error(`Unable to find content for ${t.toString()}`);return this.lock.synchronizeRead(r,async()=>{const i=hn.decode(await this.getWorkingContent(e,t));if(i!==void 0)return i;throw new Error(`Unable to find content for ${t.toString()}`)},`ChangeStore.getContent(${t.toString()}}`)}async getMergeConflicts(t,e){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).filter(n=>{var i,o;return n.conflicts!==void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getMergeConflicts(${t.toString()})`)}async getStagedChanges(t,e){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).filter(n=>{var i,o;return n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getStagedChanges(${t.toString()})`)}async getWorkingChanges(t,e){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).filter(n=>{var i,o;return!n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getWorkingChanges(${t.toString()})`)}async applyChangeset(t,e,r,n){var i;let o;Ti(r)?o=r:n=n!=null?n:r,J.log(`ChangeStore.applyChangeset${t.toString()}`,e.workspaceId,e.uri,o==null?void 0:o.uri,n==null?void 0:n.save);const s=this.getScopedChangeStore(e.workspaceId),l=(i=e.patch)!=null?i:await s.createPatch(e.uri,o==null?void 0:o.uri);await this.applyPatchCore(t,l,{...n,getIncomingContent:async d=>{const u=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,d),e.workspaceId);return hn.decode(await c.workspace.fs.readFile(u))},merge:async(d,u,g)=>{try{const F=L.getProviderUri(d),A=hn.decode(await c.workspace.fs.readFile(F)),k=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,u),e.workspaceId),oe=hn.decode(await c.workspace.fs.readFile(k)),pe=await this.providerService.getMetadata(k);return{...Zn(g,A,oe,pe.HEAD.sha),baseUri:F,incomingUri:k}}catch(F){throw new Error(`Unable to apply patch to ${u}: ${String(F)}`)}}})}async applyPatch(t,e,r){if(J.log(`ChangeStore.applyPatch(${t.toString()})`,r==null?void 0:r.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(t,e,r)}async applyPatchCore(t,e,r={}){const n=`ChangeStore.applyPatchCore(${t.toString()})`;J.debug(n,r==null?void 0:r.save);const i=new c.WorkspaceEdit,o=[],s=new Map;async function l(A){var k;const oe=x(A),pe=c.workspace.textDocuments.find(Be=>x(Be.uri)===oe);return(k=pe==null?void 0:pe.getText())!=null?k:hn.decode(await c.workspace.fs.readFile(A))}a(l,"getContent");async function d(A){try{const k=await c.workspace.fs.stat(A);return Boolean(k)}catch{return!1}}a(d,"exists");async function u(A,k,oe){let pe=On("",oe,{fuzzFactor:0});if(pe===!1){if(!r.getIncomingContent)throw new Error(`Unable to apply patch to ${k}`);pe=await r.getIncomingContent(k)}i.createFile(A,{overwrite:!0}),i.replace(A,new c.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),pe)}a(u,"applyCreate");async function g(A,k,oe,pe){const Be=await l(A);let Ie=On(Be,oe,{fuzzFactor:1});if(Ie===!1){if(r.merge===void 0)throw new Error(`Unable to apply patch to ${k}; Resulted in conflicts`);const Ye={title:c.l10n.t("Merge")},tt={title:c.l10n.t("Skip File"),isCloseAffordance:!0};if(await c.window.showWarningMessage(c.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,k),{modal:!0},Ye,tt)!==Ye)return;const it=await r.merge(A,k,Be);Ie=it.mergedContent,it.conflicts&&s.set(x(A),{type:pe,baseUri:it.baseUri,incomingUri:it.incomingUri})}i.replace(A,new c.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Ie)}a(g,"applyModification");const F=(r==null?void 0:r.reverse)?ni(e,{}):ce(e,{});for(const A of F)if(A.oldFileName==="/dev/null"){if(!A.newFileName)continue;const k=A.newFileName.startsWith("b/")?A.newFileName.substr(2):A.newFileName,oe=this.providerService.createRelativeVirtualUri(t,k);o.push(x(oe)),!await d(oe)?await u(oe,k,A):await g(oe,k,A,G.Created)}else if(A.newFileName==="/dev/null"){if(!A.oldFileName)continue;const k=A.oldFileName.startsWith("a/")?A.oldFileName.substr(2):A.oldFileName,oe=this.providerService.createRelativeVirtualUri(t,k);await d(oe)&&i.deleteFile(oe)}else if(A.oldFileName===A.newFileName){if(!A.newFileName)continue;const k=this.providerService.createRelativeVirtualUri(t,A.newFileName);o.push(x(k)),!await d(k)?await u(k,A.newFileName,A):await g(k,A.newFileName,A,G.Changed)}else throw new Error(`Unable to apply patch to ${A.oldFileName}; Renames aren't currently supported`);if(await c.workspace.applyEdit(i),r.save&&o.length)for(const A of o){const k=c.workspace.textDocuments.find(oe=>x(oe.uri)===A);await(k==null?void 0:k.save())}s.size&&setTimeout(async()=>{const A=[];await this.lock.synchronizeWrite(x(t),async()=>{const k=await this.getWorkingOperations(t);if(k.length===0)return;let oe=-1;for(const pe of k){oe++;const Be=s.get(x(pe.uri));Be!==void 0&&await this.spliceOperation(pe.uri,oe,{...pe,conflicts:{baseUri:Be.baseUri,incomingUri:Be.incomingUri,status:[pe.type,Be.type]},timestamp:Date.now()},A)}},n),A.length!==0&&this._onDidChange.fire(A)},0)}async createChangeset(t){J.log(`ChangeStore.createChangeset${t.toString()})`);const e=await this.createPatch(t);return e?{workspaceId:this.workspaceId,uri:t,patch:e}:void 0}async createPatch(t,e,r){if(J.log(`ChangeStore.createPatch${t.toString()})`,e),e===void 0){let o=await this.getWorkingOperations(t);if((r==null?void 0:r.staged)&&(o=o.filter(l=>l.staged)),o.length===0)return"";const s=[];for(const l of o){const d=await this.createPatchCore(t,l);s.push(d)}return s.join("")}const{operation:n}=await this.getWorkingOperation(e,t);if(n===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(r==null?void 0:r.staged)&&n.staged?"":await this.createPatchCore(t,n)}async createPatchCore(t,e){if(e.fileType!==c.FileType.File)return"";const r=this.providerService.getRelativeFilePath(t,e.uri),n=`diff --git a/${r} b/${r}`;if(e.type===G.Created){let d=await this.getContent(e.uri);return Fn(r,"",d,"add")}if(e.type===G.Deleted){let d=hn.decode(await c.workspace.fs.readFile(L.getProviderUri(e.uri)));return Fn(r,d,"","delete")}const i=await this.getContent(e.uri),o=hn.decode(await c.workspace.fs.readFile(L.getProviderUri(e.uri))),s=dn(r,o,i),l=s.indexOf(ua);return`${n}
${s.substr(l+ua.length)}`}async keep(t,e){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return;const n=`ChangeStore.keep(${t.toString()})`;J.log(n,e);const i=[];await this.lock.synchronizeWrite(x(r),async()=>{const{operation:o,index:s}=await this.getWorkingOperation(t,r);if(o===void 0)return;if(e===void 0&&o.conflicts){const[,d]=o.conflicts.status;switch(d){case G.Changed:switch(o.type){case G.Changed:case G.Created:case G.Deleted:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break;case G.Created:switch(o.type){case G.Changed:case G.Deleted:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break;case G.Created:await this.spliceOperation(t,s,{...o,type:G.Changed,size:o.size,hash:o.hash,originalHash:o.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case G.Deleted:switch(o.type){case G.Deleted:await this.discardCore(r,t,i);break;case G.Changed:await this.spliceOperation(t,s,{...o,type:G.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case G.Created:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case G.Changed:switch(o.type){case G.Deleted:await this.spliceOperation(t,s,{...o,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case G.Created:break;case G.Changed:break}break;case G.Created:switch(o.type){case G.Changed:case G.Deleted:return;case G.Created:break}break;case G.Deleted:switch(o.type){case G.Deleted:return this.discardCore(r,t,i);case G.Changed:await this.spliceOperation(t,s,{...o,type:G.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case G.Created:return}}const l=e!==void 0?await c.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(t,s,{...o,type:G.Changed,originalHash:l!==void 0?await gt(l):o.originalHash,conflicts:void 0,timestamp:Date.now()},i)},n),i.length!==0&&this._onDidChange.fire(i)}async merge(t,e,r){const n=this.providerService.getVirtualWorkspaceUri(t);if(n===void 0)return;const i=`ChangeStore.merge(${t.toString()})`;J.log(i,e,r);const o=[];await this.lock.synchronizeWrite(x(n),async()=>{const{operation:s,index:l}=await this.getWorkingOperation(t,n);if(s===void 0)return;switch(e.type){case G.Changed:switch(s.type){case G.Deleted:await this.spliceOperation(t,l,{...s,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:r.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case G.Created:break;case G.Changed:break}break;case G.Created:switch(s.type){case G.Deleted:case G.Changed:return;case G.Created:const k=await c.workspace.fs.readFile(e.providerUri);await this.spliceOperation(t,l,{...s,originalHash:k!==void 0?await gt(k):s.originalHash,conflicts:{baseUri:r.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},type:G.Changed,timestamp:Date.now()},o);break}break;case G.Deleted:switch(s.type){case G.Deleted:return this.discardCore(n,t,o);case G.Changed:await this.spliceOperation(t,l,{...s,type:G.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case G.Created:return}}const d=await this.providerService.getMetadata(e.providerUri),u=await this.getWorkingContent(n,t),g=s.type===G.Created?new Uint8Array(0):await c.workspace.fs.readFile(r.providerUri),F=await c.workspace.fs.readFile(e.providerUri),A=Zn(hn.decode(u),hn.decode(g),hn.decode(F),d.HEAD.sha);await this.writeFileCore(n,t,o,zi.encode(A.mergedContent),F!=null?F:new Uint8Array(0),A.conflicts?{baseUri:r.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]}:void 0)},i),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(t,e,r,n){let i;const o=this.providerService.getVirtualRootUri(t);return o!==void 0&&({operation:i}=await this.getWorkingOperation(t,o)),(i==null?void 0:i.type)===G.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===G.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,t,r,n]})}resolveOpenCommand(t,e){return{command:"vscode.open",title:"Open File",arguments:[t,e]}}getScopedUri(t,e){const r=typeof e=="string"?e:e.workspaceId;return r===this.workspaceId?t:t.with({fragment:r})}getUriScope(t){return t.fragment||void 0}getScopedChangeStore(t){const e=typeof t=="string"?t:t.workspaceId;J.log(`ChangeStore.getScopedChangeStore(${e})`);let r=this.scopedStores.get(e);return r===void 0&&(r=e===this.workspaceId?new Xn.ScopedChangeStore(this,e,this.workspaceId):new Xn.ScopedChangeStore(new Xn(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,r)),r}async stat(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).stat(t);const r=this.providerService.getVirtualRootUri(t);if(r===void 0)return;const n=x(r),i=this.cache.get(n);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(n,async()=>{var o;const{operation:s}=await this.getWorkingOperation(t,r);if(s!==void 0){if(s.type===G.Deleted)throw c.FileSystemError.FileNotFound(`The ${s.fileType===c.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(o=s.size)!=null?o:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${t.toString()}`)}async readFile(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).readFile(t);const r=new W(`ChangeStore.readFile(${t.toString()})`);try{const n=this.providerService.getVirtualRootUri(t);if(n===void 0)return;const i=x(n),o=this.cache.get(i);return(o==null?void 0:o.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){r.log({message:": Not found; no operations"});return}return this.getWorkingContent(n,t)},r.context)}finally{r.stop()}}async createDirectory(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=new W(`ChangeStore.createDirectory(${t.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e),s=await this.providerService.getMetadata(t);await this.spliceOperation(t,o,i===void 0?{type:G.Created,uri:t,fileType:c.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},n)},r.context),n.length===0)return;this._onDidChange.fire(n)}finally{r.stop()}}async deleteDirectory(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=new W(`ChangeStore.deleteDirectory(${t.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);if((i==null?void 0:i.type)===G.Created)return this.discardCore(e,t,n);const s=await this.providerService.getMetadata(t);await this.spliceOperation(t,o,{type:G.Deleted,uri:t,fileType:c.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},r.context),n.length===0)return;this._onDidChange.fire(n)}finally{r.stop()}}async updateDirectoryEntries(t,e){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return e;const n=new W(`ChangeStore.updateDirectoryEntries(${t.toString()})`,{},e.length);try{const i=x(r),o=this.cache.get(i);return(o==null?void 0:o.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:s}=N(r,t),l=await this.getWorkingOperations(r);for(const d of l)switch(d.type){case G.Changed:break;case G.Created:{if(z(d.uri,s)){const u=this.providerService.getRelativeFilePath(t,d.uri);e.push([u,d.fileType])}break}case G.Deleted:{if(z(d.uri,s)){const u=this.providerService.getRelativeFilePath(t,d.uri),g=e.findIndex(([F])=>F===u);g!==-1&&e.splice(g,1)}break}}return e},n.context)}finally{n.stop()}}async writeFile(t,e,r,n){const i=this.providerService.getVirtualWorkspaceUri(t);if(i===void 0)return;const o=new W(`ChangeStore.writeFile(${t.toString()})`,{},e.length,n);try{const s=[];if(await this.lock.synchronizeWrite(x(i),async()=>this.writeFileCore(i,t,s,e,r,n),o.context),s.length===0)return;this._onDidChange.fire(s)}finally{o.stop()}}async writeFileCore(t,e,r,n,i,o){const s=new W(`ChangeStore.writeFileCore(${e.toString()})`,{},n.length,o);try{const[{operation:l,index:d},u,g]=await Promise.all([this.getWorkingOperation(e,t),gt(n),gt(i)]);if(u===g&&(!l||(l==null?void 0:l.type)===G.Changed))return this.discardCore(t,e,r);if(u===(l==null?void 0:l.hash)&&g===(l==null?void 0:l.originalHash))return;const[{HEAD:F}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(t,e,n)]);await this.spliceOperation(e,d,l===void 0?{type:G.Changed,uri:e,fileType:c.FileType.File,revision:F.sha,timestamp:Date.now(),size:n.byteLength,hash:u,originalHash:g,conflicts:o,staged:!1}:{...l,revision:F.sha,timestamp:Date.now(),size:n.byteLength,hash:u,originalHash:g,conflicts:o,staged:!1},r)}finally{s.stop()}}async createFile(t,e){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return;const n=new W(`ChangeStore.createFile(${t.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(x(r),async()=>{const[{operation:o,index:s},l,d]=await Promise.all([this.getWorkingOperation(t,r),gt(e),this.providerService.getMetadata(t),this.saveWorkingContent(r,t,e)]);await this.spliceOperation(t,s,o===void 0?{type:G.Created,uri:t,fileType:c.FileType.File,revision:d.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l,originalHash:l}:o.type===G.Deleted?{...o,type:G.Changed,revision:d.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l}:{...o,type:G.Created,revision:d.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l},i)},n.context),i.length===0)return;this._onDidChange.fire(i)}finally{n.stop()}}async deleteFile(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=new W(`ChangeStore.deleteFile(${t.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);if((i==null?void 0:i.type)===G.Created)return this.discardCore(e,t,n);const[s]=await Promise.all([this.providerService.getMetadata(t),this.discardWorkingContent(e,t)]);await this.spliceOperation(t,o,{type:G.Deleted,uri:t,fileType:c.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},r.context),n.length===0)return;this._onDidChange.fire(n)}finally{r.stop()}}findParent(t,e,r){const n=se(t),{operation:i,index:o}=this.findWorkingOperation(n,e);return i!==void 0&&r(i,e)?{parent:i,parentIndex:o}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(t,e){const r=B(t);return this.findParent(t,e,(n,i)=>n.type===G.Created&&!i.some(o=>z(o.uri,n.uri)&&B(o.uri)!==r))}findDeletedParents(t,e){const r=[];for(let n=0;n<e.length;n+=1){const i=e[n];i.type===G.Deleted&&$(t,i.uri)&&r.push({parent:i,parentIndex:n})}return r}async getWorkingOperation(t,e){return this.findWorkingOperation(t,await this.getWorkingOperations(e))}findWorkingOperation(t,e){if(e.length===0)return{operation:void 0,index:-1};const r=B(t);let n=-1;const i=e.find((o,s)=>B(o.uri)!==r?!1:(n=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:n}}async getWorkingOperations(t){const e=x(t);let r=this.cache.get(e);return r===void 0&&(r=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,r)),r}async saveWorkingOperations(t,e){J.debug(`ChangeStore.saveWorkingOperations(${t.toString()})`,e.length);const r=x(t);this.cache.set(r,e);try{await this.storageService.store(this.getOperationsStorageKey(r),this.toStorage(e))}catch(n){throw this.cache.delete(r),J.error(n,`Failed to save repository changes for ${r}`),n}}getOperationsStorageKey(t){return`operations/${t}`}async getWorkingContent(t,e){try{return await this.fileStorageService.get(this.getFileStorageKey(t,e))}catch(r){throw J.error(r),this.telemetryService.sendException(r),r}}async discardWorkingContent(t,e){J.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(t,e))}catch(r){if(r instanceof c.FileSystemError&&r.code===Ci)return;throw J.error(r),this.telemetryService.sendException(r),r}}async saveWorkingContent(t,e,r){J.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,r.length);try{return await this.fileStorageService.store(this.getFileStorageKey(t,e),r)}catch(n){throw J.error(n),this.telemetryService.sendException(n),n}}getFileStorageKey(t,e){return`changestore/${I(e)}`}async spliceOperation(t,e,r,n){const i=this.providerService.getVirtualWorkspaceUri(t);if(i===void 0)return;const o=await this.getWorkingOperations(i);e!==-1?o.splice(e,1,r):o.push(r),await this.saveWorkingOperations(i,o),n.push(ii(r,i,t))}fromStorage(t){if(!t)return[];try{const e=JSON.parse(t,(r,n)=>(r==="uri"||r.endsWith("Uri"))&&R(n)?typeof n=="string"?c.Uri.parse(n):c.Uri.from(n):n);return Array.isArray(e)?e:e.operations}catch(e){throw J.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(t){const e={schemaVersion:Xn.operationsStorageSchemaVersion,operations:t};return JSON.stringify(e)}},"_ChangeStore");let Un=Xn;Un.operationsStorageSchemaVersion=1,Un.ScopedChangeStore=class{constructor(t,e,r){this.changeStore=t,this.scope=e,this.workspaceId=r}createPatch(t,e,r){return this.changeStore.createPatch(this.stripUriScope(t),this.stripUriScope(e),r)}discardAll(t,e){return this.changeStore.discardAll(this.stripUriScope(t),e)}getChange(t){return this.changeStore.getChange(this.stripUriScope(t))}getChanges(t,e){return this.changeStore.getChanges(this.stripUriScope(t),e)}async getGroupedChanges(t,e){return this.changeStore.getGroupedChanges(this.stripUriScope(t),e)}hasChanges(t){return this.changeStore.hasChanges(this.stripUriScope(t))}maybeHasChanges(t,e){return this.changeStore.maybeHasChanges(this.stripUriScope(t),this.stripUriScope(e))}async stat(t){const r=this.changeStore.getUriScope(t)!==this.workspaceId,n=await this.changeStore.stat(this.stripUriScope(t));return n!==void 0&&r&&(n.permissions=c.FilePermission.Readonly),n}readFile(t){return this.changeStore.readFile(this.stripUriScope(t))}resolveDiffCommand(t,e,r,n){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(t,this.scope),this.changeStore.getScopedUri(e,this.scope),r,n)}stripUriScope(t){return t===void 0||!t.fragment?t:t.with({fragment:""})}},xi([Cr()],Un.prototype,"getWorkingOperations",1);function ca(t){switch(t){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(ca,"getStatusText");function Ai(t){const[e,r]=t;switch(e){case OperationType.Changed:switch(r){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(r){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(r){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(Ai,"getConflictStatusText");const ji=a(class{constructor(t){this.storageService=t,this._onDidChange=new c.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(t){const e=x(t),r=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(n){throw J.error(n,`Failed to delete repository metadata for ${e}`),n}!r||setTimeout(()=>this._onDidChange.fire({uri:t}),0)}async get(t){this.assertMatchingScheme(t);const e=x(t),r=this.cache.get(e);if(r!==void 0)return r;let n;try{n=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw J.error(i,`Failed to get repository metadata for ${e}`),i}return n?this.cache.set(e,{revision:n}):this.cache.delete(e),{revision:n}}async set(t,e,r,n){this.assertMatchingScheme(t);const i=(await this.get(t)).revision!==e?"revision":void 0,o=x(t);if(r!==void 0&&!this.validate(r))throw new Error(`Metadata validation failed for ${t.toString()}`);const s={revision:e,cachedMetadata:r};this.cache.set(o,s);try{await this.storageService.store(this.getStorageKey(o),this.toStorage(e))}catch(l){throw this.cache.delete(o),J.error(l,`Failed to save repository metadata for ${o}`),l}(n==null?void 0:n.silent)||setTimeout(()=>this._onDidChange.fire({uri:t,reason:i}),0)}refresh(){this.cache.clear()}validate(t){var e,r,n,i,o,s,l,d;return typeof t.version=="number"&&t.version>=ji.schemaVersion&&typeof t.timestamp=="number"&&typeof((e=t.provider)==null?void 0:e.id)=="string"&&typeof t.provider.name=="string"&&typeof t.name=="string"&&t.repo&&typeof t.accessLevel=="number"&&typeof((r=t.HEAD)==null?void 0:r.type)=="number"&&typeof((n=t.HEAD)==null?void 0:n.name)=="string"&&typeof((i=t.HEAD)==null?void 0:i.sha)=="string"&&(typeof((o=t.HEAD.detached)==null?void 0:o.name)=="string"&&typeof((s=t.HEAD.detached)==null?void 0:s.type)=="number"||typeof((l=t.HEAD.branch)==null?void 0:l.name)=="string")&&typeof((d=t.defaultBranch)==null?void 0:d.name)=="string"&&typeof t.defaultBranch.sha=="string"}assertMatchingScheme(t){if(t.scheme!==L.scheme)throw new Error(`Uri scheme '${t.scheme}' must match configured scheme '${L.scheme}'; uri=${t.toString()}`)}getStorageKey(t){return`metadata/${t}`}fromStorage(t){if(!t)return;const e=JSON.parse(t,(r,n)=>(r==="uri"||r.endsWith("Uri"))&&R(n)?c.Uri.from(n):n);return e==null?void 0:e.revision}toStorage(t){const e={schemaVersion:ji.storageSchemaVersion,revision:t};return JSON.stringify(e)}},"_MetadataStore");let Jn=ji;Jn.schemaVersion=ct,Jn.storageSchemaVersion=1;class nn{constructor(e,r){this.memento=e,this.scope=r,this._onDidChange=new c.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const r=this.getScoped(e),n=new W(`MementoStorage.get(${e}): scopedKey=${r}`,{logLevel:ve.Debug});try{return await Promise.resolve(this.memento.get(r))}finally{n.stop()}}async getKeys(e){const r=this.getScoped(e),n=new W(`MementoStorage.getKeys(${e}): scopedPrefix=${r}`,{logLevel:ve.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const o=this.scope.length+1;i=i.map(s=>s.substr(o))}return await Promise.resolve(i)}finally{n.stop()}}getKeysCore(e){let r=this.memento.keys();return e&&(r=r.filter(n=>n.startsWith(e))),r}async store(e,r){const n=this.getScoped(e),i=new W(`MementoStorage.store(${e}): scopedKey=${n}`,{logLevel:ve.Debug});try{return await this.storeCore(e,n,r)}finally{i.stop()}}async storeCore(e,r,n){await this.memento.update(r,n),this._onDidChange.fire({key:e})}async delete(e){const r=this.getScoped(e),n=new W(`MementoStorage.delete(${e}): scopedKey=${r}`,{logLevel:ve.Debug});try{return await this.storeCore(e,r,void 0)}finally{n.stop()}}async deleteKeys(e){const r=this.getScoped(e),n=new W(`MementoStorage.deleteKeys(${e}): scopedPrefix=${r}`,{logLevel:ve.Debug});try{const i=[],o=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(r);for(const l of s){const d=o!==0?l.substr(o):l;J.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${d}, scopedKey=${l}`);try{await this.storeCore(d,l,void 0)}catch(u){J.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${d}, scopedKey=${l}`),i.push(d)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{n.stop()}}with(e){return new nn(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(nn,"MementoStorageService");class Ki{constructor(e,r){this.storageUri=e,this.scope=r,this._onDidChange=new c.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const r=this.getScoped(e),n=new W(`ExtFileStorageService.get(${e}): scopedKey=${r}`,{logLevel:ve.Debug});try{return await c.workspace.fs.readFile(c.Uri.joinPath(this.storageUri,r))}catch(i){return}finally{n.stop()}}async store(e,r){const n=this.getScoped(e),i=new W(`ExtFileStorageService.store(${e}): scopedKey=${n}`,{logLevel:ve.Debug});try{return await this.storeCore(e,n,r)}finally{i.stop()}}async storeCore(e,r,n){await c.workspace.fs.writeFile(c.Uri.joinPath(this.storageUri,r),n),this._onDidChange.fire({key:e})}async delete(e){const r=this.getScoped(e),n=new W(`ExtFileStorageService.delete(${e}): scopedKey=${r}`,{logLevel:ve.Debug});try{return await c.workspace.fs.delete(c.Uri.joinPath(this.storageUri,r))}finally{n.stop()}}with(e){return new Ki(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(Ki,"ExtFileStorageService");const Ca=a(async(t,e,r)=>{const n=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5326)),i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9865)),o=new n.AppInsightsCore,s=new i.PostChannel,l={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){l.extensionConfig={};const g={alwaysUseXhrOverride:!0,httpXHROverride:r};l.extensionConfig[s.identifier]=g}const u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(l,[]),o.addTelemetryInitializer(g=>{var F,A;!u||(g.ext=(F=g.ext)!=null?F:{},g.ext.utc=(A=g.ext.utc)!=null?A:{},g.ext.utc.flags=8462029)}),o},"getAICore"),Gi=a(async(t,e,r)=>{const n=await Ca(t,e,r);return{logEvent:(o,s)=>{try{n==null||n.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(l){throw new Error(`Failed to log event to app insights!
`+l.message)}},flush:async()=>{try{n==null||n.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}},"oneDataSystemClientFactory");var pr;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(pr||(pr={}));class vi{constructor(e,r){this._instantiationStatus=pr.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=r,this._key=e}sendEventData(e,r){if(!this._telemetryClient){this._instantiationStatus!==pr.INSTANTIATED&&this._eventQueue.push({eventName:e,data:r});return}this._telemetryClient.logEvent(e,r)}sendErrorData(e,r){if(!this._telemetryClient){this._instantiationStatus!==pr.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:r});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:r})=>this.sendEventData(e,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:r})=>this.sendErrorData(e,r)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===pr.NOT_INSTANTIATED&&(this._instantiationStatus=pr.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=pr.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=pr.INSTANTIATED}))}}a(vi,"BaseTelemetrySender");class Ta{constructor(e,r,n){this.telemetrySender=e,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,r,n,i){i?this.telemetrySender.sendEventData(e,{properties:r,measurements:n}):this.telemetryLogger.logUsage(e,{properties:r,measurements:n})}sendTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!1)}sendDangerousTelemetryEvent(e,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,r,n,!0)}internalSendTelemetryErrorEvent(e,r,n,i){i?this.telemetrySender.sendEventData(e,{properties:r,measurements:n}):this.telemetryLogger.logError(e,{properties:r,measurements:n})}sendTelemetryErrorEvent(e,r,n){this.internalSendTelemetryErrorEvent(e,r,n,!1)}sendDangerousTelemetryErrorEvent(e,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,r,n,!0)}internalSendTelemetryException(e,r,n,i){i?this.telemetrySender.sendErrorData(e,{properties:r,measurements:n}):this.telemetryLogger.logError(e,{properties:r,measurements:n})}sendTelemetryException(e,r,n){this.internalSendTelemetryException(e,r,n,!1)}sendDangerousTelemetryException(e,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,r,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Ta,"BaseTelemetryReporter");class $n{static applyReplacements(e,r){for(const n of Object.keys(e))for(const i of r)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.4-preview"}}static getInstance(){return $n._instance||($n._instance=new $n),$n._instance}}a($n,"TelemetryUtil");const fa=a(async(t,e)=>{let r;try{const i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5783));r=new i.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),r.initialize()}catch(i){return Promise.reject(i)}return{logEvent:(i,o)=>{const s={...o==null?void 0:o.properties,...o==null?void 0:o.measurements};(e==null?void 0:e.length)&&$n.applyReplacements(s,e),r==null||r.track({name:i,data:s})},flush:async()=>{r==null||r.flush()}}},"webAppInsightsClientFactory");class ai extends Ta{constructor(e,r){let n=a(s=>fa(s,r),"clientFactory");$n.shouldUseOneDataSystemSDK(e)&&(n=a(s=>Gi(s,c),"clientFactory"));const i={release:navigator.appVersion,platform:"web",architecture:"web"},o=new vi(e,n);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,c,{additionalCommonProperties:$n.getAdditionalCommonProperties(i)})}}a(ai,"TelemetryReporter");const co="Type of classified event does not match event properties",mi=a(class{constructor(t){this.context=t,this.sharedProperties={},mi._instance=this,this.reporter=new ai(mi.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(t,e){e!==co&&this.reporter.sendTelemetryEvent(t,{...this.sharedProperties,...e})}sendEvent(t,e,r){this.reporter.sendTelemetryEvent(t,{...this.sharedProperties,...e},r)}sendErrorEvent(t,e,r){this.reporter.sendTelemetryErrorEvent(t,{...this.sharedProperties,...e},r)}sendException(t,e,r){this.reporter.sendTelemetryException(t,{...this.sharedProperties,...e},r)}setSharedProperty(t,e){this.sharedProperties[t]=e}reportWorkbenchLoadResult(t){const e="_codespaces.webeditor.connectWorkspace";c.env.appHost==="github.dev"&&(J.debug(`Executing ${e}`),t={...t,errorDetail:t.errorDetail instanceof Error?t.errorDetail.name:void 0},c.commands.executeCommand(e,t).then(r=>{},r=>{J.debug(`Failed to execute ${e}`,r)}))}},"_TelemetryService");let Aa=mi;Aa.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function Da(t,e){const r=c.l10n.t("Report Issue"),n=c.l10n.t("Reload");c.window.showErrorMessage(c.l10n.t("The {0} extension failed to activate.",t.extension.packageJSON.displayName),{modal:!0,detail:c.l10n.t("Please try reloading the window, or report an issue.")},n,r).then(i=>{i===r?c.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:t.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===n&&c.commands.executeCommand("workbench.action.reloadWindow")})}a(Da,"handleExtensionActivationError");let oi;var Di;(function(t){function e(r){const n=os(r);return oi=c.env.uiKind===c.UIKind.Web,J.warn(`Running on the ${oi?"web":"desktop"}${r.extensionRuntime!==c.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${n}; storageUri=${r.globalStorageUri.toString(!0)}`),n}a(e,"configure"),t.configure=e})(Di||(Di={}));const fo=/\/workspaceStorage\/(?<id>[^/]+)/i;function os(t){var e;if(t.storageUri===void 0)return"";const r=fo.exec(t.storageUri.path);let n;if((e=r==null?void 0:r.groups)==null?void 0:e.id)n=r.groups.id;else{n=t.storageUri.path;const i=yn(t.globalStorageUri.path,n),o=`/${t.extension.id}`;n.endsWith(o)?n=n.slice(i,-o.length):n=n.substr(i)}return/-[0-9]$/.test(n)?n.slice(0,-2):n}a(os,"getWorkspaceId");function Hn(t,e){return t.reduce((n,i)=>{const o=e(i),s=n.get(o);return s===void 0?n.set(o,[i]):s.push(i),n},new Map)}a(Hn,"groupBy");function Ra(t){let e=0;for(const r of t){if(r===0)return!0;if(e++,e>8e3)break}return!1}a(Ra,"isBinary");function Ri(t,e,r=n=>n){return[...t.reduce((i,o)=>{const s=e(o),l=i.get(s);if(l===void 0)i.set(s,o);else{const d=r(l,o);d!==void 0&&i.set(s,d)}return i},new Map).values()]}a(Ri,"uniqueBy");const ei=a(class{constructor(t,e,r,n,i){this.providerService=t,this.storageService=e,this.changeStore=r,this.workspaceId=n,this.context=i,this._onDidChange=new c.EventEmitter,this.cache=new Map,this.lock=new be("WorkspaceRepositories"),this.disposable=c.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),xe.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const t=await c.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void c.window.showTextDocument(t)}onConfigurationChanged(t){if(!xe.changed(t,"experimental.syncRecentList"))return;const e=xe.get("experimental.syncRecentList")===!0?[ei.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(t){const e=Ri(t.map(r=>r.rootUri),r=>x(r)).map(r=>this.providerService.getRepository(r)).filter(r=>Boolean(r));this.addOrUpdate(e)}onRepositoriesChanged(t){this.addOrUpdate(t.added)}onRepositoryChanged(t){this.addOrUpdate([t.repository])}async get(t){let e=await this.lock.synchronizeRead(async()=>{let r=this.cache.get("workspaceRepositories");return r===void 0&&(r=[...(await this.getCore()).values()].sort((n,i)=>i.timestamp-n.timestamp),this.cache.set("workspaceRepositories",r)),r},"WorkspaceRepositories.get");if(t){const r=x(t);e=e.filter(n=>x(n.canonicalUri)===r)}return e}async getCore(){return this.fromStorage(await this.storageService.get(ei.storageKey))}async getRecents(t=10){return(await this.get()).slice(0,t)}async getRemoteWorkspaceSourceProvider(t){const e=await this.getRecents();if(e.length!==0)return e.filter(r=>r.provider.id===t)}refresh(){this.cache.clear()}async remove(t){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),r=`${t.workspaceId}/${x(t.uri)}`,n=e.get(r);if(n===void 0)return;const i=this.changeStore.getScopedChangeStore(n),o=await i.getChanges(n.uri);if(o.length!==0){const s={title:c.l10n.t("Yes")},l={title:c.l10n.t("No"),isCloseAffordance:!0};if(await c.window.showWarningMessage(o.length===1?c.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):c.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,o.length),{modal:!0},s,l)!==s)return;await i.discardAll(n.uri)}this.cache.clear(),e.delete(r);try{await this.storageService.store(ei.storageKey,this.toStorage(e))}catch(s){throw J.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(t){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const r of t){const[{HEAD:n,pullRequest:i},o]=await Promise.all([r.getMetadata(),r.getIndexMetadata()]),s=await this.changeStore.getChanges(r.uri);e.set(`${this.workspaceId}/${x(r.uri)}`,{workspaceId:this.workspaceId,uri:r.uri,canonicalUri:r.canonicalUri,name:r.name,provider:r.provider,ref:{type:n.type,name:n.name},idx:(o==null?void 0:o.type)&&Ce.hasIndex(o.type)?{type:o.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:go(s),timestamp:Date.now()})}try{await this.storageService.store(ei.storageKey,this.toStorage(e))}catch(r){throw J.error(r,"Failed to save workspace repositories"),r}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(t){if(!t)return new Map;try{const e=JSON.parse(t,(r,n)=>(r==="uri"||r.endsWith("Uri"))&&R(n)?c.Uri.from(n):n);return new Map(e.workspaceRepositories)}catch(e){return J.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(t){const e={schemaVersion:ei.storageSchemaVersion,workspaceRepositories:[...t]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Ia=ei;Ia.storageKey="workspaceRepositories",Ia.storageSchemaVersion=1;function Ii(t){return t!==void 0&&(t.added!==0||t.changed!==0||t.deleted!==0)}a(Ii,"hasChanges");function ho(t){return Ii(t.changes)}a(ho,"hasUncommittedChanges");function go(t){let e=0,r=0,n=0;for(const i of t)switch(i.type){case G.Created:e++;break;case G.Changed:r++;break;case G.Deleted:n++;break}return e||r||n?{added:e,changed:r,deleted:n,timestamp:Date.now()}:void 0}a(go,"toChangesSummary");function ss(t,{compact:e=!0,preamble:r,separator:n=", ",short:i=!1,single:o=!1}={}){if(!Ii(t))return l10n.t("Everything up to date");const{added:s,changed:l,deleted:d}=t;if(o){const g=s+l+d;return g===1?l10n.t("{0} change",g):l10n.t("{0} changes",g)}let u=`${r!=null?r:""}`;return(s||!e)&&(u+=i?`+${s}`:s===1?l10n.t("{0} file added",s):l10n.t("{0} files added",s),(l||d||!e)&&(u+=n)),(l||!e)&&(u+=i?`~${l}`:l===1?l10n.t("{0} file changed",l):l10n.t("{0} files changed",l),(d||!e)&&(u+=n)),(d||!e)&&(u+=i?`-${d}`:d===1?l10n.t("{0} file deleted",d):l10n.t("{0} files deleted",d)),u}a(ss,"formatChangesSummary");var da=__webpack_require__(7360),po=__webpack_require__(919),ha=__webpack_require__.n(po),ga,sr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(sr||(sr={}));class en{constructor(){this[ga]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,r=sr.None){const n=this._map.get(e);if(!!n)return r!==sr.None&&this.touch(n,r),n.value}set(e,r,n=sr.None){let i=this._map.get(e);if(i)i.value=r,n!==sr.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case sr.None:this.addItemLast(i);break;case sr.First:this.addItemFirst(i);break;case sr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const r=this._map.get(e);if(!!r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){const n=this._state;let i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){const i={value:r.key,done:!1};return r=r.next,i}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){const i={value:r.value,done:!1};return r=r.next,i}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){const i={value:[r.key,r.value],done:!1};return r=r.next,i}return{value:void 0,done:!0}}};return n}[(ga=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==sr.First&&r!==sr.Last)){if(r===sr.First){if(e===this._head)return;const n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===sr.Last){if(e===this._tail)return;const n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(const[r,n]of e)this.set(r,n)}}a(en,"LinkedMap");class Fa extends en{constructor(e,r=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=sr.AsNew){return super.get(e,r)}peek(e){return super.get(e,sr.None)}set(e,r){return super.set(e,r,sr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(Fa,"LRUCache");function jr(t,e,r){if(!(e==null?void 0:e.length)&&!(r==null?void 0:r.length))return new Set(t);let n;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(s=>`${s}/**`)]),o=ha()(t,[...i],{dot:!0,nocase:!0});n=new Set(o)}if(r==null?void 0:r.length){const i=new Set([...r,...r.map(o=>`${o}/**`)]);if(n===void 0){const o=ha().not(t,[...i],{dot:!0,nocase:!0});n=new Set(o)}else ha()(t,[...i],{dot:!0,nocase:!0}).forEach(n.delete,n)}return n}a(jr,"globFilter");function ls(t,e={}){if(!t)return So;if(typeof t=="string"||ma(t)){const r=Oa(t,e);if(r===zn)return So;const n=a(function(i,o){return!!r(i,o)},"resultPattern");return r.allBasenames&&(n.allBasenames=r.allBasenames),r.allPaths&&(n.allPaths=r.allPaths),n}return M(t,e)}a(ls,"parse");function si(t,e,r=(n,i)=>n===i){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(!r(t[n],e[n]))return!1;return!0}a(si,"equals");function ti(t){return!!t&&typeof t.then=="function"}a(ti,"isThenable");function Fi(){return Object.create(null)}a(Fi,"getEmptyExpression");const Wn="**",vo="/",pa="[/\\\\]",Yi="[^/\\\\]",al=/\//g;function mo(t,e){switch(t){case 0:return"";case 1:return`${Yi}*?`;default:return`(?:${pa}|${Yi}+${pa}${e?`|${pa}${Yi}+`:""})*?`}}a(mo,"starsToRegExp");function _o(t,e){if(!t)return[];const r=[];let n=!1,i=!1,o="";for(const s of t){switch(s){case e:if(!n&&!i){r.push(o),o="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=s}return o&&r.push(o),r}a(_o,"splitGlobAware");function wo(t){if(!t)return"";let e="";const r=_o(t,vo);if(r.every(n=>n===Wn))e=".*";else{let n=!1;r.forEach((i,o)=>{if(i===Wn){if(n)return;e+=mo(2,o===r.length-1)}else{let s=!1,l="",d=!1,u="";for(const g of i){if(g!=="}"&&s){l+=g;continue}if(d&&(g!=="]"||!u)){let F;g==="-"?F=g:(g==="^"||g==="!")&&!u?F="^":g===vo?F="":F=escapeRegExpCharacters(g),u+=F;continue}switch(g){case"{":s=!0;continue;case"[":d=!0;continue;case"}":{e+=`(?:${_o(l,",").map(k=>wo(k)).join("|")})`,s=!1,l="";break}case"]":{e+="["+u+"]",d=!1,u="";break}case"?":e+=Yi;continue;case"*":e+=mo(1);continue;default:e+=escapeRegExpCharacters(g)}}o<r.length-1&&(r[o+1]!==Wn||o+2<r.length)&&(e+=pa)}n=i===Wn})}return e}a(wo,"parseRegExp");const us=/^\*\*\/\*\.[\w\.-]+$/,yo=/^\*\*\/([\w\.-]+)\/?$/,cs=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Eo=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,fs=/^\*\*((\/[\w\.-]+)+)\/?$/,ds=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,bo=new Fa(1e4),So=a(function(){return!1},"FALSE"),zn=a(function(){return null},"NULL");function Oa(t,e){if(!t)return zn;let r;typeof t!="string"?r=t.pattern:r=t,r=r.trim();const n=`${r}_${!!e.trimForExclusions}`;let i=bo.get(n);if(i)return jn(i,t);let o;return us.test(r)?i=va(r.substr(4),r):(o=yo.exec(Na(r,e)))?i=xo(o[1],r):(e.trimForExclusions?Eo:cs).test(r)?i=gs(r,e):(o=fs.exec(Na(r,e)))?i=Pa(o[1].substr(1),r,!0):(o=ds.exec(Na(r,e)))?i=Pa(o[1],r,!1):i=Co(r),bo.set(n,i),jn(i,t)}a(Oa,"parsePattern");function hs(t,e){if(!t||!e)return t;const r=e.length;if(r===0||t.length===0)return t;let n=0;for(;t.indexOf(e,n)===n;)n=n+r;return t.substring(n)}a(hs,"ltrim");function jn(t,e){if(typeof e=="string")return t;const r=a(function(n,i){return isDescendent(n,e.base)?t(hs(n.substr(e.base.length),"/"),i):null},"wrappedPattern");return r.allBasenames=t.allBasenames,r.allPaths=t.allPaths,r.basenames=t.basenames,r.patterns=t.patterns,r}a(jn,"wrapRelativePattern");function Na(t,e){return e.trimForExclusions&&t.endsWith("/**")?t.substr(0,t.length-2):t}a(Na,"trimForExclusions");function va(t,e){return function(r,n){return typeof r=="string"&&r.endsWith(t)?e:null}}a(va,"trivia1");function xo(t,e){const r=`/${t}`,n=`\\${t}`,i=a(function(s,l){return typeof s!="string"?null:l?l===t?e:null:s===t||s.endsWith(r)||s.endsWith(n)?e:null},"parsedPattern"),o=[t];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}a(xo,"trivia2");function gs(t,e){const r=H(t.slice(1,-1).split(",").map(l=>Oa(l,e)).filter(l=>l!==zn),t),n=r.length;if(!n)return zn;if(n===1)return r[0];const i=a(function(l,d){for(let u=0,g=r.length;u<g;u++)if(r[u](l,d))return t;return null},"parsedPattern"),o=r.find(l=>!!l.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=r.reduce((l,d)=>d.allPaths?l.concat(d.allPaths):l,[]);return s.length&&(i.allPaths=s),i}a(gs,"trivia3");function Pa(t,e,r){const n="/"+t;let i;return r?i=a(function(o,s){return typeof o=="string"&&o.endsWith(n)?e:null},"parsedPattern"):i=a(function(o,s){return null},"parsedPattern"),i.allPaths=[(r?"*/":"./")+t],i}a(Pa,"trivia4and5");function Co(t){try{const e=new RegExp(`^${wo(t)}$`);return function(r){return e.lastIndex=0,typeof r=="string"&&e.test(r)?t:null}}catch(e){return zn}}a(Co,"toRegExp");function To(t,e,r){return!t||typeof e!="string"?!1:ls(t)(e,void 0,r)}a(To,"match");function ma(t){const e=t;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(ma,"isRelativePattern");function ol(t){return t.allBasenames||[]}a(ol,"getBasenameTerms");function sl(t){return t.allPaths||[]}a(sl,"getPathTerms");function ps(t){let e=-1,r=0,n=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}continue}n===-1&&(i=!1,n=s+1),l===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===r+1?"":t.slice(e,n)}a(ps,"extname");function M(t,e){const r=H(Object.getOwnPropertyNames(t).map(l=>T(l,t[l],e)).filter(l=>l!==zn)),n=r.length;if(!n)return zn;if(!r.some(l=>!!l.requiresSiblings)){if(n===1)return r[0];const l=a(function(g,F){let A;for(let k=0,oe=r.length;k<oe;k++){const pe=r[k](g,F);if(typeof pe=="string")return pe;ti(pe)&&(A||(A=[]),A.push(pe))}return A?(async()=>{for(const k of A){const oe=await k;if(typeof oe=="string")return oe}return null})():null},"resultExpression2"),d=r.find(g=>!!g.allBasenames);d&&(l.allBasenames=d.allBasenames);const u=r.reduce((g,F)=>F.allPaths?g.concat(F.allPaths):g,[]);return u.length&&(l.allPaths=u),l}const i=a(function(l,d,u){let g,F;for(let A=0,k=r.length;A<k;A++){const oe=r[A];oe.requiresSiblings&&u&&(d||(d=basename(l)),g||(g=d.substr(0,d.length-ps(l).length)));const pe=oe(l,d,g,u);if(typeof pe=="string")return pe;ti(pe)&&(F||(F=[]),F.push(pe))}return F?(async()=>{for(const A of F){const k=await A;if(typeof k=="string")return k}return null})():null},"resultExpression"),o=r.find(l=>!!l.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=r.reduce((l,d)=>d.allPaths?l.concat(d.allPaths):l,[]);return s.length&&(i.allPaths=s),i}a(M,"parsedExpression");function T(t,e,r){if(e===!1)return zn;const n=Oa(t,r);if(n===zn)return zn;if(typeof e=="boolean")return n;if(e){const i=e.when;if(typeof i=="string"){const o=a((s,l,d,u)=>{if(!u||!n(s,l))return null;const g=i.replace("$(basename)",()=>d),F=u(g);return ti(F)?F.then(A=>A?t:null):F?t:null},"result");return o.requiresSiblings=!0,o}}return n}a(T,"parseExpressionPattern");function H(t,e){const r=t.filter(l=>!!l.basenames);if(r.length<2)return t;const n=r.reduce((l,d)=>{const u=d.basenames;return u?l.concat(u):l},[]);let i;if(e){i=[];for(let l=0,d=n.length;l<d;l++)i.push(e)}else i=r.reduce((l,d)=>{const u=d.patterns;return u?l.concat(u):l},[]);const o=a(function(l,d){if(typeof l!="string")return null;if(!d){let g;for(g=l.length;g>0;g--){const F=l.charCodeAt(g-1);if(F===47||F===92)break}d=l.substr(g)}const u=n.indexOf(d);return u!==-1?i[u]:null},"aggregate");o.basenames=n,o.patterns=i,o.allBasenames=n;const s=t.filter(l=>!l.basenames);return s.push(o),s}a(H,"aggregateBasenameMatches");function V(t,e){return si(t,e,(r,n)=>typeof r=="string"&&typeof n=="string"?r===n:typeof r!="string"&&typeof n!="string"?r.base===n.base&&r.pattern===n.pattern:!1)}a(V,"patternsEquals");const Ee=new TextDecoder,Fe=new TextEncoder;function ze(t){const e=Ee.decode(t).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const r={};for(const l of e){const[d,u]=l.split(" ");r[d]=u}if(!("oid"in r)||!("version"in r)||!("size"in r))return{oid:void 0,size:void 0,version:void 0};let{oid:n,size:i,version:o}=r;const s="sha256:";return n.startsWith(s)&&(n=n.substring(s.length)),{oid:n,size:Number(i),version:o}}a(ze,"parseLfsFile");function Ve(t,e){const r=t.getAttributesFor(e);return(r==null?void 0:r.filter)==="lfs"}a(Ve,"isLfsTrackedFile");function bt(t,e,r="https://git-lfs.github.com/spec/v1"){return Zr(Fe.encode(`version ${r}
oid sha256:${t}
size ${e.toString()}
`))}a(bt,"createLfsPointerFile");async function St(t){const e=await yt(t),r=t.byteLength;return{oid:e,size:r}}a(St,"getLfsOperation");const It="";function Vt(...t){if(t.length===1){const e=t[0];return e===void 0?It:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof c.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(t)}a(Vt,"serialize_defaultResolver");function ir(t){return(e,r,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$serialize$${r}`;n.value=function(...s){const l=s.length===0?o:`${o}$${(t!=null?t:Vt)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let d=this[l];const u=a(()=>i.apply(this,s),"run");return d===void 0?d=u():d=d.then(u,u),this[l]=d,d}}}a(ir,"serialize");function*Zt(t,e){for(const r of t)yield*e(r)}a(Zt,"flatMap");function*dr(t,e){for(const r of t)e(r)&&(yield r)}a(dr,"filter");function*lr(t,e){for(const r of t){const n=e(r);n!=null&&(yield n)}}a(lr,"filterMap");function je(t,e){for(const r of t)if(e(r))return r}a(je,"find");function qr(t,e){let r="";const n=t[Symbol.iterator]();let i=n.next();if(i.done)return r;for(;;){const o=i.value.toString();if(i=n.next(),i.done){r+=o;break}r+=o,r+=e}return r}a(qr,"join");function*Dn(t,e){for(const r of t)yield e(r)}a(Dn,"map");function qi(t,e){for(const r of t)if(e(r))return!0;return!1}a(qi,"some");function*Oi(...t){for(const e of t)for(const r of e)yield r}a(Oi,"union");function*ll(t){const e=new Set;for(const r of t)e.has(r)||(e.add(r),yield r)}a(ll,"unique");function Ao(t,e,r={}){if(!t)throw new Error("Cannot create regex from empty string");e||(t=pi(t)),r.wholeWord&&(/\B/.test(t.charAt(0))||(t=`\\b${t}`),/\B/.test(t.charAt(t.length-1))||(t=`${t}\\b`));let n="gmu";return r.matchCase||(n+="i"),new RegExp(t,n)}a(Ao,"createRegExp");let Vi,Zi,ka;const vs=a((t,e,r,n)=>{const i=`${e.join("--")};;;;${r.join("--")}`,o=t.map(l=>l.path).join("::");if(Vi===o&&i==Zi&&ka)return ka;const s=jr((n?t.filter(l=>l.size<n):t).map(l=>l.path),e,r);return Vi=o,Zi=i,ka=s,s},"generateIncludeSet"),Do=a((t,e,r,n)=>{var i;const o=[];let s;if(typeof t=="string")s=t;else{const g=t;if(g[0]==255&&g[1]==254)s=new TextDecoder("utf-16le").decode(g);else if(g[0]==254&&g[1]==255)s=new TextDecoder("utf-16be").decode(g);else if(s=new TextDecoder("utf8").decode(g),s.slice(0,1e3).includes("\uFFFD")&&g.includes(0))return[]}const l=[];let d=null,u=n.remainingResultQuota;for(;(u===void 0||u>=0)&&(d=r.exec(s));)l.push({matchStartIndex:d.index,matchedText:d[0]}),u!==void 0&&u--;if(l.length){const g=new Set,F=new Set,A=[],k=a(Ye=>s.slice(A[Ye].start,A[Ye].end),"readLine");let oe=0,pe=null;const Be=/\r?\n/g;for(;pe=Be.exec(s);)A.push({start:oe,end:pe.index}),oe=pe.index+pe[0].length;oe<s.length&&A.push({start:oe,end:s.length});let Ie=0;for(const{matchStartIndex:Ye,matchedText:tt}of l){if(u!==void 0&&u<0)break;for(;Boolean(A[Ie+1])&&Ye>A[Ie].end;)Ie++;let $e=Ie;for(;Boolean(A[$e+1])&&Ye+tt.length>A[$e].end;)$e++;if(n.beforeContext)for(let rt=Math.max(0,Ie-n.beforeContext);rt<Ie;rt++)g.add(rt);let it="",xt=0;for(let rt=Ie;rt<=$e;rt++){let Ft=k(rt);((i=n.previewOptions)==null?void 0:i.charsPerLine)&&Ft.length>n.previewOptions.charsPerLine&&(xt=Math.max(Ye-A[Ie].start-20,0),Ft=Ft.substr(xt,n.previewOptions.charsPerLine)),it+=`${Ft}
`,F.add(rt)}const at=new c.Range(Ie,Ye-A[Ie].start,$e,Ye+tt.length-A[$e].start),dt=new c.Range(0,Ye-A[Ie].start-xt,$e-Ie,Ye+tt.length-A[$e].start-($e===Ie?xt:0)),Pt={uri:c.Uri.file(e),ranges:at,preview:{text:it,matches:dt}};if(o.push(Pt),n.afterContext)for(let rt=$e+1;rt<=Math.min($e+n.afterContext,A.length-1);rt++)g.add(rt)}for(const Ye of g)F.has(Ye)||o.push({uri:c.Uri.file(e),text:k(Ye),lineNumber:Ye+1})}return o},"getFileResults");/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const La=4,_a=0,Ro=1,Ma=2;function li(t){let e=t.length;for(;--e>=0;)t[e]=0}a(li,"zero$1");const Io=0,wa=1,Fo=2,Oo=3,ms=258,Ba=29,Qi=256,Ni=Qi+1+Ba,Me=30,mt=19,At=2*Ni+1,Mt=15,cr=16,br=7,vr=256,an=16,on=17,sn=18,un=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Nn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ln=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),No=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ju=512,_i=new Array((Ni+2)*2);li(_i);const Ua=new Array(Me*2);li(Ua);const $a=new Array(Ju);li($a);const Ha=new Array(ms-Oo+1);li(Ha);const _s=new Array(Ba);li(_s);const Po=new Array(Me);li(Po);function ws(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}a(ws,"StaticTreeDesc");let ul,cl,fl;function ys(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}a(ys,"TreeDesc");const dl=a(t=>t<256?$a[t]:$a[256+(t>>>7)],"d_code"),Wa=a((t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},"put_short"),Rn=a((t,e,r)=>{t.bi_valid>cr-r?(t.bi_buf|=e<<t.bi_valid&65535,Wa(t,t.bi_buf),t.bi_buf=e>>cr-t.bi_valid,t.bi_valid+=r-cr):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},"send_bits"),ui=a((t,e,r)=>{Rn(t,r[e*2],r[e*2+1])},"send_code"),hl=a((t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},"bi_reverse"),ec=a(t=>{t.bi_valid===16?(Wa(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},"bi_flush"),tc=a((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,d=e.stat_desc.max_length;let u,g,F,A,k,oe,pe=0;for(A=0;A<=Mt;A++)t.bl_count[A]=0;for(r[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<At;u++)g=t.heap[u],A=r[r[g*2+1]*2+1]+1,A>d&&(A=d,pe++),r[g*2+1]=A,!(g>n)&&(t.bl_count[A]++,k=0,g>=l&&(k=s[g-l]),oe=r[g*2],t.opt_len+=oe*(A+k),o&&(t.static_len+=oe*(i[g*2+1]+k)));if(pe!==0){do{for(A=d-1;t.bl_count[A]===0;)A--;t.bl_count[A]--,t.bl_count[A+1]+=2,t.bl_count[d]--,pe-=2}while(pe>0);for(A=d;A!==0;A--)for(g=t.bl_count[A];g!==0;)F=t.heap[--u],!(F>n)&&(r[F*2+1]!==A&&(t.opt_len+=(A-r[F*2+1])*r[F*2],r[F*2+1]=A),g--)}},"gen_bitlen"),gl=a((t,e,r)=>{const n=new Array(Mt+1);let i=0,o,s;for(o=1;o<=Mt;o++)n[o]=i=i+r[o-1]<<1;for(s=0;s<=e;s++){let l=t[s*2+1];l!==0&&(t[s*2]=hl(n[l]++,l))}},"gen_codes"),rc=a(()=>{let t,e,r,n,i;const o=new Array(Mt+1);for(r=0,n=0;n<Ba-1;n++)for(_s[n]=r,t=0;t<1<<un[n];t++)Ha[r++]=n;for(Ha[r-1]=n,i=0,n=0;n<16;n++)for(Po[n]=i,t=0;t<1<<Nn[n];t++)$a[i++]=n;for(i>>=7;n<Me;n++)for(Po[n]=i<<7,t=0;t<1<<Nn[n]-7;t++)$a[256+i++]=n;for(e=0;e<=Mt;e++)o[e]=0;for(t=0;t<=143;)_i[t*2+1]=8,t++,o[8]++;for(;t<=255;)_i[t*2+1]=9,t++,o[9]++;for(;t<=279;)_i[t*2+1]=7,t++,o[7]++;for(;t<=287;)_i[t*2+1]=8,t++,o[8]++;for(gl(_i,Ni+1,o),t=0;t<Me;t++)Ua[t*2+1]=5,Ua[t*2]=hl(t,5);ul=new ws(_i,un,Qi+1,Ni,Mt),cl=new ws(Ua,Nn,0,Me,Mt),fl=new ws(new Array(0),ln,0,mt,br)},"tr_static_init"),pl=a(t=>{let e;for(e=0;e<Ni;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Me;e++)t.dyn_dtree[e*2]=0;for(e=0;e<mt;e++)t.bl_tree[e*2]=0;t.dyn_ltree[vr*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},"init_block"),vl=a(t=>{t.bi_valid>8?Wa(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},"bi_windup"),nc=a((t,e,r,n)=>{vl(t),n&&(Wa(t,r),Wa(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},"copy_block"),ml=a((t,e,r,n)=>{const i=e*2,o=r*2;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},"smaller"),Es=a((t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&ml(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!ml(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},"pqdownheap"),_l=a((t,e,r)=>{let n,i,o=0,s,l;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,n===0?ui(t,i,e):(s=Ha[i],ui(t,s+Qi+1,e),l=un[s],l!==0&&(i-=_s[s],Rn(t,i,l)),n--,s=dl(n),ui(t,s,r),l=Nn[s],l!==0&&(n-=Po[s],Rn(t,n,l)));while(o<t.last_lit);ui(t,vr,e)},"compress_block"),bs=a((t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,l,d=-1,u;for(t.heap_len=0,t.heap_max=At,s=0;s<o;s++)r[s*2]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=d<2?++d:0,r[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)Es(t,r,s);u=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Es(t,r,1),l=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=l,r[u*2]=r[s*2]+r[l*2],t.depth[u]=(t.depth[s]>=t.depth[l]?t.depth[s]:t.depth[l])+1,r[s*2+1]=r[l*2+1]=u,t.heap[1]=u++,Es(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],tc(t,e),gl(r,d,t.bl_count)},"build_tree"),wl=a((t,e,r)=>{let n,i=-1,o,s=e[0*2+1],l=0,d=7,u=4;for(s===0&&(d=138,u=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)o=s,s=e[(n+1)*2+1],!(++l<d&&o===s)&&(l<u?t.bl_tree[o*2]+=l:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[an*2]++):l<=10?t.bl_tree[on*2]++:t.bl_tree[sn*2]++,l=0,i=o,s===0?(d=138,u=3):o===s?(d=6,u=3):(d=7,u=4))},"scan_tree"),yl=a((t,e,r)=>{let n,i=-1,o,s=e[0*2+1],l=0,d=7,u=4;for(s===0&&(d=138,u=3),n=0;n<=r;n++)if(o=s,s=e[(n+1)*2+1],!(++l<d&&o===s)){if(l<u)do ui(t,o,t.bl_tree);while(--l!=0);else o!==0?(o!==i&&(ui(t,o,t.bl_tree),l--),ui(t,an,t.bl_tree),Rn(t,l-3,2)):l<=10?(ui(t,on,t.bl_tree),Rn(t,l-3,3)):(ui(t,sn,t.bl_tree),Rn(t,l-11,7));l=0,i=o,s===0?(d=138,u=3):o===s?(d=6,u=3):(d=7,u=4)}},"send_tree"),ic=a(t=>{let e;for(wl(t,t.dyn_ltree,t.l_desc.max_code),wl(t,t.dyn_dtree,t.d_desc.max_code),bs(t,t.bl_desc),e=mt-1;e>=3&&t.bl_tree[No[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},"build_bl_tree"),ac=a((t,e,r,n)=>{let i;for(Rn(t,e-257,5),Rn(t,r-1,5),Rn(t,n-4,4),i=0;i<n;i++)Rn(t,t.bl_tree[No[i]*2+1],3);yl(t,t.dyn_ltree,e-1),yl(t,t.dyn_dtree,r-1)},"send_all_trees"),oc=a(t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return _a;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Ro;for(r=32;r<Qi;r++)if(t.dyn_ltree[r*2]!==0)return Ro;return _a},"detect_data_type");let El=!1;const sc=a(t=>{El||(rc(),El=!0),t.l_desc=new ys(t.dyn_ltree,ul),t.d_desc=new ys(t.dyn_dtree,cl),t.bl_desc=new ys(t.bl_tree,fl),t.bi_buf=0,t.bi_valid=0,pl(t)},"_tr_init$1"),bl=a((t,e,r,n)=>{Rn(t,(Io<<1)+(n?1:0),3),nc(t,e,r,!0)},"_tr_stored_block$1"),lc=a(t=>{Rn(t,wa<<1,3),ui(t,vr,_i),ec(t)},"_tr_align$1"),uc=a((t,e,r,n)=>{let i,o,s=0;t.level>0?(t.strm.data_type===Ma&&(t.strm.data_type=oc(t)),bs(t,t.l_desc),bs(t,t.d_desc),s=ic(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&e!==-1?bl(t,e,r,n):t.strategy===La||o===i?(Rn(t,(wa<<1)+(n?1:0),3),_l(t,_i,Ua)):(Rn(t,(Fo<<1)+(n?1:0),3),ac(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),_l(t,t.dyn_ltree,t.dyn_dtree)),pl(t),n&&vl(t)},"_tr_flush_block$1"),cc=a((t,e,r)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(Ha[r]+Qi+1)*2]++,t.dyn_dtree[dl(e)*2]++),t.last_lit===t.lit_bufsize-1),"_tr_tally$1");var fc=sc,dc=bl,hc=uc,gc=cc,pc=lc,vc={_tr_init:fc,_tr_stored_block:dc,_tr_flush_block:hc,_tr_tally:gc,_tr_align:pc},za=a((t,e,r,n)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},"adler32");const mc=a(()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},"makeTable"),_c=new Uint32Array(mc());var fn=a((t,e,r,n)=>{const i=_c,o=n+r;t^=-1;for(let s=n;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},"crc32"),Xi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ji={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:wc,_tr_stored_block:yc,_tr_flush_block:Ec,_tr_tally:Pi,_tr_align:bc}=vc,{Z_NO_FLUSH:ea,Z_PARTIAL_FLUSH:Sc,Z_FULL_FLUSH:xc,Z_FINISH:ki,Z_BLOCK:Sl,Z_OK:ci,Z_STREAM_END:xl,Z_STREAM_ERROR:Kn,Z_DATA_ERROR:Cc,Z_BUF_ERROR:Ss,Z_DEFAULT_COMPRESSION:Tc,Z_FILTERED:Ac,Z_HUFFMAN_ONLY:ko,Z_RLE:Dc,Z_FIXED:Rc,Z_DEFAULT_STRATEGY:Ic,Z_UNKNOWN:Fc,Z_DEFLATED:Lo}=Ji,Oc=9,Nc=15,Pc=8,kc=29,xs=256+1+kc,Lc=30,Mc=19,Bc=2*xs+1,Uc=15,mr=3,Li=258,ri=Li+mr+1,$c=32,Mo=42,Cs=69,Bo=73,Uo=91,$o=103,ta=113,ja=666,cn=1,Ka=2,ra=3,ya=4,Hc=3,Mi=a((t,e)=>(t.msg=Xi[e],e),"err"),Cl=a(t=>(t<<1)-(t>4?9:0),"rank"),Bi=a(t=>{let e=t.length;for(;--e>=0;)t[e]=0},"zero");let Ui=a((t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,"HASH_ZLIB");const $i=a(t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},"flush_pending"),gn=a((t,e)=>{Ec(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,$i(t.strm)},"flush_block_only"),Sr=a((t,e)=>{t.pending_buf[t.pending++]=e},"put_byte"),Ga=a((t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},"putShortMSB"),Wc=a((t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=za(t.adler,e,i,r):t.state.wrap===2&&(t.adler=fn(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},"read_buf"),Tl=a((t,e)=>{let r=t.max_chain_length,n=t.strstart,i,o,s=t.prev_length,l=t.nice_match;const d=t.strstart>t.w_size-ri?t.strstart-(t.w_size-ri):0,u=t.window,g=t.w_mask,F=t.prev,A=t.strstart+Li;let k=u[n+s-1],oe=u[n+s];t.prev_length>=t.good_match&&(r>>=2),l>t.lookahead&&(l=t.lookahead);do if(i=e,!(u[i+s]!==oe||u[i+s-1]!==k||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<A);if(o=Li-(A-n),n=A-Li,o>s){if(t.match_start=e,s=o,o>=l)break;k=u[n+s-1],oe=u[n+s]}}while((e=F[e&g])>d&&--r!=0);return s<=t.lookahead?s:t.lookahead},"longest_match"),na=a(t=>{const e=t.w_size;let r,n,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ri)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);o+=e}if(t.strm.avail_in===0)break;if(n=Wc(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=mr)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Ui(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Ui(t,t.ins_h,t.window[s+mr-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<mr)););}while(t.lookahead<ri&&t.strm.avail_in!==0)},"fill_window"),zc=a((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(na(t),t.lookahead===0&&e===ea)return cn;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,gn(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-ri&&(gn(t,!1),t.strm.avail_out===0))return cn}return t.insert=0,e===ki?(gn(t,!0),t.strm.avail_out===0?ra:ya):(t.strstart>t.block_start&&(gn(t,!1),t.strm.avail_out===0),cn)},"deflate_stored"),Ts=a((t,e)=>{let r,n;for(;;){if(t.lookahead<ri){if(na(t),t.lookahead<ri&&e===ea)return cn;if(t.lookahead===0)break}if(r=0,t.lookahead>=mr&&(t.ins_h=Ui(t,t.ins_h,t.window[t.strstart+mr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ri&&(t.match_length=Tl(t,r)),t.match_length>=mr)if(n=Pi(t,t.strstart-t.match_start,t.match_length-mr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=mr){t.match_length--;do t.strstart++,t.ins_h=Ui(t,t.ins_h,t.window[t.strstart+mr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ui(t,t.ins_h,t.window[t.strstart+1]);else n=Pi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(gn(t,!1),t.strm.avail_out===0))return cn}return t.insert=t.strstart<mr-1?t.strstart:mr-1,e===ki?(gn(t,!0),t.strm.avail_out===0?ra:ya):t.last_lit&&(gn(t,!1),t.strm.avail_out===0)?cn:Ka},"deflate_fast"),Ea=a((t,e)=>{let r,n,i;for(;;){if(t.lookahead<ri){if(na(t),t.lookahead<ri&&e===ea)return cn;if(t.lookahead===0)break}if(r=0,t.lookahead>=mr&&(t.ins_h=Ui(t,t.ins_h,t.window[t.strstart+mr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=mr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ri&&(t.match_length=Tl(t,r),t.match_length<=5&&(t.strategy===Ac||t.match_length===mr&&t.strstart-t.match_start>4096)&&(t.match_length=mr-1)),t.prev_length>=mr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-mr,n=Pi(t,t.strstart-1-t.prev_match,t.prev_length-mr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Ui(t,t.ins_h,t.window[t.strstart+mr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=mr-1,t.strstart++,n&&(gn(t,!1),t.strm.avail_out===0))return cn}else if(t.match_available){if(n=Pi(t,0,t.window[t.strstart-1]),n&&gn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return cn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Pi(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<mr-1?t.strstart:mr-1,e===ki?(gn(t,!0),t.strm.avail_out===0?ra:ya):t.last_lit&&(gn(t,!1),t.strm.avail_out===0)?cn:Ka},"deflate_slow"),jc=a((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=Li){if(na(t),t.lookahead<=Li&&e===ea)return cn;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=mr&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+Li;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=Li-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=mr?(r=Pi(t,1,t.match_length-mr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Pi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(gn(t,!1),t.strm.avail_out===0))return cn}return t.insert=0,e===ki?(gn(t,!0),t.strm.avail_out===0?ra:ya):t.last_lit&&(gn(t,!1),t.strm.avail_out===0)?cn:Ka},"deflate_rle"),Kc=a((t,e)=>{let r;for(;;){if(t.lookahead===0&&(na(t),t.lookahead===0)){if(e===ea)return cn;break}if(t.match_length=0,r=Pi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(gn(t,!1),t.strm.avail_out===0))return cn}return t.insert=0,e===ki?(gn(t,!0),t.strm.avail_out===0?ra:ya):t.last_lit&&(gn(t,!1),t.strm.avail_out===0)?cn:Ka},"deflate_huff");function fi(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}a(fi,"Config");const Ya=[new fi(0,0,0,0,zc),new fi(4,4,8,4,Ts),new fi(4,5,16,8,Ts),new fi(4,6,32,32,Ts),new fi(4,4,16,16,Ea),new fi(8,16,32,32,Ea),new fi(8,16,128,128,Ea),new fi(8,32,128,256,Ea),new fi(32,128,258,1024,Ea),new fi(32,258,258,4096,Ea)],Gc=a(t=>{t.window_size=2*t.w_size,Bi(t.head),t.max_lazy_match=Ya[t.level].max_lazy,t.good_match=Ya[t.level].good_length,t.nice_match=Ya[t.level].nice_length,t.max_chain_length=Ya[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=mr-1,t.match_available=0,t.ins_h=0},"lm_init");function Yc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Lo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Bc*2),this.dyn_dtree=new Uint16Array((2*Lc+1)*2),this.bl_tree=new Uint16Array((2*Mc+1)*2),Bi(this.dyn_ltree),Bi(this.dyn_dtree),Bi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Uc+1),this.heap=new Uint16Array(2*xs+1),Bi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*xs+1),Bi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}a(Yc,"DeflateState");const Al=a(t=>{if(!t||!t.state)return Mi(t,Kn);t.total_in=t.total_out=0,t.data_type=Fc;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Mo:ta,t.adler=e.wrap===2?0:1,e.last_flush=ea,wc(e),ci},"deflateResetKeep"),Dl=a(t=>{const e=Al(t);return e===ci&&Gc(t.state),e},"deflateReset"),qc=a((t,e)=>!t||!t.state||t.state.wrap!==2?Kn:(t.state.gzhead=e,ci),"deflateSetHeader"),Rl=a((t,e,r,n,i,o)=>{if(!t)return Kn;let s=1;if(e===Tc&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>Oc||r!==Lo||n<8||n>15||e<0||e>9||o<0||o>Rc)return Mi(t,Kn);n===8&&(n=9);const l=new Yc;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+mr-1)/mr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=e,l.strategy=o,l.method=r,Dl(t)},"deflateInit2"),Vc=a((t,e)=>Rl(t,e,Lo,Nc,Pc,Ic),"deflateInit"),Zc=a((t,e)=>{let r,n;if(!t||!t.state||e>Sl||e<0)return t?Mi(t,Kn):Kn;const i=t.state;if(!t.output||!t.input&&t.avail_in!==0||i.status===ja&&e!==ki)return Mi(t,t.avail_out===0?Ss:Kn);i.strm=t;const o=i.last_flush;if(i.last_flush=e,i.status===Mo)if(i.wrap===2)t.adler=0,Sr(i,31),Sr(i,139),Sr(i,8),i.gzhead?(Sr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Sr(i,i.gzhead.time&255),Sr(i,i.gzhead.time>>8&255),Sr(i,i.gzhead.time>>16&255),Sr(i,i.gzhead.time>>24&255),Sr(i,i.level===9?2:i.strategy>=ko||i.level<2?4:0),Sr(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Sr(i,i.gzhead.extra.length&255),Sr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=fn(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Cs):(Sr(i,0),Sr(i,0),Sr(i,0),Sr(i,0),Sr(i,0),Sr(i,i.level===9?2:i.strategy>=ko||i.level<2?4:0),Sr(i,Hc),i.status=ta);else{let s=Lo+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=ko||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,s|=l<<6,i.strstart!==0&&(s|=$c),s+=31-s%31,i.status=ta,Ga(i,s),i.strstart!==0&&(Ga(i,t.adler>>>16),Ga(i,t.adler&65535)),t.adler=1}if(i.status===Cs)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=fn(t.adler,i.pending_buf,i.pending-r,r)),$i(t),r=i.pending,i.pending===i.pending_buf_size));)Sr(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=fn(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Bo)}else i.status=Bo;if(i.status===Bo)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=fn(t.adler,i.pending_buf,i.pending-r,r)),$i(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.name.length?n=i.gzhead.name.charCodeAt(i.gzindex++)&255:n=0,Sr(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(t.adler=fn(t.adler,i.pending_buf,i.pending-r,r)),n===0&&(i.gzindex=0,i.status=Uo)}else i.status=Uo;if(i.status===Uo)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=fn(t.adler,i.pending_buf,i.pending-r,r)),$i(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.comment.length?n=i.gzhead.comment.charCodeAt(i.gzindex++)&255:n=0,Sr(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(t.adler=fn(t.adler,i.pending_buf,i.pending-r,r)),n===0&&(i.status=$o)}else i.status=$o;if(i.status===$o&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&$i(t),i.pending+2<=i.pending_buf_size&&(Sr(i,t.adler&255),Sr(i,t.adler>>8&255),t.adler=0,i.status=ta)):i.status=ta),i.pending!==0){if($i(t),t.avail_out===0)return i.last_flush=-1,ci}else if(t.avail_in===0&&Cl(e)<=Cl(o)&&e!==ki)return Mi(t,Ss);if(i.status===ja&&t.avail_in!==0)return Mi(t,Ss);if(t.avail_in!==0||i.lookahead!==0||e!==ea&&i.status!==ja){let s=i.strategy===ko?Kc(i,e):i.strategy===Dc?jc(i,e):Ya[i.level].func(i,e);if((s===ra||s===ya)&&(i.status=ja),s===cn||s===ra)return t.avail_out===0&&(i.last_flush=-1),ci;if(s===Ka&&(e===Sc?bc(i):e!==Sl&&(yc(i,0,0,!1),e===xc&&(Bi(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),$i(t),t.avail_out===0))return i.last_flush=-1,ci}return e!==ki?ci:i.wrap<=0?xl:(i.wrap===2?(Sr(i,t.adler&255),Sr(i,t.adler>>8&255),Sr(i,t.adler>>16&255),Sr(i,t.adler>>24&255),Sr(i,t.total_in&255),Sr(i,t.total_in>>8&255),Sr(i,t.total_in>>16&255),Sr(i,t.total_in>>24&255)):(Ga(i,t.adler>>>16),Ga(i,t.adler&65535)),$i(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?ci:xl)},"deflate$2"),Qc=a(t=>{if(!t||!t.state)return Kn;const e=t.state.status;return e!==Mo&&e!==Cs&&e!==Bo&&e!==Uo&&e!==$o&&e!==ta&&e!==ja?Mi(t,Kn):(t.state=null,e===ta?Mi(t,Cc):ci)},"deflateEnd"),Xc=a((t,e)=>{let r=e.length;if(!t||!t.state)return Kn;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==Mo||n.lookahead)return Kn;if(i===1&&(t.adler=za(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Bi(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(e.subarray(r-n.w_size,r),0),e=d,r=n.w_size}const o=t.avail_in,s=t.next_in,l=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,na(n);n.lookahead>=mr;){let d=n.strstart,u=n.lookahead-(mr-1);do n.ins_h=Ui(n,n.ins_h,n.window[d+mr-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--u);n.strstart=d,n.lookahead=mr-1,na(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=mr-1,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=o,n.wrap=i,ci},"deflateSetDictionary");var Jc=Vc,ef=Rl,tf=Dl,rf=Al,nf=qc,af=Zc,of=Qc,sf=Xc,lf="pako deflate (from Nodeca project)",qa={deflateInit:Jc,deflateInit2:ef,deflateReset:tf,deflateResetKeep:rf,deflateSetHeader:nf,deflate:af,deflateEnd:of,deflateSetDictionary:sf,deflateInfo:lf};const uf=a((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"_has");var cf=a(function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)uf(r,n)&&(t[n]=r[n])}}return t},"pako_esm_assign"),ff=a(t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let s=t[n];r.set(s,i),i+=s.length}return r},"flattenChunks"),Ho={assign:cf,flattenChunks:ff};let Il=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Il=!1}const Va=new Uint8Array(256);for(let t=0;t<256;t++)Va[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Va[254]=Va[254]=1;var df=a(t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,o,s=t.length,l=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)==55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)==56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),o=0,i=0;o<l;i++)r=t.charCodeAt(i),(r&64512)==55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)==56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e},"string2buf");const hf=a((t,e)=>{if(e<65534&&t.subarray&&Il)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r},"buf2binstring");var gf=a((t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){o[i++]=s;continue}let l=Va[s];if(l>4){o[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return hf(o,i)},"buf2string"),pf=a((t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)==128;)r--;return r<0||r===0?e:r+Va[t[r]]>e?r:e},"utf8border"),Za={string2buf:df,buf2string:gf,utf8border:pf};function vf(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a(vf,"ZStream");var Fl=vf;const Ol=Object.prototype.toString,{Z_NO_FLUSH:mf,Z_SYNC_FLUSH:_f,Z_FULL_FLUSH:wf,Z_FINISH:yf,Z_OK:Wo,Z_STREAM_END:Ef,Z_DEFAULT_COMPRESSION:bf,Z_DEFAULT_STRATEGY:Sf,Z_DEFLATED:xf}=Ji;function Qa(t){this.options=Ho.assign({level:bf,method:xf,chunkSize:16384,windowBits:15,memLevel:8,strategy:Sf},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fl,this.strm.avail_out=0;let r=qa.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Wo)throw new Error(Xi[r]);if(e.header&&qa.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=Za.string2buf(e.dictionary):Ol.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=qa.deflateSetDictionary(this.strm,n),r!==Wo)throw new Error(Xi[r]);this._dict_set=!0}}a(Qa,"Deflate$1"),Qa.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?yf:mf,typeof t=="string"?r.input=Za.string2buf(t):Ol.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===_f||o===wf)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=qa.deflate(r,o),i===Ef)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=qa.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Wo;if(r.avail_out===0){this.onData(r.output);continue}if(o>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0},Qa.prototype.onData=function(t){this.chunks.push(t)},Qa.prototype.onEnd=function(t){t===Wo&&(this.result=Ho.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function As(t,e){const r=new Qa(e);if(r.push(t,!0),r.err)throw r.msg||Xi[r.err];return r.result}a(As,"deflate$1");function Cf(t,e){return e=e||{},e.raw=!0,As(t,e)}a(Cf,"deflateRaw$1");function Tf(t,e){return e=e||{},e.gzip=!0,As(t,e)}a(Tf,"gzip$1");var Af=Qa,Df=As,Rf=Cf,If=Tf,Ff=Ji,Of={Deflate:Af,deflate:Df,deflateRaw:Rf,gzip:If,constants:Ff};const zo=30,Nf=12;var Pf=a(function(e,r){let n,i,o,s,l,d,u,g,F,A,k,oe,pe,Be,Ie,Ye,tt,$e,it,xt,at,dt,Pt,rt;const Ft=e.state;n=e.next_in,Pt=e.input,i=n+(e.avail_in-5),o=e.next_out,rt=e.output,s=o-(r-e.avail_out),l=o+(e.avail_out-257),d=Ft.dmax,u=Ft.wsize,g=Ft.whave,F=Ft.wnext,A=Ft.window,k=Ft.hold,oe=Ft.bits,pe=Ft.lencode,Be=Ft.distcode,Ie=(1<<Ft.lenbits)-1,Ye=(1<<Ft.distbits)-1;e:do{oe<15&&(k+=Pt[n++]<<oe,oe+=8,k+=Pt[n++]<<oe,oe+=8),tt=pe[k&Ie];t:for(;;){if($e=tt>>>24,k>>>=$e,oe-=$e,$e=tt>>>16&255,$e===0)rt[o++]=tt&65535;else if($e&16){it=tt&65535,$e&=15,$e&&(oe<$e&&(k+=Pt[n++]<<oe,oe+=8),it+=k&(1<<$e)-1,k>>>=$e,oe-=$e),oe<15&&(k+=Pt[n++]<<oe,oe+=8,k+=Pt[n++]<<oe,oe+=8),tt=Be[k&Ye];r:for(;;){if($e=tt>>>24,k>>>=$e,oe-=$e,$e=tt>>>16&255,$e&16){if(xt=tt&65535,$e&=15,oe<$e&&(k+=Pt[n++]<<oe,oe+=8,oe<$e&&(k+=Pt[n++]<<oe,oe+=8)),xt+=k&(1<<$e)-1,xt>d){e.msg="invalid distance too far back",Ft.mode=zo;break e}if(k>>>=$e,oe-=$e,$e=o-s,xt>$e){if($e=xt-$e,$e>g&&Ft.sane){e.msg="invalid distance too far back",Ft.mode=zo;break e}if(at=0,dt=A,F===0){if(at+=u-$e,$e<it){it-=$e;do rt[o++]=A[at++];while(--$e);at=o-xt,dt=rt}}else if(F<$e){if(at+=u+F-$e,$e-=F,$e<it){it-=$e;do rt[o++]=A[at++];while(--$e);if(at=0,F<it){$e=F,it-=$e;do rt[o++]=A[at++];while(--$e);at=o-xt,dt=rt}}}else if(at+=F-$e,$e<it){it-=$e;do rt[o++]=A[at++];while(--$e);at=o-xt,dt=rt}for(;it>2;)rt[o++]=dt[at++],rt[o++]=dt[at++],rt[o++]=dt[at++],it-=3;it&&(rt[o++]=dt[at++],it>1&&(rt[o++]=dt[at++]))}else{at=o-xt;do rt[o++]=rt[at++],rt[o++]=rt[at++],rt[o++]=rt[at++],it-=3;while(it>2);it&&(rt[o++]=rt[at++],it>1&&(rt[o++]=rt[at++]))}}else if(($e&64)==0){tt=Be[(tt&65535)+(k&(1<<$e)-1)];continue r}else{e.msg="invalid distance code",Ft.mode=zo;break e}break}}else if(($e&64)==0){tt=pe[(tt&65535)+(k&(1<<$e)-1)];continue t}else if($e&32){Ft.mode=Nf;break e}else{e.msg="invalid literal/length code",Ft.mode=zo;break e}break}}while(n<i&&o<l);it=oe>>3,n-=it,oe-=it<<3,k&=(1<<oe)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<l?257+(l-o):257-(o-l),Ft.hold=k,Ft.bits=oe},"inflate_fast");const ba=15,Nl=852,Pl=592,kl=0,Ds=1,Ll=2,kf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Lf=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mf=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bf=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Xa=a((t,e,r,n,i,o,s,l)=>{const d=l.bits;let u=0,g=0,F=0,A=0,k=0,oe=0,pe=0,Be=0,Ie=0,Ye=0,tt,$e,it,xt,at,dt=null,Pt=0,rt;const Ft=new Uint16Array(ba+1),hr=new Uint16Array(ba+1);let Qr=null,Vr=0,bi,kn,Si;for(u=0;u<=ba;u++)Ft[u]=0;for(g=0;g<n;g++)Ft[e[r+g]]++;for(k=d,A=ba;A>=1&&Ft[A]===0;A--);if(k>A&&(k=A),A===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,l.bits=1,0;for(F=1;F<A&&Ft[F]===0;F++);for(k<F&&(k=F),Be=1,u=1;u<=ba;u++)if(Be<<=1,Be-=Ft[u],Be<0)return-1;if(Be>0&&(t===kl||A!==1))return-1;for(hr[1]=0,u=1;u<ba;u++)hr[u+1]=hr[u]+Ft[u];for(g=0;g<n;g++)e[r+g]!==0&&(s[hr[e[r+g]]++]=g);if(t===kl?(dt=Qr=s,rt=19):t===Ds?(dt=kf,Pt-=257,Qr=Lf,Vr-=257,rt=256):(dt=Mf,Qr=Bf,rt=-1),Ye=0,g=0,u=F,at=o,oe=k,pe=0,it=-1,Ie=1<<k,xt=Ie-1,t===Ds&&Ie>Nl||t===Ll&&Ie>Pl)return 1;for(;;){bi=u-pe,s[g]<rt?(kn=0,Si=s[g]):s[g]>rt?(kn=Qr[Vr+s[g]],Si=dt[Pt+s[g]]):(kn=32+64,Si=0),tt=1<<u-pe,$e=1<<oe,F=$e;do $e-=tt,i[at+(Ye>>pe)+$e]=bi<<24|kn<<16|Si|0;while($e!==0);for(tt=1<<u-1;Ye&tt;)tt>>=1;if(tt!==0?(Ye&=tt-1,Ye+=tt):Ye=0,g++,--Ft[u]==0){if(u===A)break;u=e[r+s[g]]}if(u>k&&(Ye&xt)!==it){for(pe===0&&(pe=k),at+=F,oe=u-pe,Be=1<<oe;oe+pe<A&&(Be-=Ft[oe+pe],!(Be<=0));)oe++,Be<<=1;if(Ie+=1<<oe,t===Ds&&Ie>Nl||t===Ll&&Ie>Pl)return 1;it=Ye&xt,i[it]=k<<24|oe<<16|at-o|0}}return Ye!==0&&(i[at+Ye]=u-pe<<24|64<<16|0),l.bits=k,0},"inflate_table");const Uf=0,Ml=1,Bl=2,{Z_FINISH:Ul,Z_BLOCK:$f,Z_TREES:jo,Z_OK:ia,Z_STREAM_END:Hf,Z_NEED_DICT:Wf,Z_STREAM_ERROR:Gn,Z_DATA_ERROR:$l,Z_MEM_ERROR:Hl,Z_BUF_ERROR:zf,Z_DEFLATED:Wl}=Ji,zl=1,jl=2,Kl=3,Gl=4,Yl=5,ql=6,Vl=7,Zl=8,Ql=9,Xl=10,Ko=11,wi=12,Rs=13,Jl=14,Is=15,eu=16,tu=17,ru=18,nu=19,Go=20,Yo=21,iu=22,au=23,ou=24,su=25,lu=26,Fs=27,uu=28,cu=29,Kr=30,fu=31,jf=32,Kf=852,Gf=592,Yf=15,du=a(t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24),"zswap32");function qf(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}a(qf,"InflateState");const hu=a(t=>{if(!t||!t.state)return Gn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=zl,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Kf),e.distcode=e.distdyn=new Int32Array(Gf),e.sane=1,e.back=-1,ia},"inflateResetKeep"),gu=a(t=>{if(!t||!t.state)return Gn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,hu(t)},"inflateReset"),pu=a((t,e)=>{let r;if(!t||!t.state)return Gn;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Gn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,gu(t))},"inflateReset2"),vu=a((t,e)=>{if(!t)return Gn;const r=new qf;t.state=r,r.window=null;const n=pu(t,e);return n!==ia&&(t.state=null),n},"inflateInit2"),Vf=a(t=>vu(t,Yf),"inflateInit");let mu=!0,Os,Ns;const Zf=a(t=>{if(mu){Os=new Int32Array(512),Ns=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Xa(Ml,t.lens,0,288,Os,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Xa(Bl,t.lens,0,32,Ns,0,t.work,{bits:5}),mu=!1}t.lencode=Os,t.lenbits=9,t.distcode=Ns,t.distbits=5},"fixedtables"),_u=a((t,e,r,n)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},"updatewindow"),Qf=a((t,e)=>{let r,n,i,o,s,l,d,u,g,F,A,k,oe,pe,Be=0,Ie,Ye,tt,$e,it,xt,at,dt;const Pt=new Uint8Array(4);let rt,Ft;const hr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Gn;r=t.state,r.mode===wi&&(r.mode=Rs),s=t.next_out,i=t.output,d=t.avail_out,o=t.next_in,n=t.input,l=t.avail_in,u=r.hold,g=r.bits,F=l,A=d,dt=ia;e:for(;;)switch(r.mode){case zl:if(r.wrap===0){r.mode=Rs;break}for(;g<16;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(r.wrap&2&&u===35615){r.check=0,Pt[0]=u&255,Pt[1]=u>>>8&255,r.check=fn(r.check,Pt,2,0),u=0,g=0,r.mode=jl;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Kr;break}if((u&15)!==Wl){t.msg="unknown compression method",r.mode=Kr;break}if(u>>>=4,g-=4,at=(u&15)+8,r.wbits===0)r.wbits=at;else if(at>r.wbits){t.msg="invalid window size",r.mode=Kr;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=u&512?Xl:wi,u=0,g=0;break;case jl:for(;g<16;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(r.flags=u,(r.flags&255)!==Wl){t.msg="unknown compression method",r.mode=Kr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Kr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(Pt[0]=u&255,Pt[1]=u>>>8&255,r.check=fn(r.check,Pt,2,0)),u=0,g=0,r.mode=Kl;case Kl:for(;g<32;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}r.head&&(r.head.time=u),r.flags&512&&(Pt[0]=u&255,Pt[1]=u>>>8&255,Pt[2]=u>>>16&255,Pt[3]=u>>>24&255,r.check=fn(r.check,Pt,4,0)),u=0,g=0,r.mode=Gl;case Gl:for(;g<16;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(Pt[0]=u&255,Pt[1]=u>>>8&255,r.check=fn(r.check,Pt,2,0)),u=0,g=0,r.mode=Yl;case Yl:if(r.flags&1024){for(;g<16;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(Pt[0]=u&255,Pt[1]=u>>>8&255,r.check=fn(r.check,Pt,2,0)),u=0,g=0}else r.head&&(r.head.extra=null);r.mode=ql;case ql:if(r.flags&1024&&(k=r.length,k>l&&(k=l),k&&(r.head&&(at=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+k),at)),r.flags&512&&(r.check=fn(r.check,n,k,o)),l-=k,o+=k,r.length-=k),r.length))break e;r.length=0,r.mode=Vl;case Vl:if(r.flags&2048){if(l===0)break e;k=0;do at=n[o+k++],r.head&&at&&r.length<65536&&(r.head.name+=String.fromCharCode(at));while(at&&k<l);if(r.flags&512&&(r.check=fn(r.check,n,k,o)),l-=k,o+=k,at)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Zl;case Zl:if(r.flags&4096){if(l===0)break e;k=0;do at=n[o+k++],r.head&&at&&r.length<65536&&(r.head.comment+=String.fromCharCode(at));while(at&&k<l);if(r.flags&512&&(r.check=fn(r.check,n,k,o)),l-=k,o+=k,at)break e}else r.head&&(r.head.comment=null);r.mode=Ql;case Ql:if(r.flags&512){for(;g<16;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Kr;break}u=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=wi;break;case Xl:for(;g<32;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}t.adler=r.check=du(u),u=0,g=0,r.mode=Ko;case Ko:if(r.havedict===0)return t.next_out=s,t.avail_out=d,t.next_in=o,t.avail_in=l,r.hold=u,r.bits=g,Wf;t.adler=r.check=1,r.mode=wi;case wi:if(e===$f||e===jo)break e;case Rs:if(r.last){u>>>=g&7,g-=g&7,r.mode=Fs;break}for(;g<3;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}switch(r.last=u&1,u>>>=1,g-=1,u&3){case 0:r.mode=Jl;break;case 1:if(Zf(r),r.mode=Go,e===jo){u>>>=2,g-=2;break e}break;case 2:r.mode=tu;break;case 3:t.msg="invalid block type",r.mode=Kr}u>>>=2,g-=2;break;case Jl:for(u>>>=g&7,g-=g&7;g<32;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if((u&65535)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Kr;break}if(r.length=u&65535,u=0,g=0,r.mode=Is,e===jo)break e;case Is:r.mode=eu;case eu:if(k=r.length,k){if(k>l&&(k=l),k>d&&(k=d),k===0)break e;i.set(n.subarray(o,o+k),s),l-=k,o+=k,d-=k,s+=k,r.length-=k;break}r.mode=wi;break;case tu:for(;g<14;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(r.nlen=(u&31)+257,u>>>=5,g-=5,r.ndist=(u&31)+1,u>>>=5,g-=5,r.ncode=(u&15)+4,u>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Kr;break}r.have=0,r.mode=ru;case ru:for(;r.have<r.ncode;){for(;g<3;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}r.lens[hr[r.have++]]=u&7,u>>>=3,g-=3}for(;r.have<19;)r.lens[hr[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,rt={bits:r.lenbits},dt=Xa(Uf,r.lens,0,19,r.lencode,0,r.work,rt),r.lenbits=rt.bits,dt){t.msg="invalid code lengths set",r.mode=Kr;break}r.have=0,r.mode=nu;case nu:for(;r.have<r.nlen+r.ndist;){for(;Be=r.lencode[u&(1<<r.lenbits)-1],Ie=Be>>>24,Ye=Be>>>16&255,tt=Be&65535,!(Ie<=g);){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(tt<16)u>>>=Ie,g-=Ie,r.lens[r.have++]=tt;else{if(tt===16){for(Ft=Ie+2;g<Ft;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(u>>>=Ie,g-=Ie,r.have===0){t.msg="invalid bit length repeat",r.mode=Kr;break}at=r.lens[r.have-1],k=3+(u&3),u>>>=2,g-=2}else if(tt===17){for(Ft=Ie+3;g<Ft;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}u>>>=Ie,g-=Ie,at=0,k=3+(u&7),u>>>=3,g-=3}else{for(Ft=Ie+7;g<Ft;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}u>>>=Ie,g-=Ie,at=0,k=11+(u&127),u>>>=7,g-=7}if(r.have+k>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Kr;break}for(;k--;)r.lens[r.have++]=at}}if(r.mode===Kr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Kr;break}if(r.lenbits=9,rt={bits:r.lenbits},dt=Xa(Ml,r.lens,0,r.nlen,r.lencode,0,r.work,rt),r.lenbits=rt.bits,dt){t.msg="invalid literal/lengths set",r.mode=Kr;break}if(r.distbits=6,r.distcode=r.distdyn,rt={bits:r.distbits},dt=Xa(Bl,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,rt),r.distbits=rt.bits,dt){t.msg="invalid distances set",r.mode=Kr;break}if(r.mode=Go,e===jo)break e;case Go:r.mode=Yo;case Yo:if(l>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=o,t.avail_in=l,r.hold=u,r.bits=g,Pf(t,A),s=t.next_out,i=t.output,d=t.avail_out,o=t.next_in,n=t.input,l=t.avail_in,u=r.hold,g=r.bits,r.mode===wi&&(r.back=-1);break}for(r.back=0;Be=r.lencode[u&(1<<r.lenbits)-1],Ie=Be>>>24,Ye=Be>>>16&255,tt=Be&65535,!(Ie<=g);){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(Ye&&(Ye&240)==0){for($e=Ie,it=Ye,xt=tt;Be=r.lencode[xt+((u&(1<<$e+it)-1)>>$e)],Ie=Be>>>24,Ye=Be>>>16&255,tt=Be&65535,!($e+Ie<=g);){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}u>>>=$e,g-=$e,r.back+=$e}if(u>>>=Ie,g-=Ie,r.back+=Ie,r.length=tt,Ye===0){r.mode=lu;break}if(Ye&32){r.back=-1,r.mode=wi;break}if(Ye&64){t.msg="invalid literal/length code",r.mode=Kr;break}r.extra=Ye&15,r.mode=iu;case iu:if(r.extra){for(Ft=r.extra;g<Ft;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=au;case au:for(;Be=r.distcode[u&(1<<r.distbits)-1],Ie=Be>>>24,Ye=Be>>>16&255,tt=Be&65535,!(Ie<=g);){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if((Ye&240)==0){for($e=Ie,it=Ye,xt=tt;Be=r.distcode[xt+((u&(1<<$e+it)-1)>>$e)],Ie=Be>>>24,Ye=Be>>>16&255,tt=Be&65535,!($e+Ie<=g);){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}u>>>=$e,g-=$e,r.back+=$e}if(u>>>=Ie,g-=Ie,r.back+=Ie,Ye&64){t.msg="invalid distance code",r.mode=Kr;break}r.offset=tt,r.extra=Ye&15,r.mode=ou;case ou:if(r.extra){for(Ft=r.extra;g<Ft;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Kr;break}r.mode=su;case su:if(d===0)break e;if(k=A-d,r.offset>k){if(k=r.offset-k,k>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Kr;break}k>r.wnext?(k-=r.wnext,oe=r.wsize-k):oe=r.wnext-k,k>r.length&&(k=r.length),pe=r.window}else pe=i,oe=s-r.offset,k=r.length;k>d&&(k=d),d-=k,r.length-=k;do i[s++]=pe[oe++];while(--k);r.length===0&&(r.mode=Yo);break;case lu:if(d===0)break e;i[s++]=r.length,d--,r.mode=Yo;break;case Fs:if(r.wrap){for(;g<32;){if(l===0)break e;l--,u|=n[o++]<<g,g+=8}if(A-=d,t.total_out+=A,r.total+=A,A&&(t.adler=r.check=r.flags?fn(r.check,i,A,s-A):za(r.check,i,A,s-A)),A=d,(r.flags?u:du(u))!==r.check){t.msg="incorrect data check",r.mode=Kr;break}u=0,g=0}r.mode=uu;case uu:if(r.wrap&&r.flags){for(;g<32;){if(l===0)break e;l--,u+=n[o++]<<g,g+=8}if(u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Kr;break}u=0,g=0}r.mode=cu;case cu:dt=Hf;break e;case Kr:dt=$l;break e;case fu:return Hl;case jf:default:return Gn}return t.next_out=s,t.avail_out=d,t.next_in=o,t.avail_in=l,r.hold=u,r.bits=g,(r.wsize||A!==t.avail_out&&r.mode<Kr&&(r.mode<Fs||e!==Ul))&&_u(t,t.output,t.next_out,A-t.avail_out),F-=t.avail_in,A-=t.avail_out,t.total_in+=F,t.total_out+=A,r.total+=A,r.wrap&&A&&(t.adler=r.check=r.flags?fn(r.check,i,A,t.next_out-A):za(r.check,i,A,t.next_out-A)),t.data_type=r.bits+(r.last?64:0)+(r.mode===wi?128:0)+(r.mode===Go||r.mode===Is?256:0),(F===0&&A===0||e===Ul)&&dt===ia&&(dt=zf),dt},"inflate$2"),Xf=a(t=>{if(!t||!t.state)return Gn;let e=t.state;return e.window&&(e.window=null),t.state=null,ia},"inflateEnd"),Jf=a((t,e)=>{if(!t||!t.state)return Gn;const r=t.state;return(r.wrap&2)==0?Gn:(r.head=e,e.done=!1,ia)},"inflateGetHeader"),ed=a((t,e)=>{const r=e.length;let n,i,o;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==Ko)?Gn:n.mode===Ko&&(i=1,i=za(i,e,r,0),i!==n.check)?$l:(o=_u(t,e,r,r),o?(n.mode=fu,Hl):(n.havedict=1,ia))},"inflateSetDictionary");var td=gu,rd=pu,nd=hu,id=Vf,ad=vu,od=Qf,sd=Xf,ld=Jf,ud=ed,cd="pako inflate (from Nodeca project)",yi={inflateReset:td,inflateReset2:rd,inflateResetKeep:nd,inflateInit:id,inflateInit2:ad,inflate:od,inflateEnd:sd,inflateGetHeader:ld,inflateSetDictionary:ud,inflateInfo:cd};function fd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a(fd,"GZheader");var dd=fd;const wu=Object.prototype.toString,{Z_NO_FLUSH:hd,Z_FINISH:gd,Z_OK:Ja,Z_STREAM_END:Ps,Z_NEED_DICT:ks,Z_STREAM_ERROR:pd,Z_DATA_ERROR:yu,Z_MEM_ERROR:vd}=Ji;function eo(t){this.options=Ho.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fl,this.strm.avail_out=0;let r=yi.inflateInit2(this.strm,e.windowBits);if(r!==Ja)throw new Error(Xi[r]);if(this.header=new dd,yi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Za.string2buf(e.dictionary):wu.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=yi.inflateSetDictionary(this.strm,e.dictionary),r!==Ja)))throw new Error(Xi[r])}a(eo,"Inflate$1"),eo.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?gd:hd,wu.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=yi.inflate(r,s),o===ks&&i&&(o=yi.inflateSetDictionary(r,i),o===Ja?o=yi.inflate(r,s):o===yu&&(o=ks));r.avail_in>0&&o===Ps&&r.state.wrap>0&&t[r.next_in]!==0;)yi.inflateReset(r),o=yi.inflate(r,s);switch(o){case pd:case yu:case ks:case vd:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===Ps))if(this.options.to==="string"){let d=Za.utf8border(r.output,r.next_out),u=r.next_out-d,g=Za.buf2string(r.output,d);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(d,d+u),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Ja&&l===0)){if(o===Ps)return o=yi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0},eo.prototype.onData=function(t){this.chunks.push(t)},eo.prototype.onEnd=function(t){t===Ja&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ho.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ls(t,e){const r=new eo(e);if(r.push(t),r.err)throw r.msg||Xi[r.err];return r.result}a(Ls,"inflate$1");function md(t,e){return e=e||{},e.raw=!0,Ls(t,e)}a(md,"inflateRaw$1");var _d=eo,wd=Ls,yd=md,Ed=Ls,bd=Ji,Sd={Inflate:_d,inflate:wd,inflateRaw:yd,ungzip:Ed,constants:bd};const{Deflate:xd,deflate:Cd,deflateRaw:Td,gzip:Ad}=Of,{Inflate:Dd,inflate:Rd,inflateRaw:Id,ungzip:Fd}=Sd;var Od=xd,Nd=Cd,Pd=Td,kd=Ad,Ld=Dd,Md=Rd,Bd=Id,Eu=Fd,Ud=Ji,e0={Deflate:Od,deflate:Nd,deflateRaw:Pd,gzip:kd,Inflate:Ld,inflate:Md,inflateRaw:Bd,ungzip:Eu,constants:Ud},to;(function(t){t.HasVirtualFolders="remoteHub:hasVirtualFolders",t.VirtualFolderProviders="remoteHub:virtualFolderProviders",t.HasRecentRepositories="remoteHub:hasRecentRepositories",t.HasSearchIndexes="gitHub:hasSearchIndexes",t.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",t.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",t.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(to||(to={}));const bu=new Map;function t0(t){return t==="isWeb"?isWeb:t==="remoteName"?env.remoteName:t==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():t.startsWith("config.")?configuration.getAny(t.substring(7)):bu.get(t)}a(t0,"getContext");function r0(t){return t==="isWeb"||t==="remoteName"||t==="virtualWorkspace"||t.startsWith("config.")||t.startsWith("remoteHub:")||t.startsWith("continueOn:")}a(r0,"isSupportedContextKey");async function Ms(t,e){bu.set(t,e),!t.startsWith("continueOn:")&&await c.commands.executeCommand("setContext",t,e)}a(Ms,"setContext");class Bs{constructor(e){this.bytes=e,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(e){const r=this.byteIndexCurrent;return this.byteIndexCurrent+=e,this.bytes.slice(r,this.byteIndexCurrent)}readByte(){const e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e}readString(e){const r=[],n=this.byteIndexCurrent+e;let i=this.byteIndexCurrent;for(;i<n;){const o=this.bytes[i++];if(o===0)break;let s=0,l=0;if((o&128)==0)s=o,l=0;else if((o&224)==192)s=o&31,l=1;else if((o&240)==224)s=o&15,l=2;else if((o&248)==240)s=o&7,l=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${o.toString(2)} at offset ${i}`);for(;l>0;){const d=this.bytes[i++];if((d&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${d.toString(2)} at offset ${i}`);s=s<<6|d&63,l--}r.push(String.fromCodePoint(s))}return this.byteIndexCurrent=n,r.join("")}}a(Bs,"ByteStream");class En{constructor(e,r){this.value=e,this.id=`_${this.value}`,this.name=r}static Instances(){return En._instances==null&&(En._instances=new Su),En._instances}}a(En,"TarFileTypeFlag");class Su{constructor(){this.Normal=new En("0","Normal"),this.HardLink=new En("1","Hard Link"),this.SymbolicLink=new En("2","Symbolic Link"),this.CharacterSpecial=new En("3","Character Special"),this.BlockSpecial=new En("4","Block Special"),this.Directory=new En("5","Directory"),this.FIFO=new En("6","FIFO"),this.ContiguousFile=new En("7","Contiguous File"),this.LongFilePath=new En("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let e=0;e<this._All.length;e++){const r=this._All[e];this._All[r.id]=r}}}a(Su,"TarFileTypeFlag_Instances");class qo{constructor(e,r,n,i,o,s,l,d,u,g,F,A,k,oe,pe,Be){this.fileName=e,this.fileMode=r,this.userIDOfOwner=n,this.userIDOfGroup=i,this.fileSizeInBytes=o,this.timeModifiedInUnixFormat=s,this.checksum=l,this.typeFlag=d,this.nameOfLinkedFile=u,this.uStarIndicator=g,this.uStarVersion=F,this.userNameOfOwner=A,this.groupNameOfOwner=k,this.deviceNumberMajor=oe,this.deviceNumberMinor=pe,this.filenamePrefix=Be,this.fullFileName=Be.length?Be.endsWith("/")?Be+e:`${Be}/${e}`:e}static fromBytes(e){const r=new Bs(e),n=r.readString(100).trim(),i=r.readString(8),o=r.readString(8),s=r.readString(8),l=r.readString(12),d=r.readBytes(12),u=r.readString(8),g=r.readString(1),F=r.readString(100),A=r.readString(6),k=r.readString(2),oe=r.readString(32),pe=r.readString(32),Be=r.readString(8),Ie=r.readString(8),Ye=r.readString(155),tt=r.readBytes(12),$e=parseInt(l.trim(),8),it=parseInt(u,8),xt=En.Instances()._All,at=`_${g}`,dt=xt[at];return new qo(n,i,o,s,$e,d,it,dt,F,A,k,oe,pe,Be,Ie,Ye)}}a(qo,"TarFileEntryHeader");const xu=512;class Vo{constructor(e,r){this.header=e,this.dataAsBytes=r}static fromBytes(e,r){const n=xu,i=qo.fromBytes(e),o=i.fileSizeInBytes,l=Math.ceil(o/n)*n,d=r.readBytes(l).slice(0,o);return new Vo(i,d)}}a(Vo,"TarFileEntry");class Zo{constructor(e){var r;this.entries=e,this.consolidateLongPathEntries();for(const n of this.entries)((r=n.header.typeFlag)==null?void 0:r.name)==="Normal"&&(n.header.fullFileName=n.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const n of this.entries)this.entryMap.set(n.header.fullFileName,n)}static async fromBytes(e){const r=new Bs(e),n=[],i=xu;let o=0,s=0;for(;r.hasMoreBytes()==!0;){++o%1e3==0&&await new Promise(u=>setTimeout(u,10));const l=r.readBytes(i);let d=!0;for(let u=0;u<l.length;u++)if(l[u]!=0){d=!1;break}if(d==!0){if(s++,s==2)break}else{s=0;const u=Vo.fromBytes(l,r);n.push(u)}}return new Zo(n)}consolidateLongPathEntries(){var e;const r=En.Instances().LongFilePath.name,n=this.entries;for(let i=0;i<n.length;i++){const o=n[i];if(((e=o.header.typeFlag)==null?void 0:e.name)==r){const s=n[i+1];s.header.fileName=o.dataAsBytes.reduce((l,d)=>l+=String.fromCharCode(d),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),n.splice(i,1),i--}}}}a(Zo,"TarFile");const $d=a(t=>Zo.fromBytes(t),"readTar"),Qo=new TextDecoder,Us=new TextEncoder;class Cu{constructor(e,r=0){this.retainFor=r;try{this.weakRef=new WeakRef(e)}catch{}this.retain(e)}retain(e){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=e,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var e,r;const n=(r=this.strongRef)!=null?r:(e=this.weakRef)==null?void 0:e.deref();return n&&this.retain(n),n}}a(Cu,"TimedRetainingRef");class Tu{constructor(e,r){this.root=e,this.providerService=r,this._onDidChangeIndexingEnablement=new c.EventEmitter,this._onDidDownloadTar=new c.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=c.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=c.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=c.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await Ms(to.HasSearchIndexes,(await this.listTars()).length>0);const e=this.providerService.repositories.map(i=>i.name),r=await this.getIndexingEnabledRepos(),n=r.has("*")||e.every(i=>r.has(i));await Ms(to.EnabledSomeSearchIndexes,r.size>0),await Ms(to.EnabledAllSearchIndexes,n)}dispose(){this._disposable.dispose()}registerCommands(){return[c.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),c.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),c.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),c.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const e=a(i=>{const o=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of o)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),r=await this.listTars();if(r.length===0){await c.window.showInformationMessage("No Repository Indexes Found");return}const n=c.window.createQuickPick();n.canSelectMany=!0,n.items=r.map(({name:i,size:o,path:s})=>({label:i,path:s,description:o?e(o):void 0})),n.show(),n.onDidAccept(async()=>{n.hide();for(const{label:i,path:o}of n.selectedItems){const s=c.workspace.fs.delete(o),l=c.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,l.dispose()}this.updateContext()}),n.onDidHide(()=>n.dispose())}),c.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>c.window.withProgress({location:c.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([c.workspace.fs.delete(this.root,{recursive:!0})])}catch(e){J.error(e)}finally{this.updateContext()}}))]}getTarFromMemory(e){var r;if(J.debug(`TarPit.getTarFromMemory(key=${e})`),e===this.lastReadKey){const n=(r=this.lastReadValue)==null?void 0:r.deref();if(n)return n;J.log("Weakref deallocated.")}}async getTarFromDisk(e){try{const r=await c.workspace.fs.readFile(e);return!r||!r.length?void 0:r}catch(r){(!(r instanceof c.FileSystemError)||r.code!==c.FileSystemError.FileNotFound.name)&&(c.window.showWarningMessage(c.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),J.error(r,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(e,r,n){try{const i=await this.isIndexingEnabledForRepo(e);try{if(i){const o=await this.providerService.getTarGz(e,r);if(o)return o}else if(i===void 0){const o=xe.get("indexing.maxIndexSize");if(o===null)throw new c.CancellationError;if(o){const s=await this.providerService.getTarGz(e,r,o*1024*1024);if(s)return s}}}catch(o){if(o instanceof c.CancellationError)throw await this.markIndexingEnablementForRepos(!1),o;if(o instanceof Error&&o.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw o}if(!n){const o={id:"configure",title:c.l10n.t("Configure Limit")},s={id:"continue",title:c.l10n.t("Continue"),isCloseAffordance:!0};c.window.showInformationMessage(c.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),o,s).then(async l=>{l===o&&await c.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(n){const o={id:"no",title:c.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:c.l10n.t("Configure")},l={id:"repo",title:c.l10n.t("Download Full Contents")},d=xe.get("indexing.maxIndexSize"),u=d!==null?`${d.toString()}\xA0MB`:"null";switch(await c.window.showWarningMessage(c.l10n.t("This repository exceeds the download size limit ({0}).",u),{modal:!0,detail:c.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",u)},o,l,s)){case l:{await this.markIndexingEnablementForRepos(!0);try{const F=await this.providerService.getTarGz(e,r);if(F)return F}catch(F){F instanceof c.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await c.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case o:await this.markIndexingEnablementForRepos(!1)}}throw new c.CancellationError}finally{this.updateContext()}}async getTar(e,r,n){n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(e));const i=this.getTarStorageUri(e,n),o=await this.getTarCacheKey(e,n);try{let s=this.ongoingNetworkRequests.get(o);return s===void 0&&(s=this.getTarCore(e,n,i,{blocking:r}),this.ongoingNetworkRequests.set(o,s),this.ongoingDiskRequests.set(o,s)),await s}finally{this.ongoingNetworkRequests.delete(o),this.ongoingDiskRequests.delete(o)}}async getInMemoryTar(e,r){return J.debug(`TarPit.getInMemoryTar(rootUri=${e.toString()}, ref=${r==null?void 0:r.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(e,r))}async getCachedTar(e,r){var n;const i=await this.getTarCacheKey(e,r),o=this.getTarStorageUri(e,r);try{let s=(n=this.ongoingDiskRequests.get(i))!=null?n:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(e,r,o,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(e,r,n,i){const o=this.providerService.getCanonicalUri(e),s=`${I(o,{excludeScheme:!0})}/${r}`,l=new W(`TarPit.getTar(${s})`),d=await this.getTarCacheKey(e,r),u=Date.now();let g,F;try{if(l.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),F=this.getTarFromMemory(d),F)return g=" \u2022 Got .tar from memory",F;l.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let A=!1,k=await this.getTarFromDisk(n);if(k==null?void 0:k.length)g=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){g=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(e)===!1)throw g=" \u2022 Downloading disabled",new c.CancellationError;l.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),k=await this.getTarFromNetwork(e,r,i.blocking),A=!0,g=" \u2022 Got .tar from network",c.workspace.fs.writeFile(n,k).then(()=>J.debug(`Sucessfully wrote tarball to disk in ${Date.now()-u}ms`),pe=>J.error(pe,`Error writing tarball to disk in ${Date.now()-u}ms`))}if(!(k==null?void 0:k.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");l.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const oe=Eu(k);return F=await $d(oe),l.stop({message:"Finished getting tar"}),this.lastReadValue=new Cu(F,10*(Date.now()-u)),this.lastReadKey=d,A&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:e,sha:r}),0),F}catch(A){throw g=` \u2022 Failed; ${String(A)}`,A}finally{F&&(this.markCacheEntryUsed(`${s}`).catch(A=>J.log(`Error marking entry used: ${A}`)),this.cleanUpCache().catch(A=>J.log(`Error cleaning cache: ${A}`))),l.stop(g?{suffix:g}:void 0)}}async getTarCacheKey(e,r){return r===void 0&&({HEAD:{sha:r}}=await this.providerService.getMetadata(e)),this.getTarStorageUri(e,r).toString()}getTarStorageUri(e,r){return c.Uri.joinPath(this.root,"tars",I(this.providerService.getCanonicalUri(e),{excludeScheme:!0}),r)}async readDir(e){try{return(await c.workspace.fs.readDirectory(e)).map(r=>c.Uri.joinPath(e,r[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(e){if(this.indexingDisabled)return!1;const r=await this.getIndexingEnabledRepos();if(r.has("*"))return!0;const{name:n}=this.providerService.getVirtualUriMetadata(e);if(!!n){if(r.has(n))return!0;if(r.has(`-${n}`))return!1}}async configureIndexingAllowedRepos(){const e=[...(await this.getIndexingEnabledRepos()).values()],r=await c.window.showQuickPick(e.map(n=>({picked:!0,label:n.startsWith("-")?`${c.l10n.t("Disallowed:")} ${n.slice(1)}`:`${c.l10n.t("Allowed:")} ${n}`})),{canPickMany:!0,title:c.l10n.t("Repository index allowance overrides")});r&&await this.writeIndexEnablementData(r.map(n=>n.label))}async getIndexingEnabledRepos(){let e;try{e=JSON.parse(Qo.decode(await c.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(r){r instanceof c.FileSystemError&&r.code!==c.FileSystemError.FileNotFound().code&&J.error(r,"Error reading index allowance data."),e=[]}return new Set(e)}async listTars(){const e=await this.readDir(c.Uri.joinPath(this.root,"tars")).catch(()=>[]),r=(await Promise.all(e.map(o=>this.readDir(o)))).flat(),n=(await Promise.all(r.map(o=>this.readDir(o)))).flat(),i=(await Promise.all(n.map(o=>this.readDir(o)))).flat();return Promise.all(i.map(async o=>({name:o.path.replace(/^.*\/tars\//,""),path:o,size:(await c.workspace.fs.stat(o)).size})))}async markIndexingEnablementForRepos(e){let r;try{r=JSON.parse(Qo.decode(await c.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(o){o instanceof c.FileSystemError&&o.code!==c.FileSystemError.FileNotFound().code&&J.error(o,"Error reading index allowance data."),r=[]}const n=e?this.providerService.repositories.map(o=>o.name):[],i=e?[]:this.providerService.repositories.map(o=>o.name);r=[...r,...n].filter(o=>o.startsWith("-")?!n.includes(o.slice(1)):!i.includes(o));for(const o of i)r.push(`-${o}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(r)}async writeIndexEnablementData(e){await c.workspace.fs.writeFile(this.indexingAllowanceFile,Us.encode(JSON.stringify(e))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(e){let r;try{r=JSON.parse(Qo.decode(await c.workspace.fs.readFile(this.usageFile)))}catch(n){n instanceof c.FileSystemError&&n.code!==c.FileSystemError.FileNotFound().code&&J.error(n,"Error reading usage data."),r={}}r[e]=Number(Date.now()),await c.workspace.fs.writeFile(this.usageFile,Us.encode(JSON.stringify(r)))}async cleanUpCache(){var e,r;J.log("Cleaning up search cache...");const n=await this.listTars();let i;try{i=JSON.parse(Qo.decode(await c.workspace.fs.readFile(this.usageFile)))}catch(k){k instanceof c.FileSystemError&&k.code!==c.FileSystemError.FileNotFound().code&&J.error(k,"Error reading usage data. All existing indexes will be discarded."),i={}}const o=[];n.forEach(k=>{var oe;const pe=/^([^/]*\/[^/]*)\//.exec(k.name);if(!pe)throw Error("Unexpected repo entry");const Be=pe[1],Ie=(oe=i[k.name])!=null?oe:0;o.push({...k,lastUsed:Ie,repo:Be})}),o.sort((k,oe)=>oe.lastUsed-k.lastUsed);let s=0;const l=[],d=new Map,u=(e=xe.get("indexing.cacheSizeLimit"))!=null?e:xe.get("search.download.sizeLimit"),g=(r=xe.get("indexing.cacheRepoLimit"))!=null?r:xe.get("search.download.repoLimit"),F=(u!=null?u:100)*1024*1024,A=g!=null?g:4;o.forEach(k=>{var oe,pe;(k.lastUsed===0||s>F||((oe=d.get(k.repo))!=null?oe:0)>A)&&l.push(k),s+=k.size,d.set(k.repo,((pe=d.get(k.repo))!=null?pe:0)+1)}),await Promise.all(l.map(async k=>{try{await c.workspace.fs.delete(k.path,{recursive:!0}),delete i[k.name],J.log(`Deleted cache entry for ${k.name}`)}catch(oe){J.log(`Deleting cache entry for ${k.name} failed; ${String(oe)}`)}})),await c.workspace.fs.writeFile(this.usageFile,Us.encode(JSON.stringify(i))),await this.updateContext()}}a(Tu,"TarPit");async function Hd(t,e,r,n,i,o,s){return $s("provideTextSearchResults",async()=>{const l=Ao(n.pattern,Boolean(n.isRegExp),{matchCase:n.isCaseSensitive,wholeWord:n.isWordMatch,multiline:n.isMultiline,global:!0});let d;try{d=await $s("fetch tarball",()=>r.getTar(i.folder,!0,void 0))}catch(Be){if(Be instanceof c.CancellationError)throw Be;return{limitHit:!1,message:{type:c.TextSearchCompleteMessageType.Warning,trusted:!0,text:c.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:u,maxFileSize:g,includes:F,excludes:A}=i,k=await Wd(i.folder,t,d,e);if(s.isCancellationRequested)return{limitHit:!0};let oe=u;const pe=vs(k,F,A,g);return $s("searchFiles",async()=>{var Be,Ie;let Ye=0;for(const tt of k){if(!pe.has(tt.path))continue;const $e=Do(tt.contents,tt.path,l,{beforeContext:(Be=i.beforeContext)!=null?Be:0,afterContext:(Ie=i.afterContext)!=null?Ie:0,previewOptions:i.previewOptions,remainingResultQuota:oe});for(const it of $e)o.report({...it,uri:c.Uri.joinPath(i.folder,it.uri.path)});if(oe!==void 0&&(oe-=$e.length,oe<=0))return{limitHit:!0};if(Ye++,Ye%1e4==0&&(await new Promise(it=>setTimeout(it,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}a(Hd,"provideTextSearchResults");async function Wd(t,e,r,n){const i=r.entries,o=e.getVirtualRootUri(t),s=await n.getChanges(o,{predicate:F=>F.fileType===c.FileType.File});if(s.length===0)return i.map(F=>({contents:F.dataAsBytes,path:F.header.fullFileName,size:F.dataAsBytes.byteLength}));const l=await Promise.all(lr(s,F=>{if(F.type===G.Created)return n.getContent(F.uri).then(A=>({path:e.getRelativeFilePath(o,F.uri),size:A.length,contents:A}))})),d=await Promise.all(lr(s,F=>{if(F.type===G.Changed)return n.getContent(F.uri).then(A=>({path:e.getRelativeFilePath(o,F.uri),size:A.length,contents:A}))})),u=new Set(Oi(Dn(d,F=>F.path),lr(s,F=>{if(F.type===G.Deleted)return e.getRelativeFilePath(o,F.uri)})));return[...lr(i,F=>{if(!u.has(F.header.fullFileName))return{contents:F.dataAsBytes,path:F.header.fullFileName,size:F.dataAsBytes.byteLength}}),...l,...d]}a(Wd,"listAllFiles");function n0(t,e){const r=Date.now(),n=e();return Logger.log(`${t} time: ${Date.now()-r}`),n}a(n0,"timeSync");async function $s(t,e){const r=Date.now(),n=await e();return J.log(`${t} time: ${Date.now()-r}`),n}a($s,"time");var zd=Object.defineProperty,jd=Object.getOwnPropertyDescriptor,Hs=a((t,e,r,n)=>{for(var i=n>1?void 0:n?jd(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&zd(e,r,i),i},"fs_decorateClass");const Kd=c.FileSystemError.FileNotFound().code,Gd=/(\/|\\)/g,Au=".vscode/.github-pull-request.rec";class ro{constructor(e,r,n,i,o){this.providerService=e,this.github=r,this.changeStore=n,this.tarPit=i,this.telemetryService=o,this._onDidChangeFile=new c.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=c.Disposable.from(c.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),c.workspace.registerFileSearchProvider(this.scheme,this),c.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(r=>L.getProviderId(r)===this.scheme).map(r=>L.getProviderUri(r)),e.length!==0){J.log(`GitHubFS.onRefreshOrRepositoryChanged(${e.map(r=>r.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[r,n]of[...this.pendingUriRequests])e.some(i=>$(n.uri,i))&&(this.pendingUriRequests.delete(r),n.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const r=L.getOpenUris(this.scheme,e);for(const[i,o]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(s=>$(o,s))&&(this.implicitlyWatchedUris.delete(i),r.set(i,o));J.debug(`GitHubFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${r.size}`);for(const i of e)r.set(x(i),i);const n=[...r.values()].map(i=>({type:c.FileChangeType.Changed,uri:i}));setTimeout(()=>{J.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${n.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(n)},0)}watch(e,r){const n=x(e);return this.watchedUris.set(n,e),{dispose:()=>{this.watchedUris.delete(n)}}}async stat(e){var r,n;const i=x(e);this.implicitlyWatchedUris.set(i,e);const o=this.github.getProviderRootUri(e),{hasRepoWithOwner:s}=Du(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s){const l=this.providerService.getRelativeFilePath(e),d={uri:e,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,d);const u=await this.github.getFileTree(e),g=await u.get(l);if(g==null?void 0:g.stat){if(g.stat.type===c.FileType.File&&xe.get("experimental.lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&Ve(await this.github.getGitAttributes(o),l)){const F=await this.github.getFileContent(e),A=ze(F).size;g.stat.size=A!=null?A:g.stat.size}return g.stat}if(this.implicitlyWatchedUris.delete(i),e.query==="~")return{type:c.FileType.File,size:0,ctime:0,mtime:(r=u.timestamp)!=null?r:Date.now(),permissions:c.FilePermission.Readonly};if(l===Au){const{ref:F}=this.providerService.getVirtualUriMetadata(e);if((F==null?void 0:F.type)===Ue.PullRequest)return{type:c.FileType.File,size:0,ctime:0,mtime:(n=u.timestamp)!=null?n:Date.now(),permissions:c.FilePermission.Readonly}}throw c.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${i}`),(d==null?void 0:d.outdated)&&setTimeout(()=>{J.log(`GitHubFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:c.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}return{type:c.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:c.FilePermission.Readonly}}async readDirectory(e,r){var n;this.implicitlyWatchedUris.set(x(e),e);const{pathQuery:i,hasRepoWithOwner:o}=Du(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){let s;const l=this.providerService.getRelativeFilePath(e);let d;try{return s=await this.github.getFileTree(e),(await s.getChildren(l,r)).map(([g,{stat:{type:F}}])=>[g,F])}catch(u){throw d=u,l===""&&u instanceof Error&&this.telemetryService.publicLog2("fs.readRootDirectory.error",{errorName:u.name,errorMessage:u.message,errorStack:(n=u.stack)!=null?n:""}),u}finally{l===""&&(W.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:d===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:d}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(d=>d.owner===i).map(d=>d.repo):[...new Set(s.map(d=>d.owner))]).map(d=>[d,c.FileType.Directory])}}createDirectory(e){throw c.FileSystemError.NoPermissions()}async readFile(e){const r=x(e);this.implicitlyWatchedUris.set(r,e);const n={uri:e,outdated:!1};try{this.pendingUriRequests.set(r,n);const i=await this.github.getFileContent(e);if(!xe.get("experimental.lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const o=this.github.getProviderRootUri(e),s=await this.github.getGitAttributes(o);return Ve(s,e.path)?this.github.getLfsContent(o,i):i}catch(i){if(this.implicitlyWatchedUris.delete(r),i instanceof c.FileSystemError&&i.code===Kd){if(e.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(e)===Au){const{ref:s}=this.providerService.getVirtualUriMetadata(e);if((s==null?void 0:s.type)===Ue.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(r),(n==null?void 0:n.outdated)&&setTimeout(()=>{J.log(`GitHubFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:c.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,r,n){throw c.FileSystemError.NoPermissions()}delete(e,r){throw c.FileSystemError.NoPermissions()}rename(e,r,n){throw c.FileSystemError.NoPermissions()}copy(e,r,n){throw c.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:r,maxResults:n,includes:i,excludes:o},s){const l=`${x(r)}|${JSON.stringify({includes:i,excludes:o})}`;let d=this.fileSearchCache.get(l);if(d===void 0){const g=this.providerService.getRelativeFilePath(r);let F;await this.github.hasFileTree(r)&&(F=await this.github.getFileTree(r));let A;if(F===void 0||F.loading||!F.hasEntireTree?A=await this.github.getFileList(r,g):A=(await F.getChildren(g,{filter:c.FileType.File,recursive:!0})).map(([k])=>k),A.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(o==null?void 0:o.length))&&(A=[...jr(A,i,o)]),d=A.map(k=>da.prepareSlow(k)),this.fileSearchCache.set(l,d)}let u;return e.pattern===""?u=d.map(g=>c.Uri.joinPath(r,g.target)):(u=da.go(e.pattern.replace(Gd,"/"),d,{allowTypo:!0,limit:n}).map(g=>c.Uri.joinPath(r,g.target)),da.cleanup()),n!==void 0&&n!==0&&n<u.length&&(u=u.slice(0,n)),u}async provideTextSearchResults(e,r,n,i){const o=[];if(await this.tarPit.isIndexingEnabledForRepo(r.folder)!==!1)try{return await Hd(this.providerService,this.changeStore,this.tarPit,e,r,n,i)}catch(u){u instanceof c.CancellationError||o.push({text:c.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:c.TextSearchCompleteMessageType.Warning})}e.isCaseSensitive||e.isRegExp||e.isWordMatch?o.push({text:c.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:c.TextSearchCompleteMessageType.Warning,trusted:!0}):o.push({text:c.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:c.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(e.pattern,r.folder,{maxResults:r.maxResults,context:{before:r.beforeContext,after:r.afterContext}});if(s.warnings&&s.warnings.forEach(u=>{o.push({text:u,trusted:!0,type:c.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:o};const l=new Set(jr(s.matches.map(u=>u.path),r.includes,r.excludes));let d;for(const u of s.matches)l.has(u.path)&&(d=c.Uri.joinPath(r.folder,u.path),n.report({uri:d,ranges:u.ranges,preview:{text:u.preview,matches:u.matches}}));return{limitHit:!1,message:o}}}a(ro,"GitHubFS"),Hs([ir()],ro.prototype,"stat",1),Hs([ir()],ro.prototype,"readDirectory",1),Hs([ir()],ro.prototype,"readFile",1);function Du(t){let e=t.path;return e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),{pathQuery:e,hasRepoWithOwner:e.includes("/")}}a(Du,"getRepoWithOwnerFromUri");var Yd=__webpack_require__(6470);const no=globalThis.fetch;async function Ru(t,e,r){const n=new AbortController;r.onCancellationRequested(()=>n.abort());try{return await globalThis.fetch(t,{...e,signal:n.signal})}catch(i){throw r.isCancellationRequested?new c.CancellationError:i}}a(Ru,"fetchWithCancellation");async function Xo(t,e,r,n,i){if(r===0)throw new c.CancellationError;const o=new c.CancellationTokenSource;n.onCancellationRequested(()=>o.cancel());try{const s=await Ru(t,e,o.token);if(s.body){const l=[];let d=0;const u=s.body.getReader();let g=3;for(;;){let{done:F,value:A}=await u.read();if(F){const oe=l.reduce((Ie,Ye)=>Ie+Ye.length,0),pe=new Uint8Array(oe);let Be=0;for(const Ie of l)pe.set(Ie,Be),Be+=Ie.length;return pe}A&&(l.push(A),d+=A.length);const k=Math.floor(d/(1024*1024));if(g<k){g=k;const oe={message:k+" MB"};i.report(oe)}if(r!==void 0&&d>r)throw u.cancel(),o.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw n.isCancellationRequested?new c.CancellationError:s}throw new c.CancellationError}a(Xo,"fetchUInt8ArrayWithMaxSizeAndCancellation");var io=__webpack_require__(4155);function Jo(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof io=="object"&&"version"in io?`Node.js/${io.version.substr(1)} (${io.platform}; ${io.arch})`:"<environment undetectable>"}a(Jo,"getUserAgent");var qd=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Iu(t){return Object.prototype.toString.call(t)==="[object Object]"}a(Iu,"isObject");function Fu(t){var e,r;return Iu(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(Iu(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}a(Fu,"isPlainObject");function Vd(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}a(Vd,"lowercaseKeys");function Ou(t,e){const r=Object.assign({},t);return Object.keys(e).forEach(n=>{Fu(e[n])?n in t?r[n]=Ou(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}a(Ou,"mergeDeep");function Nu(t){for(const e in t)t[e]===void 0&&delete t[e];return t}a(Nu,"removeUndefinedProperties");function Ws(t,e,r){if(typeof e=="string"){let[i,o]=e.split(" ");r=Object.assign(o?{method:i,url:o}:{url:i},r)}else r=Object.assign({},e);r.headers=Vd(r.headers),Nu(r),Nu(r.headers);const n=Ou(t||{},r);return t&&t.mediaType.previews.length&&(n.mediaType.previews=t.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}a(Ws,"dist_web_merge");function Zd(t,e){const r=/\?/.test(t)?"&":"?",n=Object.keys(e);return n.length===0?t:t+r+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}a(Zd,"addQueryParameters");const Qd=/\{[^}]+\}/g;function Xd(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}a(Xd,"removeNonChars");function Jd(t){const e=t.match(Qd);return e?e.map(Xd).reduce((r,n)=>r.concat(n),[]):[]}a(Jd,"extractUrlVariableNames");function Pu(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,n)=>(r[n]=t[n],r),{})}a(Pu,"omit");function ku(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}a(ku,"encodeReserved");function Sa(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}a(Sa,"encodeUnreserved");function ao(t,e,r){return e=t==="+"||t==="#"?ku(e):Sa(e),r?Sa(r)+"="+e:e}a(ao,"encodeValue");function xa(t){return t!=null}a(xa,"isDefined");function zs(t){return t===";"||t==="&"||t==="?"}a(zs,"isKeyOperator");function eh(t,e,r,n){var i=t[r],o=[];if(xa(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),o.push(ao(e,i,zs(e)?r:""));else if(n==="*")Array.isArray(i)?i.filter(xa).forEach(function(s){o.push(ao(e,s,zs(e)?r:""))}):Object.keys(i).forEach(function(s){xa(i[s])&&o.push(ao(e,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(xa).forEach(function(l){s.push(ao(e,l))}):Object.keys(i).forEach(function(l){xa(i[l])&&(s.push(Sa(l)),s.push(ao(e,i[l].toString())))}),zs(e)?o.push(Sa(r)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else e===";"?xa(i)&&o.push(Sa(r)):i===""&&(e==="&"||e==="?")?o.push(Sa(r)+"="):i===""&&o.push("");return o}a(eh,"getValues");function th(t){return{expand:rh.bind(null,t)}}a(th,"parseUrl");function rh(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,o){if(i){let l="";const d=[];if(r.indexOf(i.charAt(0))!==-1&&(l=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var g=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);d.push(eh(e,l,g[1],g[2]||g[3]))}),l&&l!=="+"){var s=",";return l==="?"?s="&":l!=="#"&&(s=l),(d.length!==0?l:"")+d.join(s)}else return d.join(",")}else return ku(o)})}a(rh,"expand");function Lu(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},t.headers),i,o=Pu(t,["method","baseUrl","url","headers","request","mediaType"]);const s=Jd(r);r=th(r).expand(o),/^http/.test(r)||(r=t.baseUrl+r);const l=Object.keys(t).filter(g=>s.includes(g)).concat("baseUrl"),d=Pu(o,l);if(!/application\/octet-stream/i.test(n.accept)&&(t.mediaType.format&&(n.accept=n.accept.split(/,/).map(g=>g.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const g=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=g.concat(t.mediaType.previews).map(F=>{const A=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${F}-preview${A}`}).join(",")}return["GET","HEAD"].includes(e)?r=Zd(r,d):"data"in d?i=d.data:Object.keys(d).length?i=d:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:r,headers:n},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}a(Lu,"dist_web_parse");function nh(t,e,r){return Lu(Ws(t,e,r))}a(nh,"endpointWithDefaults");function Mu(t,e){const r=Ws(t,e),n=nh.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:Mu.bind(null,r),merge:Ws.bind(null,r),parse:Lu})}a(Mu,"withDefaults");const ih=`octokit-endpoint.js/6.0.12 ${Jo()}`,ah=Mu(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":ih},mediaType:{format:"",previews:[]}});var oh=__webpack_require__(3300),sh=__webpack_require__.n(oh);class js extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}a(js,"Deprecation");var lh=__webpack_require__(447),Bu=__webpack_require__.n(lh);const uh=Bu()(t=>console.warn(t)),ch=Bu()(t=>console.warn(t));class di extends Error{constructor(e,r,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return uh(new js("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return ch(new js("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}a(di,"RequestError");const fh="5.6.3";function dh(t){return t.arrayBuffer()}a(dh,"getBufferResponse");function Uu(t){const e=t.request&&t.request.log?t.request.log:console;(Fu(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let r={},n,i;return(t.request&&t.request.fetch||sh())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async s=>{i=s.url,n=s.status;for(const l of s.headers)r[l[0]]=l[1];if("deprecation"in r){const l=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),d=l&&l.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${d?`. See ${d}`:""}`)}if(!(n===204||n===205)){if(t.method==="HEAD"){if(n<400)return;throw new di(s.statusText,n,{response:{url:i,status:n,headers:r,data:void 0},request:t})}if(n===304)throw new di("Not modified",n,{response:{url:i,status:n,headers:r,data:await Ks(s)},request:t});if(n>=400){const l=await Ks(s);throw new di(hh(l),n,{response:{url:i,status:n,headers:r,data:l},request:t})}return Ks(s)}}).then(s=>({status:n,url:i,headers:r,data:s})).catch(s=>{throw s instanceof di?s:new di(s.message,500,{request:t})})}a(Uu,"fetchWrapper");async function Ks(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():dh(t)}a(Ks,"getResponseData");function hh(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}a(hh,"toErrorMessage");function Gs(t,e){const r=t.defaults(e);return Object.assign(a(function(i,o){const s=r.merge(i,o);if(!s.request||!s.request.hook)return Uu(r.parse(s));const l=a((d,u)=>Uu(r.parse(r.merge(d,u))),"request");return Object.assign(l,{endpoint:r,defaults:Gs.bind(null,r)}),s.request.hook(l,s)},"newApi"),{endpoint:r,defaults:Gs.bind(null,r)})}a(Gs,"dist_web_withDefaults");const es=Gs(ah,{headers:{"user-agent":`octokit-request.js/${fh} ${Jo()}`}}),gh="4.8.0";function ph(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}a(ph,"_buildMessageForResponseErrors");class Hi extends Error{constructor(e,r,n){super(ph(n));this.request=e,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}a(Hi,"GraphqlResponseError");const vh=["method","baseUrl","url","headers","request","query","mediaType"],mh=["query","method","url"],$u=/\/api\/v3\/?$/;function _h(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in r)if(!!mh.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},r):e,i=Object.keys(n).reduce((s,l)=>vh.includes(l)?(s[l]=n[l],s):(s.variables||(s.variables={}),s.variables[l]=n[l],s),{}),o=n.baseUrl||t.endpoint.DEFAULTS.baseUrl;return $u.test(o)&&(i.url=o.replace($u,"/api/graphql")),t(i).then(s=>{if(s.data.errors){const l={};for(const d of Object.keys(s.headers))l[d]=s.headers[d];throw new Hi(i,l,s.data)}return s.data.data})}a(_h,"graphql");function Ys(t,e){const r=t.defaults(e);return Object.assign(a((i,o)=>_h(r,i,o),"newApi"),{defaults:Ys.bind(null,r),endpoint:es.endpoint})}a(Ys,"graphql_dist_web_withDefaults");const o0=Ys(es,{headers:{"user-agent":`octokit-graphql.js/${gh} ${Jo()}`},method:"POST",url:"/graphql"});function wh(t){return Ys(t,{method:"POST",url:"/graphql"})}a(wh,"withCustomRequest");const yh=/^v1\./,Eh=/^ghs_/,bh=/^ghu_/;async function Sh(t){const e=t.split(/\./).length===3,r=yh.test(t)||Eh.test(t),n=bh.test(t);return{type:"token",token:t,tokenType:e?"app":r?"installation":n?"user-to-server":"oauth"}}a(Sh,"auth");function xh(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}a(xh,"withAuthorizationPrefix");async function Ch(t,e,r,n){const i=e.endpoint.merge(r,n);return i.headers.authorization=xh(t),e(i)}a(Ch,"hook");const Th=a(function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Sh.bind(null,e),{hook:Ch.bind(null,e)})},"createTokenAuth"),Hu="3.5.1";class oo{constructor(e={}){const r=new qd.Collection,n={baseUrl:es.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Hu} ${Jo()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=es.defaults(n),this.graphql=wh(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){const{authStrategy:o,...s}=e,l=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},e.auth));r.wrap("request",l.hook),this.auth=l}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=Th(e.auth);r.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}static defaults(e){return a(class extends this{constructor(...n){const i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...e){var r;const n=this.plugins;return r=a(class extends this{},"_a"),r.plugins=n.concat(e.filter(o=>!n.includes(o))),r}}a(oo,"Octokit"),oo.VERSION=Hu,oo.plugins=[];var Wu;(function(t){t[t.Force=0]="Force",t[t.ForceWithLease=1]="ForceWithLease"})(Wu||(Wu={}));var Ei;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(Ei||(Ei={}));var so;(function(t){t[t.INDEX_MODIFIED=0]="INDEX_MODIFIED",t[t.INDEX_ADDED=1]="INDEX_ADDED",t[t.INDEX_DELETED=2]="INDEX_DELETED",t[t.INDEX_RENAMED=3]="INDEX_RENAMED",t[t.INDEX_COPIED=4]="INDEX_COPIED",t[t.MODIFIED=5]="MODIFIED",t[t.DELETED=6]="DELETED",t[t.UNTRACKED=7]="UNTRACKED",t[t.IGNORED=8]="IGNORED",t[t.INTENT_TO_ADD=9]="INTENT_TO_ADD",t[t.ADDED_BY_US=10]="ADDED_BY_US",t[t.ADDED_BY_THEM=11]="ADDED_BY_THEM",t[t.DELETED_BY_US=12]="DELETED_BY_US",t[t.DELETED_BY_THEM=13]="DELETED_BY_THEM",t[t.BOTH_ADDED=14]="BOTH_ADDED",t[t.BOTH_DELETED=15]="BOTH_DELETED",t[t.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(so||(so={}));var zu;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.PermissionDenied="PermissionDenied",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply",t.NoPathFound="NoPathFound",t.UnknownPath="UnknownPath"})(zu||(zu={}));class qs{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var r;const n=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const o of n){const s=(r=o.attrs)!=null?r:{};for(const l of Object.keys(s))i[l]=s[l]}return i}rulesForPath(e){const r=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const n of this.rules){if(!n.pattern)continue;const i=n.pattern[0]==="/"?`${n.pattern}`:`**/${n.pattern}`;ha().isMatch(e,i)&&r.push(n)}return r}parse(e,r=!1,n=!1){const i=e.split(/\r\n|\r|\n/g);for(const o of i){const s=this.parseRule(o,r,n);s&&this.rules.push(s)}}parseRule(e,r=!1,n=!1){if(e=e.trim(),!e)return n?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return r?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,o;if(e[0]==='"'){const s=/^"(?:[^"\\]|\\.)*"/.exec(e);if(s){try{i=JSON.parse(s[0])}catch(l){i=i.replace(/\\(.)/g,"\\1")}o=e.substr(s[0].length+1).trim()}else i=s==null?void 0:s[0],o=void 0}else{const s=/\s+/g.exec(e);i=s?e.substr(0,s.index):e,o=s?e.substr(s.index+s[0].length):void 0}return{pattern:i,attrs:o?this.parseAttributes(o):{},comment:void 0}}parseAttributes(e){const r={};for(const n of e.split(/\s+/g)){if(n==="=")continue;let i=n,o;if(n.startsWith("-"))i=n.substr(1),o=!1;else if(n.includes("=")){const s=n.indexOf("=");i=n.substr(0,s),o=n.substr(s+1)}else o=!0;r[i]=o,i==="binary"&&o?r.diff=!1:i==="crlf"&&o===!0?r.text=!0:i==="crlf"&&o===!1?r.text=!1:i==="crlf"&&o==="input"&&(r.eol="lf")}return r}}a(qs,"GitAttributes");class Vs{constructor(e,r){this.path=e,this.relativePath=r}}a(Vs,"TrieNode");class ju{constructor(){this.root=new Vs("","")}get(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(r=n.children)==null?void 0:r.get(i);if(o===void 0)return;n=o}return n.path===e?n.data:void 0}getChildren(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;if(e)for(const i of e.split("/")){const o=(r=n.children)==null?void 0:r.get(i);if(o===void 0)return[];n=o}return n.children===void 0?[]:[...n.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;const i=[];if(e)for(const o of e.split("/")){const s=(r=n.children)==null?void 0:r.get(o);if(s===void 0)return i;n=s}if(n.children!==void 0){let o=a(function(s,l,d){for(const u of s.values()){const g=`${l?`${l}/`:""}${u.relativePath}`;u.data&&d.push([g,u.data]),u.children!==void 0&&o(u.children,g,d)}},"getDescendantsCore");o(n.children,"",i)}return i}has(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(r=n.children)==null?void 0:r.get(i);if(o===void 0)return!1;n=o}return n.path===e}set(e,r){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,o="";for(const s of e.split("/")){let l=(n=i.children)==null?void 0:n.get(s);o=`${o?`${o}/`:""}${s}`,l===void 0&&(i.children===void 0&&(i.children=new Map),l=new Vs(o,s),i.children.set(s,l)),i=l}i.data=r}}a(ju,"Trie");var Ah=__webpack_require__(5431),Zs=__webpack_require__.n(Ah);class Qs{constructor(e,r,n,i,o){if(this.rootUri=e,this.sha=r,this.timestamp=n,this.provider=i,this.trie=new ju,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(l=>{(!l||x(l.rootUri)===x(this.rootUri)&&l.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(d=>this._isContentCached=d,()=>this._isContentCached=!0)})),this._loading=this.load(o==null?void 0:o.path,o==null?void 0:o.recursive).then(l=>(this._hasEntireTree=(l==null?void 0:l.success)?l.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var d;return void((d=i.tryCachingContent)==null?void 0:d.call(i,this.trie.get.bind(this.trie)).then(u=>this._isContentCached=u,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(l==null?void 0:l.success)?l.sha:void 0,this.treeSha)),(o==null?void 0:o.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=c.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var r;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:c.FileType.Directory,size:0,ctime:0,mtime:(r=this.timestamp)!=null?r:Date.now(),permissions:await this.permissions},getContent:void 0};let n=this.trie.get(e);return n!==void 0||(await this.ensureLoaded(e),n=this.trie.get(e)),n}async getChildren(e,r){await this.ensureLoaded(e,!0);const n=(r==null?void 0:r.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(r==null?void 0:r.filter)===void 0?n:n.filter(([,i])=>i.stat.type===r.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,r=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(r)i=this.preloading.get(e);else{const o=je(this.preloading,([s])=>e.startsWith(s)&&e.lastIndexOf("/")===(s?s.length:-1));i=o==null?void 0:o[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let n=this.trie.get(e);if(n)return r&&(n==null?void 0:n.loadChildren)?n.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),n=this.trie.get(e),r&&(n==null?void 0:n.loadChildren))return n.loadChildren()}async load(e,r=!1){var n;if(((n=this.provider)==null?void 0:n.getTree)===void 0)return;const i=new W(`FileTree.load(${this.sha}:${e})`);let o;try{i.logStep("Tree query");const s=await this.provider.getTree(e,r);if(s.truncated){J.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[d,u]of this.trie.getDescendants(""))u.stat.type===c.FileType.Directory&&(u.loadChildren=Zs()(()=>this.load(d).then(()=>u.loadChildren=void 0)));return o=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let l;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),l=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:d,item:u}of s.tree)if(d!==void 0){switch(d=e?`${e}/${d}`:d,u.stat.permissions=l,u.stat.type){case c.FileType.File:u.getContent=Zs()(()=>this.provider.getContent(u,d));break;case c.FileType.Directory:r||(u.loadChildren=Zs()(()=>this.load(d).then(()=>u.loadChildren=void 0)));break}this.trie.set(d,u)}return o=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:r,success:!0}}catch(s){return o=`\u2022 Loading for path=${e} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(o?{suffix:o}:void 0)}}}a(Qs,"FileTree");var Dh=__webpack_require__(7769);const Rh="github-pr-owner-number";function Ih(t){return`branch.${t}.${Rh}`}a(Ih,"getMetadataKeyForBranch");const Ku=new TextDecoder;class Gu{constructor(e,r,n,i,o,s){this.providerService=e,this.rootUri=r,this.sourceControl=n,this.metadata=i,this.changeStore=o,this.github=s,this._onDidChangeSelection=new c.EventEmitter,this._onDidChangeState=new c.EventEmitter,this._objects=new Map,this.disposable=c.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(u=>{const g=x(this.rootUri);!u.some(F=>x(F)===g)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:u})=>{x(this.rootUri)===x(u.uri)&&this.updateState(await u.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return n.inputBox.value},set value(u){n.inputBox.value=u}},this._ui={get selected(){return n.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:l,name:d}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${l}/${d}.git`,isReadOnly:i.accessLevel<j.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(e){switch(e.HEAD.type){case X.Branch:return{type:Ei.Head,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:this.remote.name}};case X.RemoteBranch:{const r=e.HEAD.branch.remote.repo.owner,n=e.HEAD.branch.remote.accessLevel<j.Write,i=this.remotes.findIndex(o=>o.name===r);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:r,fetchUrl:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,pushUrl:n?void 0:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,isReadOnly:n}),{type:Ei.RemoteHead,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:e.HEAD.branch.remote.repo.owner}}}case X.Tag:return{type:Ei.Tag,name:e.HEAD.detached.name,commit:e.HEAD.sha};case X.Commit:return{type:Ei.Head,commit:e.HEAD.sha}}}async updateState(e){this.metadata=e;const r=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:l=>l.fileType===c.FileType.File}),n=r.conflicts.map(l=>({uri:l.uri,status:Xs(l.type),originalUri:l.uri,renameUri:l.uri})),i=r.staged.map(l=>({uri:l.uri,status:Xs(l.type),originalUri:l.uri,renameUri:l.uri})),o=r.working.map(l=>({uri:l.uri,status:Xs(l.type),originalUri:l.uri,renameUri:l.uri})),s=xe.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(e),mergeChanges:n,indexChanges:s?i:[],workingTreeChanges:s?o:[...i,...o]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(e){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&e===Ih(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(e,r){return Promise.resolve("")}getGlobalConfig(e){throw new Error("Method not implemented.")}async getObjectDetails(e,r){const n=new W(`IGit.getObjectDetails(${e}, ${r})`);try{return await this.github.getObjectDetails(this.rootUri,e,this.pathToRelativePath(r))}finally{n.stop()}}async detectObjectType(e){var r;const n=new W(`IGit.detectObjectType(${e})`);try{const i=await this.github.getBlobContent(this.metadata.repo,e);if(!Ra(i))return{mimetype:"text/plain"};const s=await(0,Dh.fromBuffer)(i);return{mimetype:(r=s==null?void 0:s.mime)!=null?r:"application/octet-stream"}}finally{n.stop()}}async buffer(e,r){const n=new W(`IGit.buffer(${e}, ${r})`);try{return await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(r))}finally{n.stop()}}async show(e,r){const n=new W(`IGit.show(${e}, ${r})`);try{const i=await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(r));return Ku.decode(i)}finally{n.stop()}}async getCommit(e){const r=new W(`IGit.getCommit(${e})`);try{const n=await this.github.getCommit(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find commit for ref "${e}"`);return n}finally{r.stop()}}clean(e){return this._objects.clear(),Promise.resolve()}async apply(e,r){const n=new W(`IGit.apply(reverse=${r})`);try{return await this.changeStore.applyPatch(this.rootUri,e,r?{reverse:!0}:void 0)}finally{n.stop()}}async diff(e){const r=new W(`IGit.diff(${e})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,e?{staged:!0}:void 0)}finally{r.stop()}}diffWithHEAD(e){return e?this.diffBetween("","HEAD",e):this.diffBetween("","HEAD")}diffWith(e,r){return r?this.diffBetween("",e,r):this.diffBetween("",e)}diffIndexWithHEAD(e){return e?this.diffBetween("~","HEAD",e):this.diffBetween("~","HEAD")}diffIndexWith(e,r){return r?this.diffBetween("~",e,r):this.diffBetween("~",e)}async diffBetween(e,r,n){if(!n)throw new Error("Method not implemented.");const i=new W(`IGit.diffBetween(${e}, ${r}, ${n})`);try{const o=[];for(const d of[e,r])try{o.push(await this.getContent(d,n))}catch(u){o.push(void 0)}const[s,l]=o;if(s===void 0&&l!==void 0)return Fn(n,"",l,"add");if(s!==void 0&&l===void 0)return Fn(n,s,"","delete");if(s!==void 0&&l!==void 0)return Fn(n,s,l,"modify");throw c.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(e,r){const n=new W(`IGit.diffBlobs(${e}, ${r})`);try{const i=await this.getBlobContent(e),o=await this.getBlobContent(r),s=dn("untitled",i,o);return Promise.resolve(s)}finally{n.stop()}}async getBlobContent(e){const r=new W(`IGit.getBlobContent(${e})`);try{const n=this._objects.get(e);if(n)return this._objects.delete(e),n;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),o=await this.github.getBlobContent(i,e);return Ku.decode(o)}finally{r.stop()}}async getContent(e,r){const n=new W(`IGit.getContent(${e}, ${r})`);try{const i=this.pathToRelativeUri(r);if(e===""||e==="~"){const o=await this.changeStore.getChange(i);if(o!==void 0&&(e===""||o.staged))return this.changeStore.getContent(i);e="HEAD"}return await this.show(e==="HEAD"?this.metadata.HEAD.sha:e,r)}finally{n.stop()}}async hashObject(e){const r=new W("IGit.hashObject");try{const n=y(await gt(e));return this._objects.set(n,e),n}finally{r.stop()}}async createBranch(e,r,n){const i=new W(`IGit.createBranch(${e}, ${r}, ${n})`);try{n||(n=this.metadata.HEAD.sha);const o=await this.github.createBranch(this.rootUri,e,n);r&&await this.checkout(o)}finally{i.stop()}}deleteBranch(e,r){throw new Error("Method not implemented.")}async getBranch(e){const r=new W(`IGit.getBranch(${e})`);try{const n=await this.github.getBranch(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find branch named "${e}"`);return{type:n.type,name:n.name,commit:n.commit,remote:this.remote.name,upstream:{name:n.name,remote:this.remote.name}}}finally{r.stop()}}async getBranches(e){var r,n;const i=(n=(r=e.contains)!=null?r:e.pattern)!=null?n:"",o=new W(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:e.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(l=>({type:l.type,name:l.name,commit:l.commit}))}finally{o.stop()}}setBranchUpstream(e,r){throw new Error("Method not implemented.")}getMergeBase(e,r){throw new Error("Method not implemented.")}async status(){}async checkout(e){const r=new W(`IGit.checkout(${e})`);try{if(await this.github.repositoryObjectExists(this.rootUri,e)){const i=await this.github.switchTo(this.rootUri,e,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const n=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(e);if(n==null?void 0:n.groups){const{num:i}=n.groups,{provider:o,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),l=this.providerService.getRemoteUri(o.id,{repo:s,pullRequest:{id:i}});if(l!==void 0){const d=await this.providerService.createWorkspaceForRemoteUrl(l.toString());d!==void 0&&await this.providerService.openWorkspace(d)}}throw new Error("User aborted")}finally{r.stop()}}addRemote(e,r){var n;let i;const o=this.remotes.findIndex(s=>s.name===e);return o!==-1&&([i]=this.remotes.splice(o,1)),this.remotes.push({name:e,fetchUrl:r,isReadOnly:(n=i==null?void 0:i.isReadOnly)!=null?n:!1}),Promise.resolve()}removeRemote(e){const r=this.remotes.findIndex(n=>n.name===e);return r!==-1&&this.remotes.splice(r,1),Promise.resolve()}renameRemote(e,r){const n=this.remotes.findIndex(o=>o.name===e);if(n===-1)return Promise.resolve();const[i]=this.remotes.splice(n,1);return this.remotes.push({...i,name:r}),Promise.resolve()}async fetch(e,r,n){const i=new W("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(e){const r=new W("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:Le.Merge})}finally{r.stop()}}push(e,r,n){return Promise.resolve()}blame(e){throw new Error("Method not implemented.")}async log(e){var r;const n=(e==null?void 0:e.path)?this.pathToRelativePath(e.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:n,limit:e==null?void 0:e.maxEntries});return(r=i==null?void 0:i.commits)!=null?r:[]}async commit(e,r){const n=new W("IGit.commit");try{if((r==null?void 0:r.amend)!==void 0||(r==null?void 0:r.empty)!==void 0||(r==null?void 0:r.signCommit)!==void 0||(r==null?void 0:r.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(r==null?void 0:r.all)===!1})).filter(o=>o.fileType===c.FileType.File);if(!i.length){c.window.showInformationMessage(c.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,e,i,void 0,r),await this.changeStore.acceptAll(this.rootUri)}finally{n.stop()}}pathToRelativePath(e){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(e))}pathToRelativeUri(e){return N(this.rootUri,Nh(e))}}a(Gu,"GitHubRepository");const Fh=/^\/?([a-zA-Z])(?::\/)(.*)$/,Oh=/\\/g;function Nh(t){t=c.Uri.file(t).fsPath.replace(Oh,"/");const e=Fh.exec(t);return e!==null&&([,,t]=e),t.startsWith("/")?t:`/${t}`}a(Nh,"normalizePath");function Xs(t){switch(t){case G.Changed:return so.MODIFIED;case G.Created:return so.INTENT_TO_ADD;case G.Deleted:return so.DELETED}}a(Xs,"opTypeToStatus");class ts extends Error{constructor(e,r,n){super(e.message);this.original=e,this.name=r,this.id=n;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,ts)}}a(ts,"PullRequestNotFoundError");class lo extends Error{constructor(e,r){super(e.message);this.original=e,this.name=r;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,lo)}}a(lo,"RepositoryForbiddenError");class uo extends Error{constructor(e,r){super(e.message);this.original=e,this.name=r;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,uo)}}a(uo,"RepositoryNotFoundError");class rs extends Error{constructor(e,r){super(e.message);this.original=e,this.name=r;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,rs)}}a(rs,"RepositoryEmptyError");var Ph=Object.defineProperty,kh=Object.getOwnPropertyDescriptor,hi=a((t,e,r,n)=>{for(var i=n>1?void 0:n?kh(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Ph(e,r,i),i},"messages_decorateClass");class Yn{constructor(){this.hasShownStatus404Message=!1}showGitHubStatus500Message(){return c.window.showErrorMessage(c.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),c.l10n.t("OK")),Promise.resolve()}async showStatus401Message(e){if(!e)return void c.window.showErrorMessage(c.l10n.t("The provided credentials are either invalid or expired."),c.l10n.t("OK"));const r=c.l10n.t("Reauthenticate");await c.window.showErrorMessage(c.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),r)===r&&e()}async showStatus404Message(e,r,n){if(this.hasShownStatus404Message)return!0;this.hasShownStatus404Message=!0;const i=c.l10n.t("Load Latest"),o=await c.window.showErrorMessage(c.l10n.t("Could not open repository '{0}'.",e),{modal:!0,detail:c.l10n.t(`The last opened commit ({0}) no longer exists on the remote.

Do you want to load the latest repository contents from the remote instead? Your uncommitted changes for commit {0} will be preserved and should be reviewed before committing.`,S(r))},i);return n(o),o!==void 0}async showStatus403Message(e){if(!e)return void c.window.showErrorMessage(c.l10n.t("The provided credentials do not have the required access."),c.l10n.t("OK"));const r=c.l10n.t("Reauthenticate"),n=c.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await c.window.showErrorMessage(n,r)===r&&e()}async showRepositoryEmptyMessage(e){const r=c.l10n.t("Open Repository");await c.window.showErrorMessage(c.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),{modal:!0},r)===r&&c.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,r){const n=c.l10n.t("Open Pull Request");await c.window.showErrorMessage(c.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,r),n)===n&&c.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,r){const n=c.l10n.t("OK");await c.window.showWarningMessage(c.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,r),n)}async showRepositoryForbiddenMessage(e,r){const n=c.l10n.t("Open Repository"),i=c.l10n.t("Reauthenticate"),o=await c.window.showErrorMessage(c.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository or reauthenticate?",e),{modal:!0},n,i);o===n?c.commands.executeCommand("remoteHub.openRepository"):o===i&&r()}async showRepositoryNotFoundMessage(e,r){const n=c.l10n.t("Open Repository");await c.window.showErrorMessage(r?c.l10n.t("Unable to find repository '{0}' for ref '{1}'. Would you like to open another repository?",e,r):c.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),{modal:!0},n)===n&&c.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(e){const r=c.l10n.t("Open Repository");await c.window.showErrorMessage(c.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),{modal:!0},r)===r&&c.commands.executeCommand("remoteHub.openRepository")}}a(Yn,"Messages"),hi([Cr(()=>"")],Yn.prototype,"showGitHubStatus500Message",1),hi([Cr(()=>"")],Yn.prototype,"showStatus401Message",1),hi([Cr(()=>"")],Yn.prototype,"showStatus404Message",1),hi([Cr(()=>"")],Yn.prototype,"showStatus403Message",1),hi([Cr()],Yn.prototype,"showRepositoryEmptyMessage",1),hi([Cr()],Yn.prototype,"showPullRequestNotFoundMessage",1),hi([Cr()],Yn.prototype,"showPullRequestHeadNotFoundMessage",1),hi([Cr()],Yn.prototype,"showRepositoryForbiddenMessage",1),hi([Cr()],Yn.prototype,"showRepositoryNotFoundMessage",1),hi([Cr()],Yn.prototype,"showUnableToOpenRepositoryMessage",1);const Pn=new Yn;var Js=__webpack_require__(4155),Lh=Object.defineProperty,Mh=Object.getOwnPropertyDescriptor,Yu=a((t,e,r,n)=>{for(var i=n>1?void 0:n?Mh(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Lh(e,r,i),i},"provider_decorateClass");const Bh=new TextDecoder,qu=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,Vu=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,Zu=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i,Uh=["repo","workflow"],ns=["repo","workflow","user:email","read:user"],is=1,el=Object.freeze({id:"github",name:"GitHub"});function aa(t){const{scheme:e,metadata:r}=L.decodeAuthority(t,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:is,ref:{type:Ue.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:is,ref:{type:Ue.Tree,id:s.ref},idx:s.idx}}),[,n,i,...o]=t.path.split("/");return{scheme:e,provider:el,name:`${n}/${i}`,repo:{owner:n,name:i},path:o.join("/")||"",ref:r==null?void 0:r.ref,idx:r==null?void 0:r.idx}}a(aa,"getGitHubMetadata");function $h(t,e){const{repo:r}=e!=null?e:aa(t);return t.with({path:`/${r.owner}/${r.name}`,query:"",fragment:""})}a($h,"getGitHubRootUri");function tl(t,e,r){const{repo:{owner:n,name:i}}=t instanceof c.Uri?aa(t):t;return c.Uri.parse(`github://${L.encodeAuthority("github",{v:is,ref:{type:Ue.Commit,id:e}})}/${n}/${i}/${r}`)}a(tl,"getGitHubRevisionUri");class Qu{constructor(e){if(this.scopes=e,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!Js.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=Js.env.GITHUB_REMOTEHUB_TEST_PAT}}a(Qu,"TestAuthenticationSession");const Xu="_remotehub.getTarballProxyEndpoints",Hh="_workbench.getTarballProxyEndpoints",Wh="_remotehub.getLfsProxyEndpoint";class as{constructor(e,r){this.providerService=e,this.tarPit=r,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.gitAttributes=new Map,this.disposable=c.Disposable.from(e.onDidChangeRepository(n=>{n.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([n.repository.uri])}),e.onDidRefresh(n=>this.onRefreshOrRepositoryChanged(n))),oi&&(this.tarballProxyEndpoint=this.getTarballProxyEndpoint(),this.lfsProxyEndpoint=this.getLfsProxyEndpoint()),Js.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new Qu(Uh))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(el.id)]}getTarballProxyEndpoint(){return c.commands.getCommands().then(async e=>{const r=e.includes(Xu)?Xu:Hh,n=await c.commands.executeCommand(r);return n==null?void 0:n["github.com"]})}async getLfsProxyEndpoint(){try{return c.commands.executeCommand(Wh).then(e=>e==null?void 0:e["github.com"])}catch(e){return}}getRemoteSourceProviders(){var e;const r=[];return((e=c.extensions.getExtension("vscode.github"))==null?void 0:e.isActive)||r.push({name:"GitHub",icon:"github",label:c.l10n.t("Open Repository from {0}","GitHub"),placeholder:c.l10n.t("Choose a repository"),supportsQuery:!0,getRemoteSources:async n=>{n=n!=null?n:"";let i;const o=n==null?void 0:n.indexOf("/");o!==-1&&(i=n.substring(0,o),n=n.substr(o+1));const{results:s}=await this.searchRepositoriesQuery(n,{user:i}),l=[];return l.push(...s.map(d=>({providerId:"github",name:d.repoWithOwner,icon:"repo",description:`${d.fork?`$(repo-forked) ${d.fork}`:""}${d.stars>0?`${d.fork?" \u2022 ":""}$(star-full) ${d.stars}`:""}`,detail:d.description,url:d.url}))),l},getRecentRemoteSources:()=>[]}),r.push({name:"GitHub",icon:"github",label:c.l10n.t("Open Pull Request from {0}","GitHub"),placeholder:c.l10n.t("Choose a pull request"),supportsQuery:!0,getRemoteSources:async n=>{n=n!=null?n:"";let i;const o=n==null?void 0:n.indexOf("/");o!==-1&&(i=n.substring(0,o),n=n.substr(o+1));const{results:s}=await this.searchPullRequestsQuery(n,{user:i}),l=[];return l.push(...s.map(d=>({providerId:"github",name:d.title,icon:"git-pull-request",description:d.reasons.length!==0?d.reasons.sort().join(", "):void 0,detail:`${d.repoWithOwner} #${d.number}`,url:d.url}))),l}}),r}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(e){e=e.filter(r=>L.getProviderId(r)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(r=>r.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(e=!1){const r=new W("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function n(){try{return e?await c.authentication.getSession("github",ns,{forceNewSession:e}):await c.authentication.getSession("github",ns,{createIfNone:!0})}catch(o){if(o instanceof Error&&o.message==="User did not consent to login.")throw new Error(c.l10n.t("Please sign into GitHub to access this repository's contents."));J.error(o);try{const s=await c.authentication.getSession("github",ns,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function l(){const u=await c.authentication.getSession("github",ns,{createIfNone:!0});u!==void 0&&s(u)}a(l,"getSession");const d=c.authentication.onDidChangeSessions(async u=>{u.provider.id==="github"&&(d.dispose(),await l())})})}}a(n,"waitUntilAuthenticated"),this._session=await n();const i=c.authentication.onDidChangeSessions(o=>{if(this._session===void 0){i.dispose();return}o.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{r.stop()}}async getAuthentication(e){const r=await this.ensureAuthenticated();return{provider:el,session:r,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${r.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(e){if(this._octokitDefaults===void 0){const n=await this.ensureAuthenticated();if(oi){async function i(o,s){if(s.headers!==void 0){const{"user-agent":l,...d}=s.headers;l&&(s.headers=d)}return no(o,s)}a(i,"fetchCore"),this._octokitDefaults=oo.defaults({auth:`token ${n.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=oo.defaults({auth:`token ${n.accessToken}`})}const r=new this._octokitDefaults(e);return(J.logLevel===ve.Debug||J.isDebugging)&&r.hook.wrap("request",async(n,i)=>{var o;const s=new W(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await n(i)}finally{let l;try{if(typeof i.query=="string"){const d=/(^[^({\n]+)/.exec(i.query);l=` ${(o=d==null?void 0:d[1].trim())!=null?o:i.query}`}}catch{}s.stop({message:l})}}),r}async graphql(e,r,n=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(e,r)}catch(i){throw n||this.handleRequestErrors(i),J.error(i),i}}async request(e,r){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(e,r)}catch(n){throw this.handleRequestErrors(n),J.error(n),n}}handleRequestErrors(e){var r,n;if(e instanceof di)switch(e.status){case 500:return e.response&&Pn.showGitHubStatus500Message(),!0;case 401:return Pn.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Pn.showStatus403Message(()=>void this.reauthenticate()),!0}else if(e instanceof Hi){if(((n=(r=e.errors)==null?void 0:r[0])==null?void 0:n.type)==="FORBIDDEN")return Pn.showStatus403Message(()=>void this.reauthenticate()),!0;if(e.headers.status==="500")return Pn.showGitHubStatus500Message(),!0}return!1}createIGitRepository(e,r,n,i){return new Gu(this.providerService,e,r,n,i,this)}async validateMetadataRevision(e,r,n){try{switch(n.type){case X.Branch:case X.RemoteBranch:await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:e,repo:r,tree_sha:n.sha}),J.debug(`GitHub.validateMetadataRevision(${e}, ${r}, ${n.sha}) SUCCEEDED`);break;default:return}}catch(i){if(J.error(`GitHub.validateMetadataRevision(${e}, ${r}, ${n.sha}) FAILED with error`,i.toString()),i instanceof di&&i.status===404&&i.message==="Not Found"&&!await Pn.showStatus404Message(`${e}/${r}`,n.sha,s=>{if(s!==void 0)switch(n.type){case X.Branch:case X.RemoteBranch:n.sha=n.branch.sha}}))throw i}}async createMetadata(e,r){var n,i,o,s,l,d;const u=new W(`GitHub.createMetadata(${e.toString()}, ${r})`);let g;try{let{provider:F,name:A,repo:{owner:k,name:oe},ref:pe}=aa(e);(!pe||pe.type===Ue.Commit&&/HEAD/i.test(pe.id))&&(pe={type:Ue.Commit,id:"HEAD"});const Be=this.providerService.isInWorkspace(e),Ie=await this.getRepositoryInfo(k,oe,Be,pe.type===Ue.PullRequest?{pr:Number(pe.id)}:{ref:pe.id});if(Ie===void 0)throw g=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Ye;if(r)Ye=r;else if(pe.type===Ue.Commit&&pe.id!=="HEAD"||pe.type===Ue.Tree&&Ie.ref===void 0)Ye=pe.id;else if(Ye=(i=(n=Ie.ref)==null?void 0:n.sha)!=null?i:Ie.defaultBranch.sha,Ye===void 0)throw g=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let tt;if(((o=Ie.ref)==null?void 0:o.prefix)==="refs/heads/")tt={type:X.Branch,name:Ie.ref.name,sha:Ye,branch:{name:Ie.ref.name,sha:Ie.ref.sha}};else if(((s=Ie.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Ie.ref.remote)throw g=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);tt={type:X.RemoteBranch,name:`${Ie.ref.remote.repo.owner}${Ie.ref.remote.repo.name!==oe?`/${Ie.ref.remote.repo.name}`:""}:${Ie.ref.name}`,sha:Ye,branch:{name:Ie.ref.name,sha:Ie.ref.sha,remote:Ie.ref.remote}}}else((l=Ie.ref)==null?void 0:l.prefix)==="refs/tags/"?tt={type:X.Tag,name:Ie.ref.name,sha:Ie.ref.sha,detached:{type:X.Tag,name:Ie.ref.name}}:tt={type:X.Commit,name:S(Ye),sha:Ye,detached:{type:X.Commit,name:S(Ye)}};await this.validateMetadataRevision(k,oe,tt);let $e,it;if(xe.get("experimental.prefetch")&&Be&&($e=Ye,u.log({suffix:` \u2022 Prefetching tree for ${$e}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(at=>it=at),repo:{owner:k,name:oe},HEAD:{sha:$e},timestamp:Date.now()}})),$e!==void 0&&$e!==tt.sha){const at=this.asFileTreeKey(e,$e),dt=this.fileTreeCache.get(at);dt&&!C($e)&&tt.sha===((d=tt.branch)==null?void 0:d.sha)?(u.log({suffix:` \u2022 Updating prefetched tree for ${$e}, since HEAD was resolved; HEAD=${tt.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,tt.sha),dt),this.fileTreeCache.delete(at)):(u.log({suffix:` \u2022 Removing prefetched tree for ${$e}, since the HEAD changed; HEAD=${tt.sha}`}),this.fileTreeCache.delete(at),dt==null||dt.dispose())}const xt={version:Jn.schemaVersion,timestamp:Date.now(),provider:F,name:A,repo:Ie.repo,cloneUrl:Ie.cloneUrl,accessLevel:Ie.accessLevel,HEAD:tt,defaultBranch:Ie.defaultBranch,pullRequest:Ie.pullRequest};return g=` \u2022 HEAD=${tt.sha}`,it==null||it(xt),xt}finally{u.stop(g?{suffix:g}:void 0)}}getMetadata(e){return this.providerService.getMetadata(e)}canOpenRemoteUrl(e){var r;const n=(r=qu.exec(e))!=null?r:Zu.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:l}=n.groups;return s?ue.PullRequest:o?ue.Commit:l?ue.Branch:i?ue.File:ue.Repository}async createWorkspaceForRemoteUrl(e,r=me.CurrentWindow,n=!0){var i;const o=(i=qu.exec(e))!=null?i:Zu.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{owner:s,repo:l,blob:d,commit:u,pull:g,tree:F,fragment:A}=o.groups;l=l.endsWith(".git")?l.slice(0,l.length-4):l;let k,oe;if(n){const Ie=await this.validateOwnerAndRepoAndSplitRefFromPath(s,l,F!=null?F:d);if(Ie===void 0)return;({owner:s,repo:l,ref:oe,path:k}=Ie)}if(F||d){if(k&&A&&d){const Ie=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(A);if(Ie==null?void 0:Ie.groups){const{start:Ye,end:tt}=Ie.groups;k+=`:${Ye}${tt!==void 0?`-${tt}`:""}`}}}else u?oe={type:Ue.Commit,id:u}:g&&(oe={type:Ue.PullRequest,id:g});const pe=this.providerService.createVirtualUri("github",{repo:{owner:s,name:l},ref:oe}),{name:Be}=aa(L.getVirtualUri(this.getProviderRootUri(pe)));return{name:Be,uri:pe,location:r,filesToOpen:k?[k]:void 0}}createVirtualUri(e,{repo:r,ref:n,idx:i},o){const s=n!==void 0||i!==void 0?{v:is}:void 0;return s&&(n&&(s.ref={...n,type:n.type===Ue.Branch||n.type===Ue.Tag?Ue.Tree:n.type}),i&&(s.idx=i)),e.with({authority:L.encodeAuthority("github",s),path:`/${r.owner}/${r.name}${(o==null?void 0:o.startsWith("/"))?o:o?`/${o}`:""}`})}getRemoteUri(e){const r=`https://github.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"";return e.pullRequest?c.Uri.parse(`${r}/pull/${e.pullRequest.id}`):e.branch?c.Uri.parse(`${r}/${n}/${e.branch}${i}`):e.tag?c.Uri.parse(`${r}/${n}/${e.tag}${i}`):e.sha?c.Uri.parse(`${r}/${n}/${e.sha}${i}`):c.Uri.parse(r)}getProviderRootUri(e){return e=L.getProviderUri(e),$h(e)}getRelativeFilePath(e,r){let{path:n}=aa(e);const{path:i}=aa(N(e,r));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:r,name:n,repo:i,ref:o}=aa(e);return{provider:r,name:n,repo:i,ref:o}}async getModeRefType(e,r){const{HEAD:n,pullRequest:i}=await(r!=null?r:this.getMetadata(e));switch(n.type){case X.Branch:return i!==void 0?Y.PullRequestBranch:Y.Branch;case X.RemoteBranch:return i!==void 0?Y.PullRequestRemoteBranch:Y.RemoteBranch;case X.Tag:return Y.Tag;case X.Commit:return Y.Commit}}async getGitAttributes(e){const r=e.toString(),n=this.gitAttributes.get(r);if(n)return n;const i=this.providerService.createRelativeUri(e,".gitattributes"),o=this.getFileContent(i).then(s=>new qs(Bh.decode(s))).catch(s=>{if(s instanceof c.FileSystemError&&s.code===c.FileSystemError.FileNotFound().code)return new qs("");throw s});return this.gitAttributes.set(r,o),o}async createBranch(e,r,n,i){try{const{repo:{owner:o,name:s}}=i!=null?i:await this.getMetadata(e);return r.startsWith("refs/heads/")||(r=`refs/heads/${r}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:o,repo:s,ref:r,sha:n})).data.ref.substr(11)}catch(o){throw o instanceof di&&o.status===422?o.message==="Reference already exists"?ee.InvalidBranchNameError(r.substring(11),!0):ee.InvalidBranchNameError(r.substring(11),!1):(J.error(o),o)}}async createAndPushCommit(e,r,n,i,o,s){var l;const d=new W(`GitHub.createAndPushCommit(${e.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(n=n.filter(g=>g.fileType===c.FileType.File),n.length===0&&!(o==null?void 0:o.empty))throw d.stop({message:"Aborted; No changes to commit"}),ee.NothingToCommitError("No changes to commit");let u;try{const g=await this.getMetadata(e);let F;if(i!==void 0)F=i;else{if(g.HEAD.detached&&!g.HEAD.branch)throw ee.DetachedHEADError("Unable to commit; no current branch");F=g.HEAD.branch.name}let A;if(s)A=`${s.repo.owner}/${s.repo.name}`;else if(g.HEAD.type===X.RemoteBranch&&g.HEAD.branch.remote.accessLevel>=j.Write){const{owner:it,name:xt}=g.HEAD.branch.remote.repo;A=`${it}/${xt}`}else A=`${g.repo.owner}/${g.repo.name}`;const k=[],oe=[],pe=[],Be=await this.getGitAttributes(e);for(const it of n)switch(it.type){case G.Created:case G.Changed:{try{const xt=await it.content;if(xe.get("experimental.lfs.write.enabled")&&Ve(Be,it.path)){const at=await St(xt);pe.push({...at,path:it.path,binaryContent:xt})}else k.push({path:it.path,contents:Zr(xt)})}catch(xt){throw J.error(xt),ee.CommitFailedError()}break}case G.Deleted:oe.push({path:it.path});break}const Ie=await this.uploadLfsFiles(e,pe);k.push(...Ie);const Ye={branch:{branchName:F,repositoryNameWithOwner:A},message:{headline:r},fileChanges:{additions:k,deletions:oe},expectedHeadOid:g.HEAD.sha},tt=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,$e=await this.graphql(tt,{commitInput:Ye});if(u=$e==null?void 0:$e.createCommitOnBranch.commit.oid,!u)throw ee.CommitFailedError();return i===void 0&&!g.HEAD.detached&&u!==void 0&&await this.fastForwardTo(e,u,g),u}catch(g){if(g instanceof Hi){const F=(l=g.errors)==null?void 0:l[0];if((F==null?void 0:F.type)==="STALE_DATA"&&F.message.includes("Pull and try again"))throw ee.MergeConflictError(g);if((F==null?void 0:F.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&F.message.includes("protected branch"))throw ee.CommitToProtectedBranchError(F.message);if((F==null?void 0:F.type)==="FORBIDDEN"&&F.message.includes("does not have the correct permissions to execute `CreateCommitOnBranch`"))throw ee.CommitToArchivedRepositoryError(F.message)}throw J.error(g),g}finally{d.stop(u?{message:`: Created and pushed commit ${u}`}:void 0)}}async createPullRequest(e,r,n,i,o,s){var l,d,u;const g=new W(`GitHub.createPullRequest(${e.toString()}, ${r}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:F,name:A},HEAD:{branch:k},defaultBranch:oe}=await this.getMetadata(e),pe=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:F,repo:A,base:`refs/heads/${(l=k==null?void 0:k.name)!=null?l:oe.name}`,head:s?`${s.repo.owner}:${r}`:r,title:n,body:i,draft:(d=o==null?void 0:o.draft)!=null?d:!1,maintainer_can_modify:(u=o==null?void 0:o.canMaintainerModify)!=null?u:!0});return{id:pe.data.number.toString(),uri:c.Uri.parse(pe.data.html_url)}}catch(F){throw J.error(F),F}finally{g.stop()}}async fetch(e,r){const{fetched:n,metadata:i}=await this.fetchCore(e,!1,r);n&&await this.providerService.updateMetadata(e,i)}async fetchCore(e,r,n){var i,o,s,l,d,u,g,F,A;const{force:k,to:oe}={...n,force:r||(n==null?void 0:n.force)},pe=new W(`GitHub.fetch(${e.toString()}, force=${k}, to=${oe})`);let Be;try{const Ie=await this.getMetadata(e);if(Ie.HEAD.detached)return Be=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Ie};const Ye=await this.getBranchTips(e);if(!Ye)throw Be=" \u2022 Unable to fetch branch tips",ee.SyncOrFetchError(r);if(!k&&!oe&&((i=Ye.defaultBranch)==null?void 0:i.sha)!==void 0&&Ye.defaultBranch.sha===Ie.defaultBranch.sha&&((o=Ye.branch)==null?void 0:o.sha)!==void 0&&Ye.branch.sha===Ie.HEAD.branch.sha&&(Ie.HEAD.sha===Ie.HEAD.branch.sha||Ie.state!==void 0))return Be=" \u2022 No changes detected",{fetched:!1,metadata:Ie};let tt;if(((s=Ye.defaultBranch)==null?void 0:s.sha)!==void 0&&Ye.defaultBranch.sha!==Ie.defaultBranch.sha&&(tt={defaultBranch:{...Ie.defaultBranch,sha:Ye.defaultBranch.sha}}),((l=Ye.branch)==null?void 0:l.sha)===void 0){if(Be=" \u2022 Unable to find branch tip",k)throw ee.SyncOrFetchError(r);return tt!==void 0?{fetched:!0,metadata:{...Ie,...tt}}:{fetched:!1,metadata:Ie}}if(Ye.branch.sha!==Ie.HEAD.branch.sha&&(tt={...tt,HEAD:{...Ie.HEAD,branch:{...Ie.HEAD.branch,sha:Ye.branch.sha},detached:void 0}}),Ye.branch.sha===((d=n==null?void 0:n.to)!=null?d:Ie.HEAD.sha))return Be=" \u2022 Up to date",Ie.state!==void 0||tt!==void 0?{fetched:!0,metadata:{...Ie,...tt,state:void 0}}:{fetched:!1,metadata:Ie};pe.logStep("Fetching upstream changes");try{const $e=await this.getAheadBehindState(e,Ie,{base:(u=n==null?void 0:n.to)!=null?u:Ie.HEAD.sha,head:(A=(F=(g=tt==null?void 0:tt.HEAD)==null?void 0:g.branch)==null?void 0:F.sha)!=null?A:Ie.HEAD.branch.sha});return Be=` \u2022 Changes detected; ${$e==null?void 0:$e.behind} commits behind`,{fetched:!0,metadata:{...Ie,...tt,state:$e?{ahead:$e.ahead,behind:$e.behind,incomingChanges:$e.incomingChanges}:void 0}}}catch($e){if(Be=` \u2022 Failed fetching upstream changes; ${String($e)}`,k)throw ee.SyncOrFetchError(r);return tt!==void 0?{fetched:!0,metadata:{...Ie,...tt}}:{fetched:!1,metadata:Ie}}}finally{pe.stop(Be?{suffix:Be}:void 0)}}async fork(e){try{const{repo:{owner:r,name:n}}=await this.getMetadata(e),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:r,repo:n});let o;for(;;){try{if(o=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),o!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(r){throw J.error(r),r}}async getBranch(e,r){try{const{repo:{owner:n,name:i}}=await this.getMetadata(e),o=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
						refUpdateRule {
							viewerCanPush
							requiredApprovingReviewCount
						}
					}
				}
			}`,s=await this.graphql(o,{owner:n,repo:i,qualifiedName:r.startsWith("refs/heads/")?r:`refs/heads/${r}`});return(s==null?void 0:s.repository)?{type:Ei.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl,locked:s.repository.ref.refUpdateRule?!s.repository.ref.refUpdateRule.viewerCanPush||s.repository.ref.refUpdateRule.requiredApprovingReviewCount>0:void 0}:void 0}catch(n){return}}async getBranches(e,r){var n,i,o;try{const{repo:{owner:s,name:l}}=await this.getMetadata(e),d=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				refUpdateRule {
					viewerCanPush
					requiredApprovingReviewCount
				}
				target {
					oid
					commitUrl
					... on Commit {
						committedDate
					  }
				}
			}
		}
	}
}`,u=await this.graphql(d,{owner:s,repo:l,branchQuery:(n=r==null?void 0:r.query)!=null?n:"",cursor:r==null?void 0:r.cursor,limit:Math.min(100,(i=r==null?void 0:r.limit)!=null?i:100)});if(u===void 0)return{branches:[]};const g=(o=u.repository)==null?void 0:o.refs;if(g===void 0)return{branches:[]};const F=g.nodes.map(A=>({type:Ei.Head,name:A.name,commit:A.target.oid,commitUrl:A.target.commitUrl,committedDate:new Date(A.target.committedDate),locked:A.refUpdateRule?!A.refUpdateRule.viewerCanPush||A.refUpdateRule.requiredApprovingReviewCount>0:void 0}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},branches:F}}catch(s){return{branches:[]}}}async getCommit(e,r){var n;try{const{HEAD:i,repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;r.toUpperCase()==="HEAD"&&(r=i.sha);const d=await this.graphql(l,{owner:o,repo:s,ref:r});if(d===void 0)return;const u=(n=d.repository)==null?void 0:n.object;return u===void 0?void 0:{hash:u.oid,message:u.message,parents:u.parents.nodes.map(g=>g.oid),authorDate:new Date(u.author.date),authorEmail:u.author.email,authorName:u.author.name,commitDate:new Date(u.committer.date)}}catch(i){return}}async getCommits(e,r){var n,i,o;try{const{HEAD:s,repo:{owner:l,name:d}}=await this.getMetadata(e),u=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let g=r==null?void 0:r.ref;(g==null?void 0:g.toUpperCase())==="HEAD"&&(g=s.sha);const F=await this.graphql(u,{owner:l,repo:d,ref:g,cursor:r==null?void 0:r.cursor,path:r==null?void 0:r.path,limit:Math.min(100,(n=r==null?void 0:r.limit)!=null?n:100)});if(F===void 0)return;const A=(o=(i=F.repository)==null?void 0:i.object)==null?void 0:o.history;if(A===void 0)return;const k=A.nodes.map(oe=>({hash:oe.oid,message:oe.message,parents:oe.parents.nodes.map(pe=>pe.oid),authorDate:new Date(oe.author.date),authorEmail:oe.author.email,authorName:oe.author.name,commitDate:new Date(oe.committer.date)}));return{paging:{cursor:A.pageInfo.endCursor,more:A.pageInfo.hasNextPage},commits:k}}catch(s){return}}async getBlobContent(e,r){try{const n=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:e.owner,repo:e.name,file_sha:r});return Jr(n.data.content)}catch(n){throw J.logLevel===ve.Debug&&J.error(n),n}}async getFileContent(e,r,n){try{let i;const o=this.getProviderRootUri(e);if(r&&n&&!this.hasFileTree(e,r)){n.startsWith("/")&&(n=n.slice(1));let s=(0,Yd.dirname)(n);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(o,r,{path:s,recursive:!1})).get(n)}else{const[s,{path:l}]=await Promise.all([this.getFileTree(e,r),n?{path:void 0}:this.providerService.getMetadata(e)]);i=await s.get(n!=null?n:l)}if((i==null?void 0:i.sha)===void 0)throw c.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw J.logLevel===ve.Debug&&J.error(i),i}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,r){var n,i,o,s;const l=this.getBatchApiUrl(e),d=(await this.ensureAuthenticated()).accessToken,u=[],g=await no(l,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${d}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:r.map(F=>({oid:F.oid,size:F.size}))})});if(g.ok){const F=await g.json();if(F.objects.length!==r.length)throw ee.CommitFailedError();for(let A=0;A<r.length;A++){const k=F.objects[A],oe=r[A];if((i=(n=k.actions)==null?void 0:n.upload)==null?void 0:i.href){const{href:pe,header:Be}=k.actions.upload;if((await no(pe,{method:"PUT",body:oe.binaryContent,headers:{"Content-Type":"application/octet-stream",...Be}})).ok&&((s=(o=k.actions)==null?void 0:o.verify)==null?void 0:s.href)&&!(await no(k.actions.verify.href,{method:"POST",headers:k.actions.verify.header})).ok)throw ee.CommitFailedError()}u.push({path:oe.path,contents:bt(oe.oid,oe.size)})}}return u}async getLfsContent(e,r){var n,i;const{oid:o,size:s}=ze(r),l=this.getBatchApiUrl(e),d=(await this.ensureAuthenticated()).accessToken;try{const u=await no(l,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${d}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:o,size:Number(s)}]})});if(u.ok){const F=(i=(n=(await u.json()).objects[0].actions)==null?void 0:n.download)==null?void 0:i.href;if(F){if(oi){const A=await this.lfsProxyEndpoint;if(A!==void 0)return c.window.withProgress({location:c.ProgressLocation.Window},(k,oe)=>Xo(A!=null?A:F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fetchUrl:F})},void 0,oe,k))}return c.window.withProgress({location:c.ProgressLocation.Window},(A,k)=>Xo(F,{method:"GET"},void 0,k,A))}}return r}catch(u){return J.error(u),r}}async getFileList(e,r,n){const i=new W(`GitHub.getFileList(${e.toString()}${n?`, ${n}`:""})`);try{const{repo:{owner:o,name:s},HEAD:{sha:l}}=await this.getMetadata(e),d=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:o,repo:s,treeish:`${n!=null?n:l}${r?`:${r}`:""}`});return d.status!==200?[]:d.data}catch(o){return J.error(o),[]}finally{i.stop()}}hasFileTree(e,r){return r?this.fileTreeCache.has(this.asFileTreeKey(e,r)):this.getMetadata(e).then(n=>this.fileTreeCache.has(this.asFileTreeKey(e,n.HEAD.sha)))}async getFileTree(e,r,n){var i,o,s,l;const d=this.providerService.isInWorkspace(e);let u=d,g,F,A;if(u||!r){const Be=(o=(i=n==null?void 0:n.prefetched)==null?void 0:i.metadata)!=null?o:this.getMetadata(e);g=d?this.getFileTreePermissions(e,Be):void 0;let Ie;({repo:F,HEAD:{sha:Ie},timestamp:A}=(s=n==null?void 0:n.prefetched)!=null?s:await Be),r||(r=Ie)}else({repo:F}=(l=n==null?void 0:n.prefetched)!=null?l:this.providerService.getVirtualUriMetadata(e)),A=Date.now();const k=this.asFileTreeKey(e,r);this.fileTreesToCache.has(k)&&(u=!0),this.fileTreesToCache.add(k);const oe=this.getProviderRootUri(e),pe=new W(`GitHub.getFileTree(${k}): ${e.toString()}`,{log:!1,logLevel:ve.Debug});try{let Be=a(function(){var Ye;const tt=new W(`GitHub.createFileTree(${k})`);let $e,it;u&&d&&($e=new c.EventEmitter,it=c.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>$e.fire()),this.tarPit.onDidDownloadTar(at=>$e.fire({rootUri:this.getProviderRootUri(at.rootUri),sha:at.sha}))));const xt={dispose:()=>it==null?void 0:it.dispose(),permissions:g,getContent:async(at,dt)=>{const Pt=new W("getFileContents"),rt=xe.get("experimental.fs.useTars");if(rt==="always"||rt==="ifAvailable"){const hr=await this.tarPit.getInMemoryTar(oe,r);if(hr){const Qr=hr.entryMap.get(dt);if(Qr)return Pt.stop({message:`Retrieved ${dt} from in-memory tar with rootUri=${oe.toString()}, ref=${r==null?void 0:r.toString()}`}),Qr.dataAsBytes}}let Ft=!1;return new Promise((hr,Qr)=>{this.getBlobContent(F,at.sha).then(Vr=>{Ft||(Pt.stop({message:`Retrieved ${dt} from web`}),Ft=!0,hr(Vr))},Vr=>Qr(Vr)),rt!=="never"&&this.tarPit.getCachedTar(oe,r).then(Vr=>Vr===void 0&&rt==="always"&&!Ft?this.tarPit.getTar(oe,!1,r):Vr).then(Vr=>{var bi;const kn=(bi=Vr==null?void 0:Vr.entryMap.get(dt))==null?void 0:bi.dataAsBytes;kn&&!Ft&&(Pt.stop({message:`Retrieved ${dt} from tar`}),Ft=!0,hr(kn))},Vr=>{})})},getTree:async(at,dt)=>{const Pt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:F.owner,repo:F.name,recursive:dt?"1":void 0,tree_sha:`${r}${at?`:${at}`:""}`});return Pt.data.truncated?{sha:Pt.data.sha,truncated:!0}:{sha:Pt.data.sha,truncated:!1,tree:Dn(Pt.data.tree,rt=>{var Ft;return{path:rt.path,item:{mode:rt.mode,sha:rt.sha,stat:{type:jh(rt.type),size:(Ft=rt.size)!=null?Ft:0,ctime:0,mtime:A,permissions:void 0}}}})}},onDidTriggerContentCaching:$e==null?void 0:$e.event,tryCachingContent:u&&d?async at=>{const dt=xe.get("experimental.fs.useTars");if(dt!=="always"&&dt!=="ifAvailable")return!1;const Pt=new W(`FileTree.loadAllContent(${r})`);let rt;try{let Ft;if(dt==="ifAvailable"){if(Pt.logStep("Tar cache query"),Ft=await this.tarPit.getCachedTar(oe,r),Ft===void 0)return rt=" \u2022 No cached Tar",!1}else Pt.logStep("Tar query"),Ft=await this.tarPit.getTar(oe,!1,r);Pt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const hr of Ft.entries){const Qr=at(hr.header.fullFileName);if(Qr===void 0)continue;const Vr=hr.dataAsBytes;Qr.getContent=()=>Vr}return!0}catch(Ft){return rt=` \u2022 Failed ${String(Ft)}`,!1}finally{Pt.stop(rt?{suffix:rt}:void 0)}}:void 0};try{return new Qs(oe,r,A,xt,{path:n==null?void 0:n.path,recursive:(Ye=n==null?void 0:n.recursive)!=null?Ye:u,preload:u||(n==null?void 0:n.recursive)})}catch(at){return J.error(at),new Qs(oe,r,A,void 0)}finally{tt.stop()}},"createFileTree"),Ie=this.fileTreeCache.get(k);return Ie!==void 0||(Ie=Be.call(this),u&&this.fileTreeCache.set(k,Ie)),Ie}finally{pe.stop()}}async getFileTreePermissions(e,r){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,r)).display===Z.Edit)return;const i=await this.providerService.getIndexMetadata(e);return re.isActive(i)?c.FilePermission.Readonly:void 0}async getFork(e){var r,n,i;try{const{repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,d=await this.graphql(l,{owner:o,repo:s});if(d===void 0)return;const[u]=(i=(n=(r=d.repository)==null?void 0:r.forks)==null?void 0:n.nodes)!=null?i:[];return u===void 0?void 0:{name:`${u.owner.login}/${u.name}`,repo:{owner:u.owner.login,name:u.name},url:u.url}}catch(o){return}}async getIncomingChanges(e){var r,n;return(n=(r=(await this.getMetadata(e)).state)==null?void 0:r.incomingChanges)!=null?n:[]}async compareCommits(e,r){const n=await this.getMetadata(e),i=await this.getAheadBehindState(e,n,{base:r.base,head:r.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(e,r,n){var i,o,s,l,d;const{base:u,head:g}={base:r.HEAD.sha,head:(i=r.HEAD.branch)==null?void 0:i.sha,...n},F=new W(`GitHub.getAheadBehindState(${e.toString()}, base=${u}, head=${g})`);let A,k;try{if(!g){A=` \u2022 Skipped; Unsupported HEAD type (${r.HEAD.type})`;return}const oe=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:r.repo.owner,repo:r.repo.name,base:u,head:g}),pe=[];for(const Be of(o=oe.data.files)!=null?o:[])switch(Be.status){case"added":case"copied":pe.push({uri:c.Uri.joinPath(e,Be.filename),type:G.Created});break;case"removed":pe.push({uri:c.Uri.joinPath(e,Be.filename),type:G.Deleted});break;case"modified":pe.push({uri:c.Uri.joinPath(e,Be.filename),type:G.Changed});break;case"renamed":pe.push({uri:c.Uri.joinPath(e,Be.filename),type:G.Created}),pe.push({uri:c.Uri.joinPath(e,Be.previous_filename),type:G.Deleted});break;default:J.warn(`GitHub.getAheadBehindState(${e.toString()}, base=${u}, head=${g}): Unknown file status encountered '${Be.status}'`);break}return k={ahead:(s=oe.data.behind_by)!=null?s:0,behind:(l=oe.data.ahead_by)!=null?l:0,incomingChanges:pe},k}catch(oe){throw A=` \u2022 Failed; ${String(oe)}`,J.error(oe),oe}finally{F.stop({suffix:A!=null?A:` \u2022 ${(d=k==null?void 0:k.behind)!=null?d:0} commits behind`})}}async getObjectDetails(e,r,n){var i;try{const o=await this.getFileTree(e,r);n?n=this.providerService.getRelativeFilePath(e,this.providerService.createRelativeUri(e,n)):{path:n}=await this.providerService.getMetadata(e);const s=await o.get(n);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${n} in ${r}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(o){throw J.error(o),o}}async getPullRequest(e,r){const{repo:{owner:n,name:i}}=await this.getMetadata(e);return this.getPullRequestCore(n,i,r)}async getPullRequestCore(e,r,n){var i,o,s,l,d,u,g;try{const F=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,A=await this.graphql(F,{owner:e,repo:r,number:Number(n)}),k=(i=A==null?void 0:A.repository)==null?void 0:i.pullRequest;return k?{author:{name:k.author.login,avatarUrl:k.author.avatarUrl,url:k.author.url},closedAt:k.closedAt?new Date(k.closedAt):void 0,mergedAt:k.mergedAt?new Date(k.mergedAt):void 0,id:k.number.toString(),repo:{name:k.repository.name,owner:k.repository.owner.login},state:rl(k.state),title:k.title,updatedAt:new Date(k.updatedAt),url:k.permalink,refs:{base:{owner:k.baseRepository.owner.login,repo:k.baseRepository.name,branch:k.baseRefName,sha:k.baseRefOid,exists:k.baseRef!=null},head:{owner:(d=(l=(o=k.headRepository)==null?void 0:o.owner.login)!=null?l:(s=k.headRepositoryOwner)==null?void 0:s.login)!=null?d:"<unknown>",repo:(g=(u=k.headRepository)==null?void 0:u.name)!=null?g:k.baseRepository.name,branch:k.headRefName,sha:k.headRefOid,exists:k.headRef!=null}}}:void 0}catch(F){J.error(F);return}}async getPullRequestForBranch(e,r,n){var i,o,s,l,d;try{const{repo:{owner:u,name:g}}=await this.getMetadata(e),F=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,A=await this.graphql(F,{owner:u,repo:g,branch:r,maxCount:(i=n==null?void 0:n.maxCount)!=null?i:1,states:zh(n==null?void 0:n.include)}),k=(d=(l=(s=(o=A==null?void 0:A.repository)==null?void 0:o.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:l.nodes)==null?void 0:d.filter(pe=>!pe.repository.isFork||pe.repository.owner.login===u);if(k==null||k.length===0)return;k.length>1&&k.sort((pe,Be)=>(pe.repository.owner.login===u?-1:1)-(Be.repository.owner.login===u?-1:1)||(pe.state==="OPEN"?-1:1)-(Be.state==="OPEN"?-1:1)||new Date(Be.updatedAt).getTime()-new Date(pe.updatedAt).getTime());const[oe]=k;return{author:{name:oe.author.login,avatarUrl:oe.author.avatarUrl,url:oe.author.url},closedAt:oe.closedAt?new Date(oe.closedAt):void 0,mergedAt:oe.mergedAt?new Date(oe.mergedAt):void 0,id:oe.number.toString(),repo:{name:oe.repository.name,owner:oe.repository.owner.login},state:rl(oe.state),title:oe.title,updatedAt:new Date(oe.updatedAt),url:oe.permalink}}catch(u){J.error(u);return}}async getTags(e,r){var n,i,o;try{const{repo:{owner:s,name:l}}=await this.getMetadata(e),d=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,u=await this.graphql(d,{owner:s,repo:l,tagQuery:(n=r==null?void 0:r.query)!=null?n:"",cursor:r==null?void 0:r.cursor,limit:Math.min(100,(i=r==null?void 0:r.limit)!=null?i:100)});if(u===void 0)return{tags:[]};const g=(o=u.repository)==null?void 0:o.refs;if(g===void 0)return{tags:[]};const F=g.nodes.map(A=>({type:Ei.Tag,name:A.name,commit:A.target.oid,commitUrl:A.target.commitUrl}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},tags:F}}catch(s){return{tags:[]}}}async loadWorkspaceContents(e){try{return await this.tarPit.getTar(e,!1,void 0),!0}catch(r){return J.error(r),!1}}async getTarGz(e,r,n){const{repo:{owner:i,name:o}}=await this.getMetadata(e),s=await this.ensureAuthenticated(),l=xe.get("indexing.verboseDownloadNotification");return c.window.withProgress({location:l?c.ProgressLocation.Notification:c.ProgressLocation.Window,cancellable:!0,title:c.l10n.t("Downloading repository index")},async(d,u)=>{try{if(oi){let A;try{const Be=await this.tarballProxyEndpoint;Be!==void 0&&(A=Be.replace("{owner}",i).replace("{repo}",o).replace("{sha}",r))}catch{}if(!A)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const oe=await(await Ru(A,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},u)).text();return await Xo(oe,{},n,u,d)}const g=`https://api.github.com/repos/${i}/${o}/tarball/${r}`;return await Xo(g,{headers:{Authorization:`Bearer ${s.accessToken}`}},n,u,d)}catch(g){throw J.error(g),g}})}async queryRepositoryObject(e,r,n,i){var o,s;try{const{repo:{owner:l,name:d},HEAD:{sha:u},path:g}=await this.providerService.getMetadata(e),F=`query ${r}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${n}
		}
	}
}`,A=await this.graphql(F,{owner:l,repo:d,expression:i!=null?i:`${u}:${g}`});return(s=(o=A==null?void 0:A.repository)==null?void 0:o.object)!=null?s:void 0}catch(l){J.error(l);return}}async repositoryObjectExists(e,r){return await this.queryRepositoryObject(e,"exists","			__typename",r)!==void 0}async searchPullRequestsQuery(e,r){var n;function i(o){function s(l,d){return{number:l.number,title:l.title,repoWithOwner:l.repository.nameWithOwner,reasons:d?[d]:[],url:l.url}}return a(s,"toResult"),Ri([...o.assigned.nodes.filter(l=>l!==null).map(l=>s(l,"assigned")),...o.reviewRequested.nodes.filter(l=>l!==null).map(l=>s(l,"review requested")),...o.mentioned.nodes.filter(l=>l!==null).map(l=>s(l,"mentioned")),...o.authored.nodes.filter(l=>l!==null).map(l=>s(l,"authored")),...Zt(o.viewer.repositories.nodes,l=>l.pullRequests.nodes.filter(d=>d!==null).map(d=>s(d)))],l=>l.url,(l,d)=>(d.reasons.length!==0&&l.reasons.push(...d.reasons),l))}a(i,"processQueryResults");try{const o=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;e=e.trim(),(r==null?void 0:r.user)&&(e+=` user:${r.user}`);const s=await this.graphql(o,{authored:(e?`${e} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(e?`${e} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(e?`${e} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(e?`${e} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof Hi?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(e,r){var n;function i(o){var s,l,d;const u=Ri((r==null?void 0:r.user)?[...o.search.nodes,...o.viewer.repositories.nodes]:[...o.viewer.repositories.nodes,...o.search.nodes],F=>F==null?void 0:F.url),g=[];for(const F of u)F!==null&&g.push({repoWithOwner:F.nameWithOwner,owner:F.nameWithOwner.split("/")[0],repo:F.nameWithOwner.split("/")[1],description:(s=F.description)!=null?s:void 0,url:F.url,fork:(d=(l=F.parent)==null?void 0:l.nameWithOwner)!=null?d:void 0,stars:F.stargazerCount});return g}a(i,"processQueryResults");try{const o=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(r==null?void 0:r.user)&&(e+=` user:${r.user}`),(r==null?void 0:r.owner)&&(e+=` owner:${r.owner}`),(r==null?void 0:r.sort)&&(e+=` sort:${r.sort}`),e+=" fork:true";const s=await this.graphql(o,{search:e.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof Hi?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(e,r,n){var i,o,s;const{repo:{owner:l,name:d},HEAD:u,defaultBranch:g}=await this.getMetadata(r),F=[];((i=u.branch)==null?void 0:i.name)!==g.name&&F.push(c.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(o=u.branch)==null?void 0:o.name)!=null?s:u.detached.name,g.name));try{const k=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${e} repo:${l}/${d}`}),oe=new c.Range(0,0,0,0),pe=[];let Be=0,Ie;for(const Ye of k.data.items)for(const tt of Ye.text_matches){if(Be++,n.maxResults!==void 0&&Be>n.maxResults)return{matches:pe,limitHit:!0};Ie={path:Ye.path,ranges:[],preview:tt.fragment,matches:[]};for(const $e of tt.matches){let it=0,xt=0,at=0;for(let dt=0;dt<$e.indices[1];dt++)dt===$e.indices[0]&&(xt=at),tt.fragment[dt]===`
`?(it++,at=0):at++;Ie.ranges.push(oe),Ie.matches.push(new c.Range(it,xt,it,at))}pe.push(Ie)}return{matches:pe,limitHit:!1,warnings:F}}catch(A){return{matches:[],limitHit:!0}}}async switchTo(e,r,n){const{name:i,repo:o,HEAD:{branch:s}}=await this.getMetadata(e);let l;if(!(r!==void 0&&(typeof r=="string"?(r==null?void 0:r.startsWith("refs/heads/"))?(l={type:Ue.Tree,id:r.substr(11)},r=r.substr(11)):(r==null?void 0:r.startsWith("refs/tags/"))?l={type:Ue.Tree,id:r.substr(10)}:l={type:Ue.Tree,id:r}:l={...r,type:r.type===Ue.Branch||r.type===Ue.Tag?Ue.Tree:r.type},(s==null?void 0:s.name)===l.id)))return{name:i,uri:this.providerService.createVirtualUri(e,{repo:o,ref:l}),location:(n==null?void 0:n.openInNewWindow)?me.NewWindow:me.CurrentWindow}}async sync(e,r,n){var i,o,s,l,d,u;const g=new W(`GitHub.sync(${e.toString()}, resolution=${n.conflictResolution}, to=${n.to})`);let F;try{const{metadata:A}=await this.fetchCore(e,!0,{to:n.to});if(A.HEAD.detached){F=" \u2022 Skipped; detached HEAD";return}if(((o=(i=A==null?void 0:A.state)==null?void 0:i.behind)!=null?o:0)>0&&await r.hasChanges(e)){g.logStep("Fetching upstream changes");const k=[],oe=(l=(s=A.state)==null?void 0:s.incomingChanges)!=null?l:[];if(oe.length>0){const pe=await r.getChanges(e);for(const Be of pe){const Ie=this.providerService.getRelativeFilePath(e,Be.uri),Ye=oe.find(tt=>this.providerService.getRelativeFilePath(e,tt.uri)===Ie);Ye!==void 0&&k.push({path:Ie,current:Be,incomingType:Ye.type})}}if(k.length>0)switch(n.conflictResolution){case Le.KeepCurrent:g.logStep("Syncing (keep) upstream changes",{message:`: ${k.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const pe of k)await r.keep(pe.current.uri,{type:pe.incomingType,providerUri:tl(A,A.HEAD.branch.sha,pe.path)});break;case Le.DiscardCurrent:g.logStep("Syncing (discard) upstream changes",{message:`: ${k.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const pe of k)await r.discard(pe.current.uri);break;case Le.Merge:g.logStep("Syncing (merge) upstream changes",{message:`: ${k.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const pe of k)await r.merge(pe.current.uri,{type:pe.incomingType,providerUri:tl(A,A.HEAD.branch.sha,pe.path)},{providerUri:tl(A,A.HEAD.sha,pe.path)});break;case Le.Abort:default:throw g.logStep("Syncing (abort) upstream changes",{message:`: ${k.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(e,A),ee.SyncConflictsError()}}F=` \u2022 to=${(d=n.to)!=null?d:A.HEAD.branch.sha}`,await this.fastForwardTo(e,(u=n.to)!=null?u:A.HEAD.branch.sha,A)}finally{g.stop(F?{suffix:F}:void 0)}}async fastForwardTo(e,r,n){if(n.HEAD.detached)throw ee.DetachedHEADError("Unable to fast-forward; no current branch");if(n.HEAD.sha===r&&n.state===void 0)return;const i=this.asFileTreeKey(e,n.HEAD.sha),o=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),o==null||o.dispose(),J.log(`Fast forward to ${r}; rootUri=${e.toString()}`),await this.providerService.updateMetadata(e,{...n,HEAD:{...n.HEAD,detached:void 0,sha:r},state:r!==n.HEAD.branch.sha?n.state:void 0,timestamp:Date.now()}),r!==n.HEAD.branch.sha&&n.state===void 0&&await this.fetchCore(e,!1,{to:r})}async getBranchTips(e,r){try{const{repo:{owner:n,name:i},HEAD:o}=await this.getMetadata(e);r===void 0&&(o.type===X.RemoteBranch?r=`${o.branch.remote.repo.owner}/${o.branch.remote.repo.name}:refs/heads/${o.branch.name}`:r=o.branch?`refs/heads/${o.branch.name}`:"");const s=Vu.exec(r);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(n,i,r);const l=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,d=await this.graphql(l,{owner:n,repo:i,ref:r});if((d==null?void 0:d.repository)==null)return;const{defaultBranchRef:u,ref:g}=d.repository;return!u&&!g?void 0:{defaultBranch:u?{sha:u.target.oid}:void 0,branch:g?{sha:g.target.oid}:void 0}}catch(n){return}}async getRemoteBranchTips(e,r,n){try{const i=Vu.exec(n);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:o,remoteRepo:s,remoteRef:l}=i.groups;s||(s=r);const d=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,u=await this.graphql(d,{owner:e,repo:r,remoteOwner:o,remoteRepo:s,remoteRef:l});if((u==null?void 0:u.repository)==null||(u==null?void 0:u.remote)==null)return;const{repository:{defaultBranchRef:g},remote:{ref:F}}=u;return!g&&!F?void 0:{defaultBranch:g?{sha:g.target.oid}:void 0,branch:F?{sha:F.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(e,r,n,i){var o,s,l,d,u,g,F,A,k,oe,pe,Be,Ie,Ye,tt,$e;try{const it=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,xt=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${it}
		}
	}
}`;let at,dt;try{const hr=await this.graphql(xt,{owner:e,repo:r,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(o=i==null?void 0:i.pr)!=null?o:0});if((hr==null?void 0:hr.repository)==null)return;({repository:dt,viewer:{login:at}}=hr)}catch(hr){if((i==null?void 0:i.pr)&&hr instanceof Hi&&((l=(s=hr.errors)==null?void 0:s[0])==null?void 0:l.type)==="NOT_FOUND"&&((d=hr.errors[0])==null?void 0:d.message.includes("Could not resolve to a PullRequest"))){({repository:dt,viewer:{login:at}}=hr.data);try{const Qr=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${it}
			}
		}
	}
}`,{owner:e,repo:r,pr:i==null?void 0:i.pr});if(((g=(u=Qr==null?void 0:Qr.repository)==null?void 0:u.parent)==null?void 0:g.pullRequest)==null)throw hr;dt.pullRequest=Qr.repository.parent.pullRequest}catch{throw hr}}else throw hr}const Pt=(F=dt.defaultBranchRef)!=null?F:void 0;if((Pt==null?void 0:Pt.name)==null)return;const rt=dt.pullRequest;let Ft;if(dt==null?void 0:dt.ref)Ft={prefix:dt.ref.prefix,name:dt.ref.name,sha:"oid"in dt.ref.target?dt.ref.target.oid:dt.ref.target.target.oid};else if(rt==null?void 0:rt.headRef){let hr=nl(rt.headRepository.viewerPermission);hr<j.Write&&rt.maintainerCanModify&&nl(dt.viewerPermission)>=j.Write&&(hr=j.WriteToPullRequest),Ft=rt.headRepository.owner.login===e?{prefix:"refs/heads/",name:rt==null?void 0:rt.headRef.name,sha:(k=(A=rt.mergeCommit)==null?void 0:A.oid)!=null?k:rt==null?void 0:rt.headRefOid}:{prefix:"refs/remotes/",name:rt==null?void 0:rt.headRef.name,sha:(pe=(oe=rt.mergeCommit)==null?void 0:oe.oid)!=null?pe:rt==null?void 0:rt.headRefOid,remote:{name:`${rt.headRepository.owner.login}/${rt.headRepository.name}`,accessLevel:hr,repo:{owner:rt.headRepository.owner.login,name:rt.headRepository.name}}}}else(rt==null?void 0:rt.baseRef)?(Ft={prefix:"refs/heads/",name:rt==null?void 0:rt.baseRef.name,sha:(Ie=(Be=rt.mergeCommit)==null?void 0:Be.oid)!=null?Ie:rt==null?void 0:rt.baseRefOid},n&&(J.log("Did not find a headRef for PR, falling back to baseRef",rt.baseRef),Pn.showPullRequestHeadNotFoundMessage(`${e}/${r}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(Ft={prefix:"refs/heads/",name:Pt.name,sha:Pt.target.oid});return{user:at,repo:{owner:dt.owner.login,name:dt.name},accessLevel:nl(dt.viewerPermission),ref:Ft,defaultBranch:{name:Pt.name,sha:Pt.target.oid},cloneUrl:{http:dt.url,ssh:dt.sshUrl},pullRequest:rt?{id:rt.number.toString(),state:rl(rt.state),title:rt.title}:void 0}}catch(it){if(it instanceof Hi)switch((tt=(Ye=it.errors)==null?void 0:Ye[0])==null?void 0:tt.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&(($e=it.errors[0])==null?void 0:$e.message.includes("Could not resolve to a PullRequest"))){const at=new ts(it,`${e}/${r}`,`#${i==null?void 0:i.pr}`);throw n&&Pn.showPullRequestNotFoundMessage(at.name,at.id),at}const xt=new uo(it,`${e}/${r}`);throw n?ee.InvalidRepositoryError():xt}case"FORBIDDEN":{const xt=new lo(it,`${e}/${r}`);throw n&&Pn.showRepositoryForbiddenMessage(xt.name,()=>this.reauthenticate()),xt}}J.error(it,`Failed to get repository info for '${e}/${r}'`),!this.handleRequestErrors(it)&&n&&Pn.showUnableToOpenRepositoryMessage(it);return}}async getSubmodules(e){var r,n,i;const{repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getRepository(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
	}
}`;try{const d=await this.graphql(l,{owner:o,repo:s});if((d==null?void 0:d.repository)==null)return[];const u=[];for(const g of(n=(r=d.repository.submodules)==null?void 0:r.nodes)!=null?n:[]){const F=(i=await this.createWorkspaceForRemoteUrl(g.gitUrl,void 0,!1))==null?void 0:i.uri;F&&u.push([g.path,F])}return u}catch(d){return[]}}async validateOwnerAndRepoAndSplitRefFromPath(e,r,n){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${n!=null?n:"HEAD"}`,{owner:e,repo:r});return[e,r]=i.data.name_with_owner.split("/"),n?{owner:e,repo:r,ref:{type:Ue.Tree,id:i.data.ref},path:i.data.path}:{owner:e,repo:r}}catch(i){if(i instanceof di)switch(i.status){case 401:throw ee.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Pn.showRepositoryForbiddenMessage(`${e}/${r}`,()=>this.reauthenticate()),new lo(i,`${e}/${r}`);case 404:throw Pn.showRepositoryNotFoundMessage(`${e}/${r}`,i.message.includes("No ref found")?n:void 0),new uo(i,`${e}/${r}`);case 409:throw Pn.showRepositoryEmptyMessage(`${e}/${r}`),new rs(i,`${e}/${r}`)}return}}asFileTreeKey(e,r){return`${B(this.getProviderRootUri(e))}:${r}`}}a(as,"GitHubRepositoryProvider"),Yu([Cr()],as.prototype,"ensureAuthenticated",1),Yu([Cr()],as.prototype,"octokit",1);function rl(t){switch(t){case"OPEN":return ie.Open;case"CLOSED":return ie.Closed;case"MERGED":return ie.Merged}}a(rl,"toPullRequestState");function zh(t){if(t!==void 0)return t.map(e=>{switch(e){case ie.Open:return"OPEN";case ie.Closed:return"CLOSED";case ie.Merged:return"MERGED"}})}a(zh,"fromPullRequestStates");var oa;(function(t){t.ADMIN="ADMIN",t.MAINTAIN="MAINTAIN",t.WRITE="WRITE",t.TRIAGE="TRIAGE",t.READ="READ",t.NONE="NONE"})(oa||(oa={}));function nl(t){switch(t){case oa.ADMIN:return j.Admin;case oa.MAINTAIN:return j.Maintain;case oa.WRITE:return j.Write;case oa.TRIAGE:return j.Triage;case oa.READ:return j.Read;default:return j.None}}a(nl,"permissionToAccessLevel");function jh(t){switch(t&&(t=t.toLocaleLowerCase()),t){case"blob":return c.FileType.File;case"tree":case"commit":return c.FileType.Directory;default:return c.FileType.Unknown}}a(jh,"typenameToFileType");function Kh(t){return{registerVirtualProviderService:function(e){Te.configure("githubRepositories",t),J.configure(t,"GitHub Repositories",xe.get("logLevel")),W.start("Time to root directory",{log:!1});const r=Di.configure(t),n=new Aa(t);try{const i=new nn(t.globalState),o=i.with(r),s=new Ki(t.globalStorageUri,r),l=new Jn(o),d=new Un(e,o,s,n,r);d.getWorkspacesWithChanges();const u=new Ia(e,i,d,r,t),g=new Tu(t.globalStorageUri,e),F=new as(e,g),A=new ro(e,F,d,g,n);t.subscriptions.push(e.register("github","GitHub",F,A,i,d,l,u),F,A,new ge(F))}catch(i){throw J.error(i),Da(t,i),i}}}}a(Kh,"activate")})(),module.exports=__webpack_exports__})();
