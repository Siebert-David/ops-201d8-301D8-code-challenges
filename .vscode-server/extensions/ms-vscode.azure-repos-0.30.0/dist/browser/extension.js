var ns=Object.defineProperty;var a=(ya,ea)=>ns(ya,"name",{value:ea,configurable:!0});(()=>{var ya={5326:(Ke,v,E)=>{"use strict";E.r(v),E.d(v,{AppInsightsCore:()=>P,BaseCore:()=>N,BaseTelemetryPlugin:()=>Je.i,CoreUtils:()=>S.Tr,DiagnosticLogger:()=>W.AQ,ESPromise:()=>ne,ESPromiseScheduler:()=>ce,EventHelper:()=>B.zB,EventLatency:()=>I,EventPersistence:()=>g,EventPropertyType:()=>f,EventsDiscardedReason:()=>Be.h,FullVersionString:()=>S.vs,InternalAppInsightsCore:()=>z.F,InternalBaseCore:()=>m.A,LoggingSeverity:()=>p.X,MinChannelPriorty:()=>Re,NotificationManager:()=>X.f,PerfEvent:()=>L.zn,PerfManager:()=>L.Jk,ProcessTelemetryContext:()=>ke.Vi,TraceLevel:()=>H,Undefined:()=>le.jA,Utils:()=>S.cQ,ValueKind:()=>K,ValueSanitizer:()=>Se,Version:()=>S.Gf,_ExtendedInternalMessageId:()=>$,_InternalLogMessage:()=>W.lQ,_InternalMessageId:()=>p.v,__getRegisteredEvents:()=>V.um,_logInternalMessage:()=>W.L4,_throwInternal:()=>W.kP,_warnToConsole:()=>W.jV,addEventHandler:()=>V.Ib,addEventListeners:()=>V.yw,addPageHideEventListener:()=>V.TJ,addPageShowEventListener:()=>V.nD,addPageUnloadEventListener:()=>V.c9,areCookiesSupported:()=>Me.p7,arrForEach:()=>R.tO,arrIndexOf:()=>R.UA,arrMap:()=>R.Mr,arrReduce:()=>R.Xz,attachEvent:()=>V.pZ,cookieAvailable:()=>Me.p7,createCookieMgr:()=>Me.Nz,createEnumStyle:()=>h.By,createGuid:()=>S.cm,createProcessTelemetryContext:()=>ke.CD,createTraceParent:()=>we.SU,createUniqueNamespace:()=>Ye.J,createUnloadHandlerContainer:()=>ve.Y,dateNow:()=>R.m6,deleteCookie:()=>S.kT,detachEvent:()=>V.pD,disableCookies:()=>S.oF,disallowsSameSiteNone:()=>Me.UY,doPerf:()=>L.Lm,dumpObj:()=>G.eU,eventOff:()=>V.QY,eventOn:()=>V.XO,extend:()=>S.l7,findW3cTraceParent:()=>we.lq,formatTraceParent:()=>we.aR,generateW3CId:()=>B.DO,getCommonSchemaMetaData:()=>S.Vv,getConsole:()=>G.dr,getCookie:()=>S.ej,getCookieValue:()=>S.Do,getCrypto:()=>G.MX,getDocument:()=>G.Me,getExceptionName:()=>R.jj,getFieldValueType:()=>S.Sy,getGlobal:()=>pe.Rd,getGlobalInst:()=>G.a8,getHistory:()=>G.s1,getIEVersion:()=>G.sA,getISOString:()=>R.Y6,getJSON:()=>G.xA,getLocation:()=>G.k$,getMsCrypto:()=>G.gz,getNavigator:()=>G.jW,getPerformance:()=>G.r,getSetValue:()=>R.qK,getTenantId:()=>S.jM,getTime:()=>S.hK,getWindow:()=>G.Jj,hasDocument:()=>G.Nv,hasHistory:()=>G.fE,hasJSON:()=>G.nS,hasNavigator:()=>G.d6,hasOwnProperty:()=>R.nr,hasWindow:()=>G.Ym,isArray:()=>R.kJ,isArrayValid:()=>S.JT,isBeaconsSupported:()=>G.MF,isBoolean:()=>R.jn,isChromium:()=>S.mJ,isDate:()=>R.J_,isDocumentObjectAvailable:()=>S.x9,isError:()=>R.VZ,isFetchSupported:()=>G.JO,isFunction:()=>R.mf,isIE:()=>G.w1,isLatency:()=>S.r7,isNotTruthy:()=>R.F,isNullOrUndefined:()=>R.le,isNumber:()=>R.hj,isObject:()=>R.Kn,isReactNative:()=>G.b$,isSampledFlag:()=>we.Pn,isString:()=>R.HD,isTruthy:()=>R.fQ,isTypeof:()=>R.Ym,isUint8ArrayAvailable:()=>S.IZ,isUndefined:()=>R.o8,isValidSpanId:()=>we.Lc,isValidTraceId:()=>we.jN,isValidTraceParent:()=>we.J6,isValueAssigned:()=>S.Sn,isValueKind:()=>S.oS,isWindowObjectAvailable:()=>S.dH,isXhrSupported:()=>G.Z3,mergeEvtNamespace:()=>V.jU,newGuid:()=>B.GW,newId:()=>ee.pZ,normalizeJsName:()=>R.Gf,objCreate:()=>pe.pu,objDefineAccessors:()=>R.l_,objForEachKey:()=>R.rW,objFreeze:()=>R.FL,objKeys:()=>R.FY,objSeal:()=>R.Xi,openXhr:()=>S.ot,optimizeObject:()=>R.Ax,parseTraceParent:()=>we.j_,perfNow:()=>B.Jj,proxyAssign:()=>R.cf,proxyFunctionAs:()=>R.Oi,proxyFunctions:()=>R.Vb,random32:()=>ee._l,randomValue:()=>ee.az,removeEventHandler:()=>V.C1,removeEventListeners:()=>V.nJ,removePageHideEventListener:()=>V.C9,removePageShowEventListener:()=>V.Yl,removePageUnloadEventListener:()=>V.JA,safeGetCookieMgr:()=>Me.JP,safeGetLogger:()=>W.vH,sanitizeProperty:()=>S.yj,setCookie:()=>S.d8,setEnableEnvMocks:()=>G.dI,setProcessTelemetryTimings:()=>S.if,setValue:()=>R.sO,strContains:()=>R._Q,strEndsWith:()=>R.Id,strFunction:()=>le.cb,strObject:()=>le.fK,strPrototype:()=>le.hB,strStartsWith:()=>R.xe,strTrim:()=>R.nd,strUndefined:()=>le.jA,throwError:()=>R._y,toISOString:()=>R.Y6,useXDomainRequest:()=>G.cp});var T=E(1088),h=E(4873),R=E(6708),p=E(7310),K=(0,h.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),I=(0,h.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),f=(0,h.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),g=(0,h.By)({Normal:1,Critical:2}),H=(0,h.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),$=(0,R.FL)((0,T.uc)((0,T.uc)({},p.v),(0,h.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),O=E(1679),W=E(5018),L=E(9288),G=E(7630),z=E(5121),ae=E(7984),S=E(3599),k=function(ye){(0,T.ne)(ge,ye);function ge(){var be=ye.call(this)||this;return be.pluginVersionStringArr=[],(0,O.Z)(ge,be,function(oe,Qe){(!oe.logger||!oe.logger.queue)&&(oe.logger=new W.AQ({loggingLevelConsole:1})),oe.initialize=function(Oe,A,Z,fe){(0,L.Lm)(oe,function(){return"AppInsightsCore.initialize"},function(){var He=oe.pluginVersionStringArr;if(Oe){Oe.endpointUrl||(Oe.endpointUrl=ae.YT);var Ge=Oe.propertyStorageOverride;Ge&&(!Ge.getProperty||!Ge.setProperty)&&(0,R._y)("Invalid property storage override passed."),Oe.channels&&(0,R.tO)(Oe.channels,function(_t){_t&&(0,R.tO)(_t,function(at){if(at.identifier&&at.version){var Vt=at.identifier+"="+at.version;He.push(Vt)}})})}oe.getWParam=function(){return typeof document!="undefined"||!!Oe.enableWParam?0:-1},A&&(0,R.tO)(A,function(_t){if(_t&&_t.identifier&&_t.version){var at=_t.identifier+"="+_t.version;He.push(at)}}),oe.pluginVersionString=He.join(";"),oe.pluginVersionStringArr=He;try{Qe.initialize(Oe,A,Z,fe),oe.pollInternalLogs("InternalLog")}catch(_t){var dt=oe.logger,je=(0,G.eU)(_t);je.indexOf("channels")!==-1&&(je+=`
 - Channels must be provided through config.channels only!`),(0,W.kP)(dt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+je)}},function(){return{config:Oe,extensions:A,logger:Z,notificationManager:fe}})},oe.track=function(Oe){(0,L.Lm)(oe,function(){return"AppInsightsCore.track"},function(){var A=Oe;if(A){A.timings=A.timings||{},A.timings.trackStart=(0,S.hK)(),(0,S.r7)(A.latency)||(A.latency=1);var Z=A.ext=A.ext||{};Z.sdk=Z.sdk||{},Z.sdk.ver=S.vs;var fe=A.baseData=A.baseData||{};fe[ae.o6]=fe[ae.o6]||{};var He=fe[ae.o6];He[ae.p8]=He[ae.p8]||oe.pluginVersionString||ae.qS}Qe.track(A)},function(){return{item:Oe}},!Oe.sync)}}),be}return a(ge,"AppInsightsCore"),ge.__ieDyn=1,ge}(z.F);const P=k;var m=E(6900),C=function(ye){(0,T.ne)(ge,ye);function ge(){var be=ye.call(this)||this;return(0,O.Z)(ge,be,function(oe,Qe){oe.initialize=function(Oe,A,Z,fe){Oe&&!Oe.endpointUrl&&(Oe.endpointUrl=ae.YT),oe.getWParam=function(){return S.x9||!!Oe.enableWParam?0:-1};try{Qe.initialize(Oe,A,Z,fe)}catch(He){(0,W.kP)(oe.logger,1,514,"Initialization Failed: "+(0,G.eU)(He)+`
 - Note: Channels must be provided through config.channels only`)}},oe.track=function(Oe){var A=Oe;if(A){var Z=A.ext=A.ext||{};Z.sdk=Z.sdk||{},Z.sdk.ver=S.vs}Qe.track(A)}}),be}return a(ge,"BaseCore"),ge.__ieDyn=1,ge}(m.A);const N=C;var Y=R.mf;function J(ye,ge,be){return function(oe){ye[ge]=oe,be()}}a(J,"_createPromiseAllOnResolvedFunction");var Q=function(){function ye(ge){var be=0,oe=null,Qe=[];(0,O.Z)(ye,this,function(He){He.then=function(Ge,dt){return new ye(function(je,_t){Oe(Ge,dt,je,_t)})},He.catch=function(Ge){return He.then(null,Ge)}});function Oe(He,Ge,dt,je){Qe.push(function(){var _t;try{be===1?_t=Y(He)?He(oe):oe:_t=Y(Ge)?Ge(oe):oe,_t instanceof ye?_t.then(dt,je):be===2&&!Y(Ge)?je(_t):dt(_t)}catch(at){je(at);return}}),be!==0&&A()}a(Oe,"_enqueue");function A(){if(Qe.length>0){var He=Qe.slice();Qe=[],setTimeout(function(){for(var Ge=0,dt=He.length;Ge<dt;++Ge)try{He[Ge]()}catch(je){}},0)}}a(A,"_processQueue");function Z(He){be===0&&(oe=He,be=1,A())}a(Z,"_resolve");function fe(He){be===0&&(oe=He,be=2,A())}a(fe,"_reject"),a(function(){if(!Y(ge))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{ge(Z,fe)}catch(Ge){fe(Ge)}},"_initialize")()}return a(ye,"ESPromise"),ye.resolve=function(ge){return ge instanceof ye?ge:ge&&Y(ge.then)?new ye(function(be,oe){try{ge.then(be,oe)}catch(Qe){oe(Qe)}}):new ye(function(be){be(ge)})},ye.reject=function(ge){return new ye(function(be,oe){oe(ge)})},ye.all=function(ge){if(!(!ge||!ge.length))return new ye(function(be,oe){try{for(var Qe=[],Oe=0,A=0;A<ge.length;A++){var Z=ge[A];Z&&Y(Z.then)?(Oe++,Z.then(J(Qe,A,function(){--Oe==0&&be(Qe)}),oe)):Qe[A]=Z}Oe===0&&setTimeout(function(){be(Qe)},0)}catch(fe){oe(fe)}})},ye.race=function(ge){return new ye(function(be,oe){if(!(!ge||!ge.length))try{for(var Qe=a(function(A){var Z=ge[A];Z&&Y(Z.then)?Z.then(be,oe):setTimeout(function(){be(Z)},0)},"_loop_1"),Oe=0;Oe<ge.length;Oe++)Qe(Oe)}catch(A){oe(A)}})},ye}();const ne=Q;var pe=E(2091),q=6e5,U=0,se=[],De=[],Ae=[];function re(){return new Date().getTime()}a(re,"_getTime");var M=function(){function ye(ge,be){var oe=0,Qe=(ge||"<unnamed>")+"."+U;U++,(0,O.Z)(ye,this,function(Z){var fe=null,He=0;Z.scheduleEvent=function(dt,je,_t){var at=Qe+"."+He;He++,je&&(at+="-("+je+")");var Vt=at+"{"+oe+"}";oe++;var qt={evt:null,tm:re(),id:Vt,isRunning:!1,isAborted:!1};return fe?qt.evt=Bt(qt,fe):qt.evt=St(qt),fe=qt,fe.evt._schId=Vt,qt.evt;function an(rt){for(var Ht=re(),Yt=Ht-q,kt=rt.length,Ot=0;Ot<kt;){var cn=rt[Ot];if(cn&&cn.tm<Yt){var Sn=null;cn.abort?(Sn="Aborting ["+cn.id+"] due to Excessive runtime ("+(Ht-cn.tm)+" ms)",cn.abort(Sn)):Sn="Removing ["+cn.id+"] due to Excessive runtime ("+(Ht-cn.tm)+" ms)",A(Sn),rt.splice(Ot,1),kt--}else Ot++}}a(an,"_abortAndRemoveOldEvents");function Rn(rt,Ht){var Yt=!1,kt=Ge(se,rt);if(kt||(kt=Ge(Ae,rt),Yt=!0),kt){kt.to&&(clearTimeout(kt.to),kt.to=null);var Ot=re()-kt.tm;Ht?Yt?A("Timed out event ["+rt+"] finally complete -- "+Ot+" ms"):Oe("Promise ["+rt+"] Complete -- "+Ot+" ms"):(Ae.push(kt),A("Event ["+rt+"] Timed out and removed -- "+Ot+" ms"))}else Oe("Failed to remove ["+rt+"] from running queue");fe&&fe.id===rt&&(fe=null),an(se),an(De),an(Ae)}a(Rn,"_cleanup");function Ve(rt,Ht){return function(Yt){return Rn(rt,!0),Ht&&Ht(Yt),Yt}}a(Ve,"_removeScheduledEvent");function Et(rt,Ht,Yt,kt){Ht.then(function(Ot){return Ot instanceof ne?(Oe("Event ["+rt+"] returned a promise -- waiting"),Et(rt,Ot,Yt,kt),Ot):Ve(rt,Yt)(Ot)},Ve(rt,kt))}a(Et,"_waitForFinalResult");function Ut(rt,Ht){var Yt=rt.id;return new ne(function(kt,Ot){Oe("Event ["+Yt+"] Starting -- waited for "+(rt.wTm||"--")+" ms"),rt.isRunning=!0,rt.abort=function(Sn){rt.abort=null,rt.isAborted=!0,Rn(Yt,!1),Ot(new Error(Sn))};var cn=Ht(Yt);cn instanceof ne?(_t&&(rt.to=setTimeout(function(){Rn(Yt,!1),Ot(new Error("Timed out after ["+_t+"] ms"))},_t)),Et(Yt,cn,function(Sn){Oe("Event ["+Yt+"] Resolving after "+(re()-rt.tm)+" ms"),kt(Sn)},Ot)):(Oe("Promise ["+Yt+"] Auto completed as the start action did not return a promise"),kt())})}a(Ut,"_createScheduledEvent");function St(rt){var Ht=re();return rt.wTm=Ht-rt.tm,rt.tm=Ht,rt.isAborted?ne.reject(new Error("["+at+"] was aborted")):(se.push(rt),Ut(rt,dt))}a(St,"_startWaitingEvent");function Bt(rt,Ht){var Yt=new ne(function(kt,Ot){var cn=re()-Ht.tm,Sn=Ht.id;Oe("["+at+"] is waiting for ["+Sn+":"+cn+" ms] to complete before starting -- ["+De.length+"] waiting and ["+se.length+"] running"),rt.abort=function(hr){rt.abort=null,Ge(De,at),rt.isAborted=!0,Ot(new Error(hr))},Ht.evt.then(function(hr){Ge(De,at),St(rt).then(kt,Ot)},function(hr){Ge(De,at),St(rt).then(kt,Ot)})});return De.push(rt),Yt}a(Bt,"_waitForPreviousEvent")};function Ge(dt,je){for(var _t=0;_t<dt.length;_t++)if(dt[_t].id===je)return dt.splice(_t,1)[0];return null}a(Ge,"_removeQueuedEvent")});function Oe(Z){var fe=(0,pe.Rd)();fe&&fe.QUnit&&console&&console.log("ESPromiseScheduler["+Qe+"] "+Z)}a(Oe,"_debugLog");function A(Z){(0,W.jV)(be,"ESPromiseScheduler["+Qe+"] "+Z)}a(A,"_warnLog")}return a(ye,"ESPromiseScheduler"),ye.incomplete=function(){return se},ye.waitingToStart=function(){return De},ye}();const ce=M;var Se=function(){function ye(ge){var be=this,oe={},Qe=[],Oe=[];ge&&Oe.push(ge);function A(Ge,dt){var je,_t=oe[Ge];if(_t&&(je=_t[dt]),!je&&je!==null){if((0,R.HD)(Ge)&&(0,R.HD)(dt))if(Oe.length>0){for(var at=0;at<Oe.length;at++)if(Oe[at].handleField(Ge,dt)){je={canHandle:!0,fieldHandler:Oe[at]};break}}else Qe.length===0&&(je={canHandle:!0});if(!je&&je!==null){je=null;for(var at=0;at<Qe.length;at++)if(Qe[at].handleField(Ge,dt)){je={canHandle:!0,handler:Qe[at],fieldHandler:null};break}}_t||(_t=oe[Ge]={}),_t[dt]=je}return je}a(A,"_getFieldSanitizer"),be.addSanitizer=function(Ge){Ge&&(Qe.push(Ge),oe={})},be.addFieldSanitizer=function(Ge){Ge&&(Oe.push(Ge),oe={})},be.handleField=function(Ge,dt){var je=A(Ge,dt);return je?je.canHandle:!1},be.value=function(Ge,dt,je,_t){var at=A(Ge,dt);if(at&&at.canHandle){if(!at||!at.canHandle)return null;if(at.handler)return at.handler.value(Ge,dt,je,_t);if(!(0,R.HD)(dt)||(0,R.le)(je)||je===ae.qS)return null;var Vt=null,qt=(0,S.Sy)(je);if((qt&8192)==8192){var an=qt&~8192;if(Vt=je,!(0,S.Sn)(Vt.value)||an!==1&&an!==2&&an!==3&&(an&4096)!=4096)return null}else qt===1||qt===2||qt===3||(qt&4096)==4096?Vt=fe(Ge,dt,je):qt===4&&(Vt=fe(Ge,dt,_t?JSON.stringify(je):je));if(Vt)return Z(at,Ge,dt,qt,Vt,_t)}return null},be.property=function(Ge,dt,je,_t){var at=A(Ge,dt);if(!at||!at.canHandle||!(0,R.HD)(dt)||(0,R.le)(je)||!(0,S.Sn)(je.value))return null;var Vt=(0,S.Sy)(je.value);return Vt===0?null:Z(at,Ge,dt,Vt,je,_t)};function Z(Ge,dt,je,_t,at,Vt){if(Ge.handler)return Ge.handler.property(dt,je,at,Vt);if(!(0,R.le)(at.kind)){if((_t&4096)==4096||!(0,S.oS)(at.kind))return null;at.value=at.value.toString()}return He(Ge.fieldHandler,dt,je,_t,at)}a(Z,"_handleProperty");function fe(Ge,dt,je){return(0,S.Sn)(je)?{value:je}:null}a(fe,"_convertToProperty");function He(Ge,dt,je,_t,at){if(at&&Ge){var Vt=Ge.getSanitizer(dt,je,_t,at.kind,at.propertyType);if(Vt)if(_t===4){var qt={},an=at.value;(0,R.rW)(an,function(Ve,Et){var Ut=dt+"."+je;if((0,S.Sn)(Et)){var St=fe(Ut,Ve,Et);St=He(Ge,Ut,Ve,(0,S.Sy)(Et),St),St&&(qt[Ve]=St.value)}}),at.value=qt}else{var Rn={path:dt,name:je,type:_t,prop:at,sanitizer:be};at=Vt.call(be,Rn)}}return at}a(He,"_callFieldSanitizer")}return a(ye,"ValueSanitizer"),ye.getFieldType=S.Sy,ye}(),Re=100,X=E(1880),Je=E(4063),ke=E(1589),Be=E(5928),B=E(5843),V=E(4869),ee=E(4878),le=E(4392),Me=E(3242),Ye=E(5883),ve=E(310),we=E(4206)},7984:(Ke,v,E)=>{"use strict";E.d(v,{qS:()=>T,YT:()=>h,p8:()=>K,o6:()=>I});var T="",h="https://browser.events.data.microsoft.com/OneCollector/1.0/",R="pluginVersionString",p=R+"Arr",K="version",I="properties"},3599:(Ke,v,E)=>{"use strict";E.d(v,{Gf:()=>O,vs:()=>W,x9:()=>k,dH:()=>P,Sn:()=>m,jM:()=>C,IZ:()=>N,r7:()=>Y,yj:()=>J,Vv:()=>Q,oF:()=>ne,d8:()=>pe,kT:()=>q,ej:()=>U,Do:()=>se,cm:()=>De,l7:()=>Ae,hK:()=>re,oS:()=>M,JT:()=>Re,if:()=>X,Sy:()=>Je,cQ:()=>ke,Tr:()=>Be,mJ:()=>B,ot:()=>V});var T=E(7630),h=E(6708),R=E(3242),p=E(5843),K=E(4392),I=E(4869),f=E(4878),g=E(2091),H=E(7984),$,O="3.2.8",W="1DS-Web-JS-"+O,L="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",G="withCredentials",z="timeout",ae=($={},$[0]=0,$[2]=6,$[1]=1,$[3]=7,$[4096|2]=6,$[4096|1]=1,$[4096|3]=7,$),S=null,k=Boolean((0,T.Me)()),P=Boolean((0,T.Jj)());function m(ee){return!(ee===H.qS||(0,h.le)(ee))}a(m,"isValueAssigned");function C(ee){if(ee){var le=ee.indexOf("-");if(le>-1)return ee.substring(0,le)}return H.qS}a(C,"getTenantId");function N(){return S===null&&(S=!(0,h.o8)(Uint8Array)&&!Se()&&!(0,T.b$)()),S}a(N,"isUint8ArrayAvailable");function Y(ee){return!!(ee&&(0,h.hj)(ee)&&ee>=1&&ee<=4)}a(Y,"isLatency");function J(ee,le,Me){if(!le&&!m(le)||typeof ee!="string")return null;var Ye=typeof le;if(Ye==="string"||Ye==="number"||Ye==="boolean"||(0,h.kJ)(le))le={value:le};else if(Ye==="object"&&!K.CY.call(le,"value"))le={value:Me?JSON.stringify(le):le};else if((0,h.le)(le.value)||le.value===H.qS||!(0,h.HD)(le.value)&&!(0,h.hj)(le.value)&&!(0,h.jn)(le.value)&&!(0,h.kJ)(le.value))return null;if((0,h.kJ)(le.value)&&!Re(le.value))return null;if(!(0,h.le)(le.kind)){if((0,h.kJ)(le.value)||!M(le.kind))return null;le.value=le.value.toString()}return le}a(J,"sanitizeProperty");function Q(ee,le,Me){var Ye=-1;if(!(0,h.o8)(ee))if(le>0&&(le===32?Ye=1<<13:le<=13&&(Ye=le<<5)),ce(Me))Ye===-1&&(Ye=0),Ye|=Me;else{var ve=ae[Je(ee)]||-1;Ye!==-1&&ve!==-1?Ye|=ve:ve===6&&(Ye=ve)}return Ye}a(Q,"getCommonSchemaMetaData");function ne(){(0,R.JP)(null).setEnabled(!1)}a(ne,"disableCookies");function pe(ee,le,Me){(0,R.p7)(null)&&(0,R.JP)(null).set(ee,le,Me*86400,null,"/")}a(pe,"setCookie");function q(ee){(0,R.p7)(null)&&(0,R.JP)(null).del(ee)}a(q,"deleteCookie");function U(ee){return(0,R.p7)(null)?se((0,R.JP)(null),ee):H.qS}a(U,"getCookie");function se(ee,le,Me){Me===void 0&&(Me=!0);var Ye;return ee&&(Ye=ee.get(le),Me&&Ye&&decodeURIComponent&&(Ye=decodeURIComponent(Ye))),Ye||H.qS}a(se,"getCookieValue");function De(ee){ee===void 0&&(ee="D");var le=(0,p.GW)();return ee==="B"?le="{"+le+"}":ee==="P"?le="("+le+")":ee==="N"&&(le=le.replace(/-/g,H.qS)),le}a(De,"createGuid");function Ae(ee,le,Me,Ye,ve){var we={},ye=!1,ge=0,be=arguments.length,oe=Object[K.hB],Qe=arguments;for(oe.toString.call(Qe[0])==="[object Boolean]"&&(ye=Qe[0],ge++);ge<be;ge++){var ee=Qe[ge];(0,h.rW)(ee,function(A,Z){ye&&Z&&(0,h.Kn)(Z)?(0,h.kJ)(Z)?(we[A]=we[A]||[],(0,h.tO)(Z,function(fe,He){fe&&(0,h.Kn)(fe)?we[A][He]=Ae(!0,we[A][He],fe):we[A][He]=fe})):we[A]=Ae(!0,we[A],Z):we[A]=Z})}return we}a(Ae,"extend");var re=p.Jj;function M(ee){return ee===0||ee>0&&ee<=13||ee===32}a(M,"isValueKind");function ce(ee){return ee>=0&&ee<=9}a(ce,"isDataType");function Se(){var ee=(0,T.jW)();if(!(0,h.o8)(ee)&&ee.userAgent){var le=ee.userAgent.toLowerCase();if((le.indexOf("safari")>=0||le.indexOf("firefox")>=0)&&le.indexOf("chrome")<0)return!0}return!1}a(Se,"isSafariOrFirefox");function Re(ee){return ee.length>0}a(Re,"isArrayValid");function X(ee,le){var Me=ee;Me.timings=Me.timings||{},Me.timings.processTelemetryStart=Me.timings.processTelemetryStart||{},Me.timings.processTelemetryStart[le]=re()}a(X,"setProcessTelemetryTimings");function Je(ee){var le=0;if(ee!=null){var Me=typeof ee;Me==="string"?le=1:Me==="number"?le=2:Me==="boolean"?le=3:Me===K.fK&&(le=4,(0,h.kJ)(ee)?(le=4096,ee.length>0&&(le|=Je(ee[0]))):K.CY.call(ee,"value")&&(le=8192|Je(ee.value)))}return le}a(Je,"getFieldValueType");var ke={Version:O,FullVersionString:W,strUndefined:K.jA,strObject:K.fK,Undefined:K.jA,arrForEach:h.tO,arrIndexOf:h.UA,arrMap:h.Mr,arrReduce:h.Xz,objKeys:h.FY,toISOString:h.Y6,isReactNative:T.b$,isString:h.HD,isNumber:h.hj,isBoolean:h.jn,isFunction:h.mf,isArray:h.kJ,isObject:h.Kn,strTrim:h.nd,isDocumentObjectAvailable:k,isWindowObjectAvailable:P,isValueAssigned:m,getTenantId:C,isBeaconsSupported:T.MF,isUint8ArrayAvailable:N,isLatency:Y,sanitizeProperty:J,getISOString:h.Y6,useXDomainRequest:T.cp,getCommonSchemaMetaData:Q,cookieAvailable:R.p7,disallowsSameSiteNone:R.UY,setCookie:pe,deleteCookie:q,getCookie:U,createGuid:De,extend:Ae,getTime:re,isValueKind:M,isArrayValid:Re,objDefineAccessors:h.l_,addPageUnloadEventListener:I.c9,setProcessTelemetryTimings:X,addEventHandler:I.Ib,getFieldValueType:Je,strEndsWith:h.Id,objForEachKey:h.rW},Be={_canUseCookies:void 0,isTypeof:h.Ym,isUndefined:h.o8,isNullOrUndefined:h.le,hasOwnProperty:h.nr,isFunction:h.mf,isObject:h.Kn,isDate:h.J_,isArray:h.kJ,isError:h.VZ,isString:h.HD,isNumber:h.hj,isBoolean:h.jn,toISOString:h.Y6,arrForEach:h.tO,arrIndexOf:h.UA,arrMap:h.Mr,arrReduce:h.Xz,strTrim:h.nd,objCreate:g.pu,objKeys:h.FY,objDefineAccessors:h.l_,addEventHandler:I.Ib,dateNow:h.m6,isIE:T.w1,disableCookies:ne,newGuid:p.GW,perfNow:p.Jj,newId:f.pZ,randomValue:f.az,random32:f._l,mwcRandomSeed:f.CN,mwcRandom32:f.F6,generateW3CId:p.DO};function B(){return!!(0,T.a8)("chrome")}a(B,"isChromium");function V(ee,le,Me,Ye,ve,we){Ye===void 0&&(Ye=!1),ve===void 0&&(ve=!1);function ye(be,oe,Qe){try{be[oe]=Qe}catch(Oe){}}a(ye,"_wrapSetXhrProp");var ge=new XMLHttpRequest;return Ye&&ye(ge,L,Ye),Me&&ye(ge,G,Me),ge.open(ee,le,!ve),Me&&ye(ge,G,Me),!ve&&we&&ye(ge,z,we),ge}a(V,"openXhr")},9865:(Ke,v,E)=>{"use strict";E.r(v),E.d(v,{BE_PROFILE:()=>G,NRT_PROFILE:()=>L,PostChannel:()=>Dn,RT_PROFILE:()=>W});var T=E(1088),h=E(1679),R=E(9288),p=E(4869),K=E(5883),I=E(3599),f=E(6708),g=E(7630),H=E(5928),$=E(5018),O=E(4063),W="REAL_TIME",L="NEAR_REAL_TIME",G="BEST_EFFORT",z="",ae="POST",S="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",k="drop",P="send",m="requeue",C="rspFail",N="oth",Y="no-cache, no-store",J="application/x-json-stream",Q="cache-control",ne="content-type",pe="kill-tokens",q="kill-duration",U="kill-duration-seconds",se="time-delta-millis",De="client-version",Ae="client-id",re="time-delta-to-apply-millis",M="upload-time",ce="apikey",Se="AuthMsaDeviceTicket",Re="AuthXToken",X="sdk-version",Je="NoResponseBody",ke="msfpc",Be="trace",B="user";function V(lt){var vt=(lt.ext||{}).intweb;return vt&&(0,I.Sn)(vt[ke])?vt[ke]:null}a(V,"_getEventMsfpc");function ee(lt){for(var vt=null,Tt=0;vt===null&&Tt<lt.length;Tt++)vt=V(lt[Tt]);return vt}a(ee,"_getMsfpc");var le=function(){function lt(vt,Tt){var tt=Tt?[].concat(Tt):[],$t=this,Rt=ee(tt);$t.iKey=function(){return vt},$t.Msfpc=function(){return Rt||z},$t.count=function(){return tt.length},$t.events=function(){return tt},$t.addEvent=function(it){return it?(tt.push(it),Rt||(Rt=V(it)),!0):!1},$t.split=function(it,zt){var Gt;if(it<tt.length){var un=tt.length-it;(0,f.le)(zt)||(un=zt<un?zt:un),Gt=tt.splice(it,un),Rt=ee(tt)}return new lt(vt,Gt)}}return a(lt,"EventBatch"),lt.create=function(vt,Tt){return new lt(vt,Tt)},lt}(),Me=function(){function lt(){var vt=!0,Tt=!0,tt=!0,$t="use-collector-delta",Rt=!1;(0,h.Z)(lt,this,function(it){it.allowRequestSending=function(){return vt},it.firstRequestSent=function(){tt&&(tt=!1,Rt||(vt=!1))},it.shouldAddClockSkewHeaders=function(){return Tt},it.getClockSkewHeaderValue=function(){return $t},it.setClockSkew=function(zt){Rt||(zt?($t=zt,Tt=!0,Rt=!0):Tt=!1,vt=!0)}})}return a(lt,"ClockSkewManager"),lt.__ieDyn=1,lt}();const Ye=Me;var ve=1e3,we=function(){function lt(){var vt={};function Tt(tt){var $t=[];return tt&&(0,f.tO)(tt,function(Rt){$t.push((0,f.nd)(Rt))}),$t}a(Tt,"_normalizeTenants"),(0,h.Z)(lt,this,function(tt){tt.setKillSwitchTenants=function($t,Rt){if($t&&Rt)try{var it=Tt($t.split(","));if(Rt==="this-request-only")return it;for(var zt=parseInt(Rt,10)*ve,Gt=0;Gt<it.length;++Gt)vt[it[Gt]]=(0,f.m6)()+zt}catch(un){return[]}return[]},tt.isTenantKilled=function($t){var Rt=vt,it=(0,f.nd)($t);return Rt[it]!==void 0&&Rt[it]>(0,f.m6)()?!0:(delete Rt[it],!1)}})}return a(lt,"KillSwitch"),lt.__ieDyn=1,lt}();const ye=we;var ge=E(4392),be=.8,oe=1.2,Qe=3e3,Oe=6e5;function A(lt){return!(lt>=300&&lt<500&&lt!=408&&lt!=429||lt==501||lt==505)}a(A,"retryPolicyShouldRetryForStatus");function Z(lt){var vt=0,Tt=Qe*be,tt=Qe*oe,$t=Math.floor(Math.random()*(tt-Tt))+Tt;return vt=Math.pow(2,lt)*$t,Math.min(vt,Oe)}a(Z,"retryPolicyGetMillisToBackoffForRetry");var fe=20,He=3984588,Ge=65e3,dt=2e6,je=Math.min(dt,Ge),_t="metadata",at="f",Vt=/\./,qt=function(){function lt(vt,Tt,tt,$t){var Rt="data",it="baseData",zt="ext",Gt=!!$t,un=!0,sn=Tt,Un={};(0,h.Z)(lt,this,function(gn){gn.createPayload=function(yt,Kt,Wt,fn,Pt,Qt){return{apiKeys:[],payloadBlob:z,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:yt,isTeardown:Kt,isSync:Wt,isBeacon:fn,sendType:Qt,sendReason:Pt}},gn.appendPayload=function(yt,Kt,Wt){var fn=yt&&Kt&&!yt.overflow;return fn&&(0,R.Lm)(vt,function(){return"Serializer:appendPayload"},function(){for(var Pt=Kt.events(),Qt=yt.payloadBlob,ln=yt.numEvents,_n=!1,jt=[],mn=[],Mn=yt.isBeacon,yn=Mn?Ge:He,kn=Mn?je:dt,$e=0,Pn=0;$e<Pt.length;){var Nt=Pt[$e];if(Nt){if(ln>=Wt){yt.overflow=Kt.split($e);break}var mt=gn.getEventBlob(Nt);if(mt&&mt.length<=kn){var On=mt.length,vr=Qt.length;if(vr+On>yn){yt.overflow=Kt.split($e);break}Qt&&(Qt+=`
`),Qt+=mt,Pn++,Pn>fe&&(Qt.substr(0,1),Pn=0),_n=!0,ln++}else mt?jt.push(Nt):mn.push(Nt),Pt.splice($e,1),$e--}$e++}if(jt&&jt.length>0&&yt.sizeExceed.push(le.create(Kt.iKey(),jt)),mn&&mn.length>0&&yt.failedEvts.push(le.create(Kt.iKey(),mn)),_n){yt.batches.push(Kt),yt.payloadBlob=Qt,yt.numEvents=ln;var Bn=Kt.iKey();(0,f.UA)(yt.apiKeys,Bn)===-1&&yt.apiKeys.push(Bn)}},function(){return{payload:yt,theBatch:{iKey:Kt.iKey(),evts:Kt.events()},max:Wt}}),fn},gn.getEventBlob=function(yt){try{return(0,R.Lm)(vt,function(){return"Serializer.getEventBlob"},function(){var Kt={};Kt.name=yt.name,Kt.time=yt.time,Kt.ver=yt.ver,Kt.iKey="o:"+(0,I.jM)(yt.iKey);var Wt={},fn=yt[zt];fn&&(Kt[zt]=Wt,(0,f.rW)(fn,function(ln,_n){var jt=Wt[ln]={};en(_n,jt,"ext."+ln,!0,null,null,!0)}));var Pt=Kt[Rt]={};Pt.baseType=yt.baseType;var Qt=Pt[it]={};return en(yt.baseData,Qt,it,!1,[it],function(ln,_n,jt){an(Wt,ln,_n,jt)},un),en(yt.data,Pt,Rt,!1,[],function(ln,_n,jt){an(Wt,ln,_n,jt)},un),JSON.stringify(Kt)},function(){return{item:yt}})}catch(Kt){return null}};function wn(yt,Kt){var Wt=Un[yt];return Wt===void 0&&(yt.length>=7&&(Wt=(0,f.xe)(yt,"ext.metadata")||(0,f.xe)(yt,"ext.web")),Un[yt]=Wt),Wt}a(wn,"_isReservedField");function en(yt,Kt,Wt,fn,Pt,Qt,ln){(0,f.rW)(yt,function(_n,jt){var mn=null;if(jt||(0,I.Sn)(jt)){var Mn=Wt,yn=_n,kn=Pt,$e=Kt;if(Gt&&!fn&&Vt.test(_n)){var Pn=_n.split("."),Nt=Pn.length;if(Nt>1){kn&&(kn=kn.slice());for(var mt=0;mt<Nt-1;mt++){var On=Pn[mt];$e=$e[On]=$e[On]||{},Mn+="."+On,kn&&kn.push(On)}yn=Pn[Nt-1]}}var vr=fn&&wn(Mn,yn);if(!vr&&sn&&sn.handleField(Mn,yn)?mn=sn.value(Mn,yn,jt,tt):mn=(0,I.yj)(yn,jt,tt),mn){var Bn=mn.value;if($e[yn]=Bn,Qt&&Qt(kn,yn,mn),ln&&typeof Bn=="object"&&!(0,f.kJ)(Bn)){var Jn=kn;Jn&&(Jn=Jn.slice(),Jn.push(yn)),en(jt,Bn,Mn+"."+yn,fn,Jn,Qt,ln)}}}})}a(en,"_processPathKeys")})}return a(lt,"Serializer"),lt.__ieDyn=1,lt}();function an(lt,vt,Tt,tt){if(tt&&lt){var $t=(0,I.Vv)(tt.value,tt.kind,tt.propertyType);if($t>-1){var Rt=lt[_t];Rt||(Rt=lt[_t]={f:{}});var it=Rt[at];if(it||(it=Rt[at]={}),vt)for(var zt=0;zt<vt.length;zt++){var Gt=vt[zt];it[Gt]||(it[Gt]={f:{}});var un=it[Gt][at];un||(un=it[Gt][at]={}),it=un}it=it[Tt]={},(0,f.kJ)(tt.value)?it.a={t:$t}:it.t=$t}}}a(an,"_addJSONPropertyMetaData");var Rn,Ve="sendAttempt",Et="&"+Je+"=true",Ut=(Rn={},Rn[1]=m,Rn[100]=m,Rn[200]="sent",Rn[8004]=k,Rn[8003]=k,Rn),St={},Bt={};function rt(lt,vt,Tt){St[lt]=vt,Tt!==!1&&(Bt[vt]=lt)}a(rt,"_addCollectorHeaderQsMapping"),rt(Se,Se,!1),rt(De,De),rt(Ae,"Client-Id"),rt(ce,ce),rt(re,re),rt(M,M),rt(Re,Re);function Ht(lt){try{return lt.responseText}catch(vt){}return z}a(Ht,"_getResponseText");function Yt(lt,vt){var Tt=!1;if(lt&&vt){var tt=(0,f.FY)(lt);if(tt&&tt.length>0)for(var $t=vt.toLowerCase(),Rt=0;Rt<tt.length;Rt++){var it=tt[Rt];if(it&&(0,f.nr)(vt,it)&&it.toLowerCase()===$t){Tt=!0;break}}}return Tt}a(Yt,"_hasHeader");function kt(lt,vt,Tt,tt){vt&&Tt&&Tt.length>0&&(tt&&St[vt]?(lt.hdrs[St[vt]]=Tt,lt.useHdrs=!0):lt.url+="&"+vt+"="+Tt)}a(kt,"_addRequestDetails");function Ot(lt,vt){return vt&&((0,f.hj)(vt)?lt=[vt].concat(lt):(0,f.kJ)(vt)&&(lt=vt.concat(lt))),lt}a(Ot,"_prependTransports");var cn=function(){function lt(vt,Tt,tt,$t,Rt){this._responseHandlers=[];var it="?cors=true&"+ne.toLowerCase()+"="+J,zt=new ye,Gt=!1,un=new Ye,sn=!1,Un=0,gn,wn,en,yt,Kt=!0,Wt=[],fn={},Pt=[],Qt=null,ln=!1,_n,jt=!1,mn=!1,Mn,yn,kn,$e,Pn;(0,h.Z)(lt,this,function(Nt){var mt=!0;Nt.initialize=function(me,_,x,ue,Fe){var ft;Fe||(Fe={}),it=me+it,mn=(0,f.o8)(Fe.avoidOptions)?!0:!Fe.avoidOptions,yt=_,_n=_.getCookieMgr(),ln=!yt.config.disableEventTimings;var Xe=!!yt.config.enableCompoundKey;gn=x,wn=gn.diagLog();var he=Fe.valueSanitizer,Ce=Fe.stringifyObjects;(0,f.o8)(Fe.enableCompoundKey)||(Xe=!!Fe.enableCompoundKey),Mn=Fe.xhrTimeout,yn=!!Fe.disableXhrSync,kn=!!Fe.disableFetchKeepAlive,Pn=Fe.addNoResponse!==!1,sn=!(0,g.b$)(),Qt=new qt(yt,he,Ce,Xe),(0,f.le)(Fe.useSendBeacon)||(sn=!!Fe.useSendBeacon);var Pe=ue,ze=Fe.alwaysUseXhrOverride?ue:null,qe=Fe.alwaysUseXhrOverride?ue:null,nt=[3,2];if(!ue){Kt=!1;var Dt=(0,g.k$)();Dt&&Dt.protocol&&Dt.protocol.toLowerCase()==="file:"&&(mt=!1);var wt=[];(0,g.b$)()?(wt=[2,1],nt=[2,1,3]):wt=[1,2,3],wt=Ot(wt,Fe.transports),ue=On(wt,!1),ue||(0,$.jV)(wn,"No available transport to send events"),Pe=On(wt,!0)}ze||(nt=Ot(nt,Fe.unloadTransports),ze=On(nt,!0)),$e=!Kt&&(sn&&(0,g.MF)()||!kn&&(0,g.JO)(!0)),en=(ft={},ft[0]=ue,ft[1]=Pe||On([1,2,3],!0),ft[2]=ze||Pe||On([1],!0),ft[3]=qe||On([2,3],!0)||Pe||On([1],!0),ft)};function On(me,_){for(var x=0,ue=null,Fe=0;ue==null&&Fe<me.length;)x=me[Fe],x===1?(0,g.cp)()?ue=vr:(0,g.Z3)()&&(ue=Jn):x===2&&(0,g.JO)(_)&&(!_||_&&!kn)?ue=Bn:sn&&x===3&&(0,g.MF)()&&(ue=br),Fe++;return ue?{_transport:x,_isSync:_,sendPOST:ue}:null}a(On,"_getSenderInterface"),Nt._getDbgPlgTargets=function(){return[en[0],zt,Qt,en]};function vr(me,_,x){var ue=new XDomainRequest;ue.open(ae,me.urlString),me.timeout&&(ue.timeout=me.timeout),ue.onload=function(){var Fe=Ht(ue);$n(_,200,{},Fe),Cn(Fe)},ue.onerror=function(){$n(_,400,{})},ue.ontimeout=function(){$n(_,500,{})},ue.onprogress=function(){},x?ue.send(me.data):Rt.set(function(){ue.send(me.data)},0)}a(vr,"_xdrSendPost");function Bn(me,_,x){var ue,Fe=me.urlString,ft=!1,Xe=!1,he=(ue={body:me.data,method:ae},ue[S]=!0,ue);x&&(he.keepalive=!0,me._sendReason===2&&(ft=!0,Pn&&(Fe+=Et))),mt&&(he.credentials="include"),me.headers&&(0,f.FY)(me.headers).length>0&&(he.headers=me.headers),fetch(Fe,he).then(function(Ce){var Pe={},ze=z,qe=Ce.headers;qe&&qe.forEach(function(nt,Dt){Pe[Dt]=nt}),Ce.body&&Ce.text().then(function(nt){ze=nt}),Xe||(Xe=!0,$n(_,Ce.status,Pe,ze),Cn(ze))}).catch(function(Ce){Xe||(Xe=!0,$n(_,0,{}))}),ft&&!Xe&&(Xe=!0,$n(_,200,{})),!Xe&&me.timeout>0&&Rt.set(function(){Xe||(Xe=!0,$n(_,500,{}))},me.timeout)}a(Bn,"_fetchSendPost");function Jn(me,_,x){var ue=me.urlString;function Fe(Ce,Pe,ze){if(!Ce[ze]&&Pe&&Pe.getResponseHeader){var qe=Pe.getResponseHeader(ze);qe&&(Ce[ze]=(0,f.nd)(qe))}return Ce}a(Fe,"_appendHeader");function ft(Ce){var Pe={};return Ce.getAllResponseHeaders?Pe=Fr(Ce.getAllResponseHeaders()):(Pe=Fe(Pe,Ce,se),Pe=Fe(Pe,Ce,q),Pe=Fe(Pe,Ce,U)),Pe}a(ft,"_getAllResponseHeaders");function Xe(Ce,Pe){$n(_,Ce.status,ft(Ce),Pe)}a(Xe,"xhrComplete"),x&&me.disableXhrSync&&(x=!1);var he=(0,I.ot)(ae,ue,mt,!0,x,me.timeout);(0,f.rW)(me.headers,function(Ce,Pe){he.setRequestHeader(Ce,Pe)}),he.onload=function(){var Ce=Ht(he);Xe(he,Ce),Cn(Ce)},he.onerror=function(){Xe(he)},he.ontimeout=function(){Xe(he)},he.send(me.data)}a(Jn,"_xhrSendPost");function $n(me,_,x,ue){try{me(_,x,ue)}catch(Fe){(0,$.kP)(wn,2,518,(0,g.eU)(Fe))}}a($n,"_doOnComplete");function br(me,_,x){var ue=me,Fe=200,ft=ue._thePayload,Xe=me.urlString+(Pn?Et:z);try{var he=(0,g.jW)();if(!he.sendBeacon(Xe,me.data))if(ft){var Ce=[];(0,f.tO)(ft.batches,function(Pe){if(Ce&&Pe&&Pe.count()>0){for(var ze=Pe.events(),qe=0;qe<ze.length;qe++)if(!he.sendBeacon(Xe,Qt.getEventBlob(ze[qe]))){Ce.push(Pe.split(qe));break}}else Ce.push(Pe.split(0))}),Nn(Ce,8003,ft.sendType,!0)}else Fe=0}catch(Pe){(0,$.jV)(wn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,g.eU)(Pe)),Fe=0}finally{$n(_,Fe,{},z)}}a(br,"_beaconSendPost");function Qn(me){return me===2||me===3}a(Qn,"_isBeaconPayload");function xn(me){return jt&&Qn(me)&&(me=2),me}a(xn,"_adjustSendType"),Nt.addQueryStringParameter=function(me,_){for(var x=0;x<Wt.length;x++)if(Wt[x].name===me){Wt[x].value=_;return}Wt.push({name:me,value:_})},Nt.addHeader=function(me,_){fn[me]=_},Nt.canSendRequest=function(){return Nr()&&un.allowRequestSending()},Nt.sendQueuedRequests=function(me,_){(0,f.o8)(me)&&(me=0),jt&&(me=xn(me),_=2),or(Pt,me,0)&&ur(sr(),0,!1,me,_||0)},Nt.isCompletelyIdle=function(){return!Gt&&Un===0&&Pt.length===0},Nt.setUnloading=function(me){jt=me},Nt.addBatch=function(me){if(me&&me.count()>0){if(zt.isTenantKilled(me.iKey()))return!1;Pt.push(me)}return!0},Nt.teardown=function(){Pt.length>0&&ur(sr(),0,!0,2,2)},Nt.pause=function(){Gt=!0},Nt.resume=function(){Gt=!1,Nt.sendQueuedRequests(0,4)},Nt.sendSynchronousBatch=function(me,_,x){me&&me.count()>0&&((0,f.le)(_)&&(_=1),jt&&(_=xn(_),x=2),ur([me],0,!1,_,x||0))};function Nr(){return!Gt&&Un<Tt}a(Nr,"_hasIdleConnection");function sr(){var me=Pt;return Pt=[],me}a(sr,"_clearQueue");function or(me,_,x){var ue=!1;return me&&me.length>0&&!Gt&&en[_]&&Qt&&(ue=_!==0||Nr()&&(x>0||un.allowRequestSending())),ue}a(or,"_canSendPayload");function gr(me){var _={};return me&&(0,f.tO)(me,function(x,ue){_[ue]={iKey:x.iKey(),evts:x.events()}}),_}a(gr,"_createDebugBatches");function ur(me,_,x,ue,Fe){if(!(!me||me.length===0)){if(Gt){Nn(me,1,ue);return}ue=xn(ue);try{var ft=me,Xe=ue!==0;(0,R.Lm)(yt,function(){return"HttpManager:_sendBatches"},function(he){he&&(me=me.slice(0));for(var Ce=[],Pe=null,ze=(0,I.hK)(),qe=en[ue]||(Xe?en[1]:en[0]),nt=qe&&qe._transport,Dt=$e&&(jt||Qn(ue)||nt===3||qe._isSync&&nt===2);or(me,ue,_);){var wt=me.shift();wt&&wt.count()>0&&(zt.isTenantKilled(wt.iKey())?Ce.push(wt):(Pe=Pe||Qt.createPayload(_,x,Xe,Dt,Fe,ue),Qt.appendPayload(Pe,wt,vt)?Pe.overflow!==null&&(me=[Pe.overflow].concat(me),Pe.overflow=null,cr(Pe,ze,(0,I.hK)(),Fe),ze=(0,I.hK)(),Pe=null):(cr(Pe,ze,(0,I.hK)(),Fe),ze=(0,I.hK)(),me=[wt].concat(me),Pe=null)))}Pe&&cr(Pe,ze,(0,I.hK)(),Fe),me.length>0&&(Pt=me.concat(Pt)),Nn(Ce,8004,ue)},function(){return{batches:gr(ft),retryCount:_,isTeardown:x,isSynchronous:Xe,sendReason:Fe,useSendBeacon:Qn(ue),sendType:ue}},!Xe)}catch(he){(0,$.kP)(wn,2,48,"Unexpected Exception sending batch: "+(0,g.eU)(he))}}}a(ur,"_sendBatches");function Kr(me,_){var x={url:it,hdrs:{},useHdrs:!1};_?(x.hdrs=(0,I.l7)(x.hdrs,fn),x.useHdrs=(0,f.FY)(x.hdrs).length>0):(0,f.rW)(fn,function(he,Ce){Bt[he]?kt(x,Bt[he],Ce,!1):(x.hdrs[he]=Ce,x.useHdrs=!0)}),kt(x,Ae,"NO_AUTH",_),kt(x,De,I.vs,_);var ue=z;(0,f.tO)(me.apiKeys,function(he){ue.length>0&&(ue+=","),ue+=he}),kt(x,ce,ue,_),kt(x,M,(0,f.m6)().toString(),_);var Fe=_r(me);if((0,I.Sn)(Fe)&&(x.url+="&ext.intweb.msfpc="+Fe),un.shouldAddClockSkewHeaders()&&kt(x,re,un.getClockSkewHeaderValue(),_),yt.getWParam){var ft=yt.getWParam();ft>=0&&(x.url+="&w="+ft)}for(var Xe=0;Xe<Wt.length;Xe++)x.url+="&"+Wt[Xe].name+"="+Wt[Xe].value;return x}a(Kr,"_buildRequestDetails");function lr(me,_,x){me[_]=me[_]||{},me[_][gn.identifier]=x}a(lr,"_setTimingValue");function cr(me,_,x,ue){if(me&&me.payloadBlob&&me.payloadBlob.length>0){var Fe=!!Nt.sendHook,ft=en[me.sendType];!Qn(me.sendType)&&me.isBeacon&&me.sendReason===2&&(ft=en[2]||en[3]||ft);var Xe=mn;(me.isBeacon||ft._transport===3)&&(Xe=!1);var he=Kr(me,Xe);Xe=Xe||he.useHdrs;var Ce=(0,I.hK)();(0,R.Lm)(yt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Pe=0;Pe<me.batches.length;Pe++)for(var ze=me.batches[Pe],qe=ze.events(),nt=0;nt<qe.length;nt++){var Dt=qe[nt];if(ln){var wt=Dt.timings=Dt.timings||{};lr(wt,"sendEventStart",Ce),lr(wt,"serializationStart",_),lr(wt,"serializationCompleted",x)}Dt[Ve]>0?Dt[Ve]++:Dt[Ve]=1}Nn(me.batches,1e3+(ue||0),me.sendType,!0);var Lt={data:me.payloadBlob,urlString:he.url,headers:he.hdrs,_thePayload:me,_sendReason:ue,timeout:Mn,disableXhrSync:yn,disableFetchKeepAlive:kn};Xe&&(Yt(Lt.headers,Q)||(Lt.headers[Q]=Y),Yt(Lt.headers,ne)||(Lt.headers[ne]=J));var zn=null;ft&&(zn=a(function(It){un.firstRequestSent();var Xn=a(function(Hn,fr){Sr(Hn,fr,me,ue)},"onComplete"),Kn=me.isTeardown||me.isSync;try{ft.sendPOST(It,Xn,Kn),Nt.sendListener&&Nt.sendListener(Lt,It,Kn,me.isBeacon)}catch(Hn){(0,$.jV)(wn,"Unexpected exception sending payload. Ex:"+(0,g.eU)(Hn)),$n(Xn,0,{})}},"sender")),(0,R.Lm)(yt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(zn)if(me.sendType===0&&Un++,Fe&&!me.isBeacon&&ft._transport!==3){var It={data:Lt.data,urlString:Lt.urlString,headers:(0,I.l7)({},Lt.headers),timeout:Lt.timeout,disableXhrSync:Lt.disableXhrSync,disableFetchKeepAlive:Lt.disableFetchKeepAlive},Xn=!1;(0,R.Lm)(yt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Nt.sendHook(It,function(Kn){Xn=!0,!Kt&&!Kn._thePayload&&(Kn._thePayload=Kn._thePayload||Lt._thePayload,Kn._sendReason=Kn._sendReason||Lt._sendReason),zn(Kn)},me.isSync||me.isTeardown)}catch(Kn){Xn||zn(Lt)}})}else zn(Lt)})},function(){return{thePayload:me,serializationStart:_,serializationCompleted:x,sendReason:ue}},me.isSync)}me.sizeExceed&&me.sizeExceed.length>0&&Nn(me.sizeExceed,8003,me.sendType),me.failedEvts&&me.failedEvts.length>0&&Nn(me.failedEvts,8002,me.sendType)}a(cr,"_doPayloadSend");function Ur(me,_){ln&&(0,f.tO)(me,function(x){var ue=x.timings=x.timings||{};lr(ue,"sendEventCompleted",_)})}a(Ur,"_addEventCompletedTimings");function Sr(me,_,x,ue){var Fe=9e3,ft=null,Xe=!1,he=!1;try{var Ce=!0;if(typeof me!==ge.jA){if(_){un.setClockSkew(_[se]);var Pe=_[q]||_["kill-duration-seconds"];(0,f.tO)(zt.setKillSwitchTenants(_[pe],Pe),function(qe){(0,f.tO)(x.batches,function(nt){if(nt.iKey()===qe){ft=ft||[];var Dt=nt.split(0);x.numEvents-=Dt.count(),ft.push(Dt)}})})}if(me==200||me==204){Fe=200;return}(!A(me)||x.numEvents<=0)&&(Ce=!1),Fe=9e3+me%1e3}if(Ce){Fe=100;var ze=x.retryCnt;x.sendType===0&&(ze<tt?(Xe=!0,pr(function(){x.sendType===0&&Un--,ur(x.batches,ze+1,x.isTeardown,jt?2:x.sendType,5)},jt,Z(ze))):(he=!0,jt&&(Fe=8001)))}}finally{Xe||(un.setClockSkew(),kr(x,Fe,ue,he)),Nn(ft,8004,x.sendType)}}a(Sr,"_retryRequestIfNeeded");function kr(me,_,x,ue){try{ue&&gn._backOffTransmission(),_===200&&(!ue&&!me.isSync&&gn._clearBackOff(),Lr(me.batches)),Nn(me.batches,_,me.sendType,!0)}finally{me.sendType===0&&(Un--,x!==5&&Nt.sendQueuedRequests(me.sendType,x))}}a(kr,"_handleRequestFinished");function Lr(me){if(ln){var _=(0,I.hK)();(0,f.tO)(me,function(x){x&&x.count()>0&&Ur(x.events(),_)})}}a(Lr,"_addCompleteTimings");function pr(me,_,x){_?me():Rt.set(me,x)}a(pr,"_doAction");function Fr(me){var _={};if((0,f.HD)(me)){var x=(0,f.nd)(me).split(/[\r\n]+/);(0,f.tO)(x,function(ue){if(ue){var Fe=ue.indexOf(": ");if(Fe!==-1){var ft=(0,f.nd)(ue.substring(0,Fe)).toLowerCase(),Xe=(0,f.nd)(ue.substring(Fe+1));_[ft]=Xe}else _[(0,f.nd)(ue)]=1}})}return _}a(Fr,"_convertAllHeadersToMap");function _r(me){for(var _=0;_<me.batches.length;_++){var x=me.batches[_].Msfpc();if(x)return encodeURIComponent(x)}return z}a(_r,"_getMsfpc");function Cn(me){var _=Nt._responseHandlers;try{for(var x=0;x<_.length;x++)try{_[x](me)}catch(Fe){(0,$.kP)(wn,1,519,"Response handler failed: "+Fe)}if(me){var ue=JSON.parse(me);(0,I.Sn)(ue.webResult)&&(0,I.Sn)(ue.webResult[ke])&&_n.set("MSFPC",ue.webResult[ke],365*86400)}}catch(Fe){}}a(Cn,"_handleCollectorResponse");function Nn(me,_,x,ue){if(me&&me.length>0&&$t){var Fe=$t[pn(_)];if(Fe){var ft=x!==0;(0,R.Lm)(yt,function(){return"HttpManager:_sendBatchesNotification"},function(){pr(function(){try{Fe.call($t,me,_,ft,x)}catch(Xe){(0,$.kP)(wn,1,74,"send request notification failed: "+Xe)}},ue||ft,0)},function(){return{batches:gr(me),reason:_,isSync:ft,sendSync:ue,sendType:x}},!ft)}}}a(Nn,"_sendBatchesNotification");function pn(me){var _=Ut[me];return(0,I.Sn)(_)||(_=N,me>=9e3&&me<=9999?_=C:me>=8e3&&me<=8999?_=k:me>=1e3&&me<=1999&&(_=P)),_}a(pn,"_getNotificationAction")})}return a(lt,"HttpManager"),lt.__ieDyn=1,lt}();function Sn(lt,vt){for(var Tt=[],tt=2;tt<arguments.length;tt++)Tt[tt-2]=arguments[tt];return setTimeout(lt,vt,Tt)}a(Sn,"defaultSetTimeout");function hr(lt){clearTimeout(lt)}a(hr,"defaultClearTimeout");function Gn(lt,vt){return{set:lt||Sn,clear:vt||hr}}a(Gn,"createTimeoutWrapper");var Tn=.25,Tr=500,ar=20,Or=6,Er=2,mr=4,Dr=2,ie=1,We="eventsDiscarded",Ze="overrideInstrumentationKey",ut="maxEventRetryAttempts",bt="maxUnloadEventRetryAttempts",Ct="addUnloadCb",In=function(lt){(0,T.ne)(vt,lt);function vt(){var Tt=lt.call(this)||this;Tt.identifier="PostChannel",Tt.priority=1011,Tt.version="3.2.8";var tt,$t=!1,Rt=[],it=null,zt=!1,Gt=0,un=500,sn=0,Un=1e4,gn={},wn=W,en=null,yt=null,Kt=0,Wt=0,fn,Pt,Qt={},ln,_n,jt=-1,mn,Mn=!0,yn=!1,kn=Or,$e=Er,Pn,Nt;return(0,h.Z)(vt,Tt,function(mt,On){Nr(),mt._getDbgPlgTargets=function(){return[Pt]},mt.initialize=function(he,Ce,Pe){(0,R.Lm)(Ce,function(){return"PostChannel:initialize"},function(){var ze=Ce;On.initialize(he,Ce,Pe);try{var qe=!!Ce[Ct];Pn=(0,p.jU)((0,K.J)(mt.identifier),Ce.evtNamespace&&Ce.evtNamespace());var nt=mt._getTelCtx();he.extensionConfig[mt.identifier]=he.extensionConfig[mt.identifier]||{},tt=nt.getExtCfg(mt.identifier),Nt=Gn(tt.setTimeoutOverride,tt.clearTimeoutOverride),Mn=!tt.disableOptimizeObj&&(0,I.mJ)(),vr(ze),tt.eventsLimitInMem>0&&(Un=tt.eventsLimitInMem),tt.immediateEventLimit>0&&(un=tt.immediateEventLimit),tt.autoFlushEventsLimit>0&&(ln=tt.autoFlushEventsLimit),(0,f.hj)(tt[ut])&&(kn=tt[ut]),(0,f.hj)(tt[bt])&&($e=tt[bt]),Xe(),tt.httpXHROverride&&tt.httpXHROverride.sendPOST&&(fn=tt.httpXHROverride),(0,I.Sn)(he.anonCookieName)&&Pt.addQueryStringParameter("anoncknm",he.anonCookieName),Pt.sendHook=tt.payloadPreprocessor,Pt.sendListener=tt.payloadListener;var Dt=tt.overrideEndpointUrl?tt.overrideEndpointUrl:he.endpointUrl;mt._notificationManager=Ce.getNotifyMgr(),Pt.initialize(Dt,mt.core,mt,fn,tt);var wt=he.disablePageUnloadEvents||[];(0,p.c9)(Bn,wt,Pn),(0,p.TJ)(Bn,wt,Pn),(0,p.nD)(Jn,he.disablePageShowEvents,Pn)}catch(Lt){throw mt.setInitialized(!1),Lt}},function(){return{coreConfig:he,core:Ce,extensions:Pe}})},mt.processTelemetry=function(he,Ce){(0,I.if)(he,mt.identifier),Ce=mt._getTelCtx(Ce);var Pe=Ce.getExtCfg(mt.identifier),ze=!!tt.disableTelemetry;Pe&&(ze=ze||!!Pe.disableTelemetry);var qe=he;!ze&&!$t&&(tt[Ze]&&(qe.iKey=tt[Ze]),Pe&&Pe[Ze]&&(qe.iKey=Pe[Ze]),$n(qe,!0),yn?gr(2,2):xn()),mt.processNext(qe,Ce)},mt._doTeardown=function(he,Ce){gr(2,2),$t=!0,Pt.teardown(),(0,p.JA)(null,Pn),(0,p.C9)(null,Pn),(0,p.Yl)(null,Pn),Nr()};function vr(he){var Ce=he.getWParam;he.getWParam=function(){var Pe=0;return tt.ignoreMc1Ms0CookieProcessing&&(Pe=Pe|2),Pe|Ce()}}a(vr,"_hookWParam");function Bn(he){var Ce=he||(0,g.Jj)().event;Ce.type!=="beforeunload"&&(yn=!0,Pt.setUnloading(yn)),gr(2,2)}a(Bn,"_handleUnloadEvents");function Jn(he){yn=!1,Pt.setUnloading(yn)}a(Jn,"_handleShowEvents");function $n(he,Ce){if(he.sendAttempt||(he.sendAttempt=0),he.latency||(he.latency=1),he.ext&&he.ext[Be]&&delete he.ext[Be],he.ext&&he.ext[B]&&he.ext[B].id&&delete he.ext[B].id,Mn&&(I.if,he.ext=(0,f.Ax)(he.ext),he.baseData&&(he.baseData=(0,f.Ax)(he.baseData)),he.data&&(he.data=(0,f.Ax)(he.data))),he.sync){if(Kt||zt)he.latency=3,he.sync=!1;else if(Pt){Mn&&(he=(0,f.Ax)(he)),Pt.sendSynchronousBatch(le.create(he.iKey,[he]),he.sync===!0?1:he.sync,3);return}}var Pe=he.latency,ze=sn,qe=Un;Pe===4&&(ze=Gt,qe=un);var nt=!1;if(ze<qe)nt=!cr(he,Ce);else{var Dt=1,wt=ar;Pe===4&&(Dt=4,wt=1),nt=!0,Ur(he.iKey,he.latency,Dt,wt)&&(nt=!cr(he,Ce))}nt&&pn(We,[he],H.h.QueueFull)}a($n,"_addEventToQueues"),mt.setEventQueueLimits=function(he,Ce){Un=he>0?he:1e4,ln=Ce>0?Ce:0,Xe();var Pe=sn>he;if(!Pe&&_n>0)for(var ze=1;!Pe&&ze<=3;ze++){var qe=Qt[ze];qe&&qe.batches&&(0,f.tO)(qe.batches,function(nt){nt&&nt.count()>=_n&&(Pe=!0)})}lr(!0,Pe)},mt.pause=function(){or(),zt=!0,Pt.pause()},mt.resume=function(){zt=!1,Pt.resume(),xn()},mt.addResponseHandler=function(he){Pt._responseHandlers.push(he)},mt._loadTransmitProfiles=function(he){Fr(),(0,f.rW)(he,function(Ce,Pe){var ze=Pe.length;if(ze>=2){var qe=ze>2?Pe[2]:0;if(Pe.splice(0,ze-2),Pe[1]<0&&(Pe[0]=-1),Pe[1]>0&&Pe[0]>0){var nt=Pe[0]/Pe[1];Pe[0]=Math.ceil(nt)*Pe[1]}qe>=0&&Pe[1]>=0&&qe>Pe[1]&&(qe=Pe[1]),Pe.push(qe),gn[Ce]=Pe}})},mt.flush=function(he,Ce,Pe){if(he===void 0&&(he=!0),!zt)if(Pe=Pe||1,he)it==null?(or(),kr(1,0,Pe),it=sr(function(){it=null,Lr(Ce,Pe)},0)):Rt.push(Ce);else{var ze=or();br(1,1,Pe),Ce!=null&&Ce(),ze&&xn()}},mt.setMsaAuthTicket=function(he){Pt.addHeader(Se,he)},mt.hasEvents=Qn,mt._setTransmitProfile=function(he){wn!==he&&gn[he]!==void 0&&(or(),wn=he,xn())};function br(he,Ce,Pe){var ze=kr(he,Ce,Pe);return Pt.sendQueuedRequests(Ce,Pe),ze}a(br,"_sendEventsForLatencyAndAbove");function Qn(){return sn>0}a(Qn,"_hasEvents");function xn(){if(jt>=0&&kr(jt,0,mn)&&Pt.sendQueuedRequests(0,mn),Gt>0&&!yt&&!zt){var he=gn[wn][2];he>=0&&(yt=sr(function(){yt=null,br(4,0,1),xn()},he))}var Ce=gn[wn][1];!en&&!it&&Ce>=0&&!zt&&(Qn()?en=sr(function(){en=null,br(Wt===0?3:1,0,1),Wt++,Wt%=2,xn()},Ce):Wt=0)}a(xn,"_scheduleTimer"),mt._backOffTransmission=function(){Kt<mr&&(Kt++,or(),xn())},mt._clearBackOff=function(){Kt&&(Kt=0,or(),xn())};function Nr(){tt=null,$t=!1,Rt=[],it=null,zt=!1,Gt=0,un=500,sn=0,Un=1e4,gn={},wn=W,en=null,yt=null,Kt=0,Wt=0,fn=null,Qt={},ln=void 0,_n=0,jt=-1,mn=null,Mn=!0,yn=!1,kn=Or,$e=Er,Pn=null,Nt=Gn(),Pt=new cn(Tr,Dr,ie,{requeue:Cn,send:_,sent:x,drop:ue,rspFail:Fe,oth:ft},Nt),_r(),ur(),Xe()}a(Nr,"_initDefaults");function sr(he,Ce){Ce===0&&Kt&&(Ce=1);var Pe=1e3;return Kt&&(Pe=Z(Kt-1)),Nt.set(he,Ce*Pe)}a(sr,"_createTimer");function or(){return en!==null?(Nt.clear(en),en=null,Wt=0,!0):!1}a(or,"_clearScheduledTimer");function gr(he,Ce){or(),it&&(Nt.clear(it),it=null),zt||br(1,he,Ce)}a(gr,"_releaseAllQueues");function ur(){Qt[4]={batches:[],iKeyMap:{}},Qt[3]={batches:[],iKeyMap:{}},Qt[2]={batches:[],iKeyMap:{}},Qt[1]={batches:[],iKeyMap:{}}}a(ur,"_clearQueues");function Kr(he,Ce,Pe){var ze=Qt[Ce];ze||(Ce=1,ze=Qt[Ce]);var qe=ze.iKeyMap[he];return!qe&&Pe&&(qe=le.create(he),ze.batches.push(qe),ze.iKeyMap[he]=qe),qe}a(Kr,"_getEventBatch");function lr(he,Ce){Pt.canSendRequest()&&!Kt&&(ln>0&&sn>ln&&(Ce=!0),Ce&&it==null&&mt.flush(he,null,20))}a(lr,"_performAutoFlush");function cr(he,Ce){Mn&&(he=(0,f.Ax)(he));var Pe=he.latency,ze=Kr(he.iKey,Pe,!0);return ze.addEvent(he)?(Pe!==4?(sn++,Ce&&he.sendAttempt===0&&lr(!he.sync,_n>0&&ze.count()>=_n)):Gt++,!0):!1}a(cr,"_addEventToProperQueue");function Ur(he,Ce,Pe,ze){for(;Pe<=Ce;){var qe=Kr(he,Ce,!0);if(qe&&qe.count()>0){var nt=qe.split(0,ze),Dt=nt.count();if(Dt>0)return Pe===4?Gt-=Dt:sn-=Dt,me(We,[nt],H.h.QueueFull),!0}Pe++}return Sr(),!1}a(Ur,"_dropEventWithLatencyOrLess");function Sr(){for(var he=0,Ce=0,Pe=a(function(qe){var nt=Qt[qe];nt&&nt.batches&&(0,f.tO)(nt.batches,function(Dt){qe===4?he+=Dt.count():Ce+=Dt.count()})},"_loop_1"),ze=1;ze<=4;ze++)Pe(ze);sn=Ce,Gt=he}a(Sr,"_resetQueueCounts");function kr(he,Ce,Pe){var ze=!1,qe=Ce===0;return!qe||Pt.canSendRequest()?(0,R.Lm)(mt.core,function(){return"PostChannel._queueBatches"},function(){for(var nt=[],Dt=4;Dt>=he;){var wt=Qt[Dt];wt&&wt.batches&&wt.batches.length>0&&((0,f.tO)(wt.batches,function(Lt){Pt.addBatch(Lt)?ze=ze||Lt&&Lt.count()>0:nt=nt.concat(Lt.events()),Dt===4?Gt-=Lt.count():sn-=Lt.count()}),wt.batches=[],wt.iKeyMap={}),Dt--}nt.length>0&&pn(We,nt,H.h.KillSwitch),ze&&jt>=he&&(jt=-1,mn=0)},function(){return{latency:he,sendType:Ce,sendReason:Pe}},!qe):(jt=jt>=0?Math.min(jt,he):he,mn=Math.max(mn,Pe)),ze}a(kr,"_queueBatches");function Lr(he,Ce){br(1,0,Ce),Sr(),pr(function(){he&&he(),Rt.length>0?it=sr(function(){it=null,Lr(Rt.shift(),Ce)},0):(it=null,xn())})}a(Lr,"_flushImpl");function pr(he){Pt.isCompletelyIdle()?he():it=sr(function(){it=null,pr(he)},Tn)}a(pr,"_waitForIdleManager");function Fr(){or(),_r(),wn=W,xn()}a(Fr,"_resetTransmitProfiles");function _r(){gn={},gn[W]=[2,1,0],gn[L]=[6,3,0],gn[G]=[18,9,0]}a(_r,"_initializeProfiles");function Cn(he,Ce){var Pe=[],ze=kn;yn&&(ze=$e),(0,f.tO)(he,function(qe){qe&&qe.count()>0&&(0,f.tO)(qe.events(),function(nt){nt&&(nt.sync&&(nt.latency=4,nt.sync=!1),nt.sendAttempt<ze?((0,I.if)(nt,mt.identifier),$n(nt,!1)):Pe.push(nt))})}),Pe.length>0&&pn(We,Pe,H.h.NonRetryableStatus),yn&&gr(2,2)}a(Cn,"_requeueEvents");function Nn(he,Ce){var Pe=mt._notificationManager||{},ze=Pe[he];if(ze)try{ze.apply(Pe,Ce)}catch(qe){(0,$.kP)(mt.diagLog(),1,74,he+" notification failed: "+qe)}}a(Nn,"_callNotification");function pn(he,Ce){for(var Pe=[],ze=2;ze<arguments.length;ze++)Pe[ze-2]=arguments[ze];Ce&&Ce.length>0&&Nn(he,[Ce].concat(Pe))}a(pn,"_notifyEvents");function me(he,Ce){for(var Pe=[],ze=2;ze<arguments.length;ze++)Pe[ze-2]=arguments[ze];Ce&&Ce.length>0&&(0,f.tO)(Ce,function(qe){qe&&qe.count()>0&&Nn(he,[qe.events()].concat(Pe))})}a(me,"_notifyBatchEvents");function _(he,Ce,Pe){he&&he.length>0&&Nn("eventsSendRequest",[Ce>=1e3&&Ce<=1999?Ce-1e3:0,Pe!==!0])}a(_,"_sendingEvent");function x(he,Ce){me("eventsSent",he,Ce),xn()}a(x,"_eventsSentEvent");function ue(he,Ce){me(We,he,Ce>=8e3&&Ce<=8999?Ce-8e3:H.h.Unknown)}a(ue,"_eventsDropped");function Fe(he){me(We,he,H.h.NonRetryableStatus),xn()}a(Fe,"_eventsResponseFail");function ft(he,Ce){me(We,he,H.h.Unknown),xn()}a(ft,"_otherEvent");function Xe(){!tt||!tt.disableAutoBatchFlushLimit?_n=Math.max(Tr*(Dr+1),Un/6):_n=0}a(Xe,"_setAutoLimits"),(0,f.l_)(mt,"_setTimeoutOverride",function(){return Nt.set},function(he){Nt=Gn(he,Nt.clear)}),(0,f.l_)(mt,"_clearTimeoutOverride",function(){return Nt.clear},function(he){Nt=Gn(Nt.set,he)})}),Tt}return a(vt,"PostChannel"),vt.__ieDyn=1,vt}(O.i);const Dn=In},4873:(Ke,v,E)=>{"use strict";E.d(v,{By:()=>h,cc:()=>p});var T=E(6708);function h(K){var I={};return(0,T.rW)(K,function(f,g){I[f]=g,I[g]=f}),(0,T._A)(I)}a(h,"createEnumStyle");function R(K){var I={};return objForEachKey(K,function(f,g){I[f]=f,I[g]=f}),deepFreeze(I)}a(R,"createEnumMap");function p(K){var I={};return(0,T.rW)(K,function(f,g){I[f]=g[1],I[g[0]]=g[1]}),(0,T._A)(I)}a(p,"createValueMap")},5928:(Ke,v,E)=>{"use strict";E.d(v,{h:()=>h});var T=E(4873),h=(0,T.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(Ke,v,E)=>{"use strict";E.d(v,{X:()=>k,v:()=>P});var T=E(4873),h,R="Failed",p=R+"MonitorAjax",K="Track",I="Start",f="Stop",g="Event",H="AuthContext",$="Exception",O="Local",W="Session",L="Storage",G="Browser",z="Cannot",ae="Buffer",S="InstrumentationKey",k=(0,T.By)({CRITICAL:1,WARNING:2}),P=(0,T.By)((h={},h[G+"DoesNotSupport"+O+L]=0,h[G+z+"Read"+O+L]=1,h[G+z+"Read"+W+L]=2,h[G+z+"Write"+O+L]=3,h[G+z+"Write"+W+L]=4,h[G+R+"RemovalFrom"+O+L]=5,h[G+R+"RemovalFrom"+W+L]=6,h[z+"SendEmptyTelemetry"]=7,h.ClientPerformanceMathError=8,h["ErrorParsingAI"+W+"Cookie"]=9,h.ErrorPVCalc=10,h[$+"WhileLoggingError"]=11,h[R+"AddingTelemetryTo"+ae]=12,h[p+"Abort"]=13,h[p+"Dur"]=14,h[p+"Open"]=15,h[p+"RSC"]=16,h[p+"Send"]=17,h[p+"GetCorrelationHeader"]=18,h[R+"ToAddHandlerForOnBeforeUnload"]=19,h[R+"ToSendQueuedTelemetry"]=20,h[R+"ToReportDataLoss"]=21,h["Flush"+R]=22,h.MessageLimitPerPVExceeded=23,h.MissingRequiredFieldSpecification=24,h.NavigationTimingNotSupported=25,h.OnError=26,h[W+"RenewalDateIsZero"]=27,h.SenderNotInitialized=28,h[I+K+g+R]=29,h[f+K+g+R]=30,h[I+K+R]=31,h[f+K+R]=32,h.TelemetrySampledAndNotSent=33,h[K+g+R]=34,h[K+$+R]=35,h[K+"Metric"+R]=36,h[K+"PV"+R]=37,h[K+"PV"+R+"Calc"]=38,h[K+"Trace"+R]=39,h["Transmission"+R]=40,h[R+"ToSet"+L+ae]=41,h[R+"ToRestore"+L+ae]=42,h.InvalidBackendResponse=43,h[R+"ToFixDepricatedValues"]=44,h.InvalidDurationValue=45,h.TelemetryEnvelopeInvalid=46,h.CreateEnvelopeError=47,h[z+"SerializeObject"]=48,h[z+"SerializeObjectNonSerializable"]=49,h.CircularReferenceDetected=50,h["Clear"+H+R]=51,h[$+"Truncated"]=52,h.IllegalCharsInName=53,h.ItemNotInArray=54,h.MaxAjaxPerPVExceeded=55,h.MessageTruncated=56,h.NameTooLong=57,h.SampleRateOutOfRange=58,h["Set"+H+R]=59,h["Set"+H+R+"AccountName"]=60,h.StringValueTooLong=61,h.StartCalledMoreThanOnce=62,h.StopCalledWithoutStart=63,h["TelemetryInitializer"+R]=64,h.TrackArgumentsNotSpecified=65,h.UrlTooLong=66,h[W+L+ae+"Full"]=67,h[z+"AccessCookie"]=68,h.IdTooLong=69,h.InvalidEvent=70,h[p+"SetRequestHeader"]=71,h["Send"+G+"InfoOnUserInit"]=72,h["Plugin"+$]=73,h["Notification"+$]=74,h.SnippetScriptLoadFailure=99,h["Invalid"+S]=100,h[z+"ParseAiBlobValue"]=101,h.InvalidContentBlob=102,h[K+"PageAction"+g+R]=103,h[R+"AddingCustomDefinedRequestContext"]=104,h["InMemory"+L+ae+"Full"]=105,h[S+"Deprecation"]=106,h))},5121:(Ke,v,E)=>{"use strict";E.d(v,{F:()=>$});var T=E(1088),h=E(1679),R=E(8096),p=E(6900),K=E(5018),I=E(6708),f=E(6041),g=E(1880),H=E(9288),$=function(O){(0,T.ne)(W,O);function W(){var L=O.call(this)||this;return(0,h.Z)(W,L,function(G,z){G[R.VL]=function(k,P,m,C){z[R.VL](k,P,m||new K.AQ(k),C||new g.f(k))},G.track=function(k){(0,H.Lm)(G[f.kl](),function(){return"AppInsightsCore:track"},function(){k===null&&(S(k),(0,I._y)("Invalid telemetry item")),ae(k),z.track(k)},function(){return{item:k}},!k.sync)};function ae(k){(0,I.le)(k[R.I])&&(S(k),(0,I._y)("telemetry name required"))}a(ae,"_validateTelemetryItem");function S(k){var P=G[R.tb]();P&&P[f.$F]([k],2)}a(S,"_notifyInvalidEvent")}),L}return a(W,"AppInsightsCore"),W.__ieDyn=1,W}(p.A)},6900:(Ke,v,E)=>{"use strict";E.d(v,{A:()=>Ae});var T=E(1088),h=E(1679),R=E(2091),p=E(8096),K=E(6708),I=E(6041),f=E(1589),g=E(3833),H=500,$="Channel has invalid priority - ";function O(re,M,ce){M&&(0,K.kJ)(M)&&M[p.R5]>0&&(M=M.sort(function(Se,Re){return Se[I.yi]-Re[I.yi]}),(0,K.tO)(M,function(Se){Se[I.yi]<H&&(0,K._y)($+Se[p.pZ])}),re[p.MW]({queue:(0,K.FL)(M),chain:(0,f.jV)(M,ce[p.TC],ce)}))}a(O,"_addChannelQueue");function W(re,M){function ce(){return(0,f.CD)(null,M[p.TC],M,null)}a(ce,"_getTelCtx");function Se(B,V,ee,le){var Me=B?B[p.R5]+1:1;function Ye(){Me--,Me===0&&(le&&le(),le=null)}a(Ye,"_runChainOnComplete"),Me>0&&(0,K.tO)(B,function(ve){if(ve&&ve.queue[p.R5]>0){var we=ve.chain,ye=V[p.zV](we);ye[p.Fc](Ye),ee(ye)}else Me--}),Ye()}a(Se,"_processChannelQueue");function Re(B,V){var ee=V||{reason:0};return Se(re,B,function(le){le[p.uL](ee)},function(){B[p.uL](ee)}),!0}a(Re,"_doUpdate");function X(B,V){var ee=V||{reason:0,isAsync:!1};return Se(re,B,function(le){le[p.uL](ee)},function(){B[p.uL](ee),ke=!1}),!0}a(X,"_doTeardown");function Je(B){var V=null;return re&&re[p.R5]>0&&(0,K.tO)(re,function(ee){if(ee&&ee.queue[p.R5]>0&&((0,K.tO)(ee.queue,function(le){if(le[p.pZ]===B)return V=le,-1}),V))return-1}),V}a(Je,"_getChannel");var ke=!1,Be={identifier:"ChannelControllerPlugin",priority:H,initialize:function(B,V,ee,le){ke=!0,(0,K.tO)(re,function(Me){Me&&Me.queue[p.R5]>0&&(0,g.bP)((0,f.CD)(Me.chain,B,V),ee)})},isInitialized:function(){return ke},processTelemetry:function(B,V){Se(re,V||ce(),function(ee){ee[p.uL](B)},function(){V[p.uL](B)})},update:Re,pause:function(){Se(re,ce(),function(B){B.iterate(function(V){V.pause&&V.pause()})},null)},resume:function(){Se(re,ce(),function(B){B.iterate(function(V){V.resume&&V.resume()})},null)},teardown:X,getChannel:Je,flush:function(B,V,ee,le){var Me=1,Ye=!1,ve=null;le=le||5e3;function we(){Me--,Ye&&Me===0&&(ve&&(clearTimeout(ve),ve=null),V&&V(Ye),V=null)}return a(we,"doCallback"),Se(re,ce(),function(ye){ye.iterate(function(ge){if(ge[p.kL]){Me++;var be=!1;ge[p.kL](B,function(){be=!0,we()},ee)||be||(B&&ve==null?ve=setTimeout(function(){ve=null,we()},le):we())}})},function(){Ye=!0,we()}),!0},_setQueue:function(B){re=B}};return Be}a(W,"createChannelControllerPlugin");function L(re,M,ce){var Se=[];if(re&&(0,K.tO)(re,function(X){return O(Se,X,ce)}),M){var Re=[];(0,K.tO)(M,function(X){X[I.yi]>H&&Re[p.MW](X)}),O(Se,Re,ce)}return Se}a(L,"createChannelQueues");var G=E(3242),z=E(5883),ae=E(7158),S=E(5018),k=E(9288),P=E(4063),m=E(7630),C=function(re){(0,T.ne)(M,re);function M(){var ce=re.call(this)||this;ce.identifier="TelemetryInitializerPlugin",ce.priority=199;var Se,Re;X(),(0,h.Z)(M,ce,function(Je,ke){Je.addTelemetryInitializer=function(Be){var B={id:Se++,fn:Be};Re[p.MW](B);var V={remove:function(){(0,K.tO)(Re,function(ee,le){if(ee.id===B.id)return Re[p.cb](le,1),-1})}};return V},Je[I.hL]=function(Be,B){for(var V=!1,ee=Re[p.R5],le=0;le<ee;++le){var Me=Re[le];if(Me)try{if(Me.fn[p.ZV](null,[Be])===!1){V=!0;break}}catch(Ye){(0,S.kP)(B[p.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,K.jj)(Ye),{exception:(0,m.eU)(Ye)},!0)}}V||Je[p.uL](Be,B)},Je[p.F3]=function(){X()}});function X(){Se=0,Re=[]}return a(X,"_initDefaults"),ce}return a(M,"TelemetryInitializerPlugin"),M.__ieDyn=1,M}(P.i),N=E(310),Y="Plugins must provide initialize method",J="_notificationManager",Q="SDK is still unloading...",ne="SDK is not initialized",pe={loggingLevelConsole:1};function q(re,M){return new k.Jk(M)}a(q,"_createPerfManager");function U(re,M,ce){var Se,Re=[],X={};return(0,K.tO)(ce,function(Je){((0,K.le)(Je)||(0,K.le)(Je[p.VL]))&&(0,K._y)(Y);var ke=Je[I.yi],Be=Je[p.pZ];Je&&ke&&((0,K.le)(X[ke])?X[ke]=Be:(0,S.jV)(re,"Two extensions have same priority #"+ke+" - "+X[ke]+", "+Be)),(!ke||ke<M)&&Re[p.MW](Je)}),Se={all:ce},Se[I.oV]=Re,Se}a(U,"_validateExtensions");function se(re,M){var ce=!1;return(0,K.tO)(M,function(Se){if(Se===re)return ce=!0,-1}),ce}a(se,"_isPluginPresent");function De(){var re;return(0,R.pu)((re={},re[p.g]=function(M){},re[p.n7]=function(M){},re[I.uC]=function(M){},re[I.$F]=function(M,ce){},re[I.f_]=function(M,ce){},re))}a(De,"_createDummyNotificationManager");var Ae=function(){function re(){var M,ce,Se,Re,X,Je,ke,Be,B,V,ee,le,Me,Ye,ve,we,ye,ge,be,oe,Qe=0;(0,h.Z)(re,this,function(Oe){A(),Oe[p.yl]=function(){return ce},Oe[p.VL]=function(Ve,Et,Ut,St){Ye&&(0,K._y)(Q),Oe[p.yl]()&&(0,K._y)("Core should not be initialized more than once"),M=Ve||{},Oe[p.TC]=M,(0,K.le)(Ve[p.p$])&&(0,K._y)("Please provide instrumentation key"),Re=St,Oe[J]=St,at(),Vt(),qt(),Ut&&(Oe[p.eZ]=Ut);var Bt=(0,K.qK)(M,I.js,[]);B=[],B[p.MW].apply(B,(0,T.$h)((0,T.$h)([],Et,!1),Bt,!1)),le=(0,K.qK)(M,I.Z,[]),fe(null),(!Me||Me[p.R5]===0)&&(0,K._y)("No "+I.Z+" available"),ce=!0,Oe.releaseQueue()},Oe.getTransmissionControls=function(){var Ve=[];return Me&&(0,K.tO)(Me,function(Et){Ve[p.MW](Et.queue)}),(0,K.FL)(Ve)},Oe.track=function(Ve){Ve.iKey=Ve.iKey||M[p.p$],Ve[p.Z_]=Ve[p.Z_]||(0,K.Y6)(new Date),Ve.ver=Ve.ver||"4.0",!Ye&&Oe[p.yl]()?Z()[p.uL](Ve):Se[p.MW](Ve)},Oe[p.SD]=Z,Oe[p.tb]=function(){return Re||(Re=De(),Oe[J]=Re),Re},Oe[p.g]=function(Ve){Re&&Re[p.g](Ve)},Oe[p.n7]=function(Ve){Re&&Re[p.n7](Ve)},Oe.getCookieMgr=function(){return ke||(ke=(0,G.Nz)(M,Oe[p.eZ])),ke},Oe.setCookieMgr=function(Ve){ke=Ve},Oe[I.kl]=function(){if(!X&&!Je&&(0,K.v4)(M.enablePerfMgr)){var Ve=(0,K.v4)(M[I.DN]);(0,K.mf)(Ve)&&(Je=Ve(Oe,Oe[p.tb]()))}return X||Je||(0,k.j5)()},Oe.setPerfMgr=function(Ve){X=Ve},Oe.eventCnt=function(){return Se[p.R5]},Oe.releaseQueue=function(){if(ce&&Se[p.R5]>0){var Ve=Se;Se=[],(0,K.tO)(Ve,function(Et){Z()[p.uL](Et)})}},Oe.pollInternalLogs=function(Ve){we=Ve||null;var Et=(0,K.v4)(M.diagnosticLogInterval);return(!Et||!(Et>0))&&(Et=1e4),Qe&&clearInterval(Qe),Qe=setInterval(function(){je()},Et),Qe},Oe[p.LS]=function(){Qe&&(clearInterval(Qe),Qe=0,je())},(0,K.Vb)(Oe,function(){return ve},["addTelemetryInitializer"]),Oe.unload=function(Ve,Et,Ut){var St;Ve===void 0&&(Ve=!0),ce||(0,K._y)(ne),Ye&&(0,K._y)(Q);var Bt=(St={reason:50},St[p.d]=Ve,St.flushComplete=!1,St),rt=(0,f.Bt)(Ge(),Oe);rt[p.Fc](function(){A(),Et&&Et(Bt)},Oe);function Ht(Yt){Bt.flushComplete=Yt,Ye=!0,ge.run(rt,Bt),Oe[p.LS](),rt[p.uL](Bt)}a(Ht,"_doUnload"),_t(Ve,Ht,6,Ut)||Ht(!1)},Oe[p.TO]=He,Oe.addPlugin=function(Ve,Et,Ut,St){if(!Ve){St&&St(!1),Rn(Y);return}var Bt=He(Ve[p.pZ]);if(Bt&&!Et){St&&St(!1),Rn("Plugin ["+Ve[p.pZ]+"] is already loaded!");return}var rt={reason:16};function Ht(Ot){B[p.MW](Ve),rt.added=[Ve],fe(rt),St&&St(!0)}if(a(Ht,"_addPlugin"),Bt){var Yt=[Bt.plugin],kt={reason:2,isAsync:!!Ut};dt(Yt,kt,function(Ot){Ot?(rt.removed=Yt,rt.reason|=32,Ht(!0)):St&&St(!1)})}else Ht(!1)},Oe.evtNamespace=function(){return ye},Oe[p.kL]=_t,Oe.getTraceCtx=function(Ve){return oe||(oe=(0,g.Yn)()),oe},Oe.setTraceCtx=function(Ve){oe=Ve||null},(0,K.Oi)(Oe,"addUnloadCb",function(){return ge},"add");function A(){ce=!1,M=(0,K.mm)(!0,{},pe),Oe[p.TC]=M,Oe[p.eZ]=new S.AQ(M),Oe[p.iC]=[],ve=new C,Se=[],Re=null,X=null,Je=null,ke=null,Be=null,V=null,B=[],ee=null,le=null,Me=null,Ye=!1,we=null,ye=(0,z.J)("AIBaseCore",!0),ge=(0,N.Y)(),oe=null}a(A,"_initDefaults");function Z(){return(0,f.CD)(Ge(),M,Oe)}a(Z,"_createTelCtx");function fe(Ve){var Et=U(Oe[p.eZ],H,B);V=Et[I.oV],Be=null;var Ut=Et.all;if(Me=(0,K.FL)(L(le,Ut,Oe)),ee){var St=(0,K.UA)(Ut,ee);St!==-1&&Ut[p.cb](St,1),St=(0,K.UA)(V,ee),St!==-1&&V[p.cb](St,1),ee._setQueue(Me)}else ee=W(Me,Oe);Ut[p.MW](ee),V[p.MW](ee),Oe[p.iC]=(0,g.AA)(Ut),ee[p.VL](M,Oe,Ut),(0,g.bP)(Z(),Ut),Oe[p.iC]=(0,K.FL)((0,g.AA)(V||[])).slice(),Ve&&an(Ve)}a(fe,"_initPluginChain");function He(Ve){var Et,Ut=null,St=null;return(0,K.tO)(Oe[p.iC],function(Bt){if(Bt[p.pZ]===Ve&&Bt!==ee&&Bt!==ve)return St=Bt,-1}),!St&&ee&&(St=ee.getChannel(Ve)),St&&(Ut=(Et={plugin:St},Et[p.$h]=function(Bt){(0,g.OY)(St)[I.mE]=!Bt},Et.isEnabled=function(){var Bt=(0,g.OY)(St);return!Bt[p.fi]&&!Bt[I.mE]},Et.remove=function(Bt,rt){var Ht;Bt===void 0&&(Bt=!0);var Yt=[St],kt=(Ht={reason:1},Ht[p.d]=Bt,Ht);dt(Yt,kt,function(Ot){Ot&&fe({reason:32,removed:Yt}),rt&&rt(Ot)})},Et)),Ut}a(He,"_getPlugin");function Ge(){if(!Be){var Ve=(V||[]).slice();(0,K.UA)(Ve,ve)===-1&&Ve[p.MW](ve),Be=(0,f.jV)((0,g.AA)(Ve),M,Oe)}return Be}a(Ge,"_getPluginChain");function dt(Ve,Et,Ut){if(Ve&&Ve[p.R5]>0){var St=(0,f.jV)(Ve,M,Oe),Bt=(0,f.Bt)(St,Oe);Bt[p.Fc](function(){var rt=!1,Ht=[];(0,K.tO)(B,function(kt,Ot){se(kt,Ve)?rt=!0:Ht[p.MW](kt)}),B=Ht;var Yt=[];le&&((0,K.tO)(le,function(kt,Ot){var cn=[];(0,K.tO)(kt,function(Sn){se(Sn,Ve)?rt=!0:cn[p.MW](Sn)}),Yt[p.MW](cn)}),le=Yt),Ut&&Ut(rt)}),Bt[p.uL](Et)}else Ut(!1)}a(dt,"_removePlugins");function je(){var Ve=Oe[p.eZ]?Oe[p.eZ].queue:[];Ve&&((0,K.tO)(Ve,function(Et){var Ut,St=(Ut={},Ut[p.I]=we||"InternalMessageId: "+Et[p.Gc],Ut.iKey=(0,K.v4)(M[p.p$]),Ut.time=(0,K.Y6)(new Date),Ut.baseType=S.lQ.dataType,Ut.baseData={message:Et[p.gU]},Ut);Oe.track(St)}),Ve[p.R5]=0)}a(je,"_flushInternalLogs");function _t(Ve,Et,Ut,St){return ee?ee[p.kL](Ve,Et,Ut||6,St):(Et&&Et(!1),!0)}a(_t,"_flushChannels");function at(){var Ve=(0,K.v4)(M.disableDbgExt);Ve===!0&&be&&(Re[p.n7](be),be=null),Re&&!be&&Ve!==!0&&(be=(0,ae.p)(M),Re[p.g](be))}a(at,"_initDebugListener");function Vt(){var Ve=(0,K.v4)(M.enablePerfMgr);!Ve&&Je&&(Je=null),Ve&&(0,K.qK)(M,I.DN,q)}a(Vt,"_initPerfManager");function qt(){var Ve=(0,K.qK)(M,I.Zh,{});Ve.NotificationManager=Re}a(qt,"_initExtConfig");function an(Ve){var Et=(0,f.xy)(Ge(),Oe);(!Oe._updateHook||Oe._updateHook(Et,Ve)!==!0)&&Et[p.uL](Ve)}a(an,"_doUpdate");function Rn(Ve){var Et=Oe[p.eZ];Et?(0,S.kP)(Et,2,73,Ve):(0,K._y)(Ve)}a(Rn,"_logOrThrowError")})}return a(re,"BaseCore"),re.__ieDyn=1,re}()},4063:(Ke,v,E)=>{"use strict";E.d(v,{i:()=>g});var T=E(1679),h=E(8096),R=E(6708),p=E(6041),K=E(1589),I=E(310),f="getPlugin",g=function(){function H(){var $=this,O,W,L,G,z;k(),(0,T.Z)(H,$,function(P){P[h.VL]=function(m,C,N,Y){S(m,C,Y),O=!0},P[h.fi]=function(m,C){var N,Y=P[p.oV];if(!Y||m&&Y!==m[p.oV]())return;var J,Q=!1,ne=m||(0,K.Bt)(null,Y,L&&L[f]?L[f]():L),pe=C||(N={reason:0},N[h.d]=!1,N);function q(){if(!Q){Q=!0,G.run(ne,C);var U=z;z=[],(0,R.tO)(U,function(se){se.rm()}),J===!0&&ne[h.uL](pe),k()}}return a(q,"_unloadCallback"),!P[h.F3]||P[h.F3](ne,pe,q)!==!0?q():J=!0,J},P[h.Tu]=function(m,C){var N=P[p.oV];if(!N||m&&N!==m[p.oV]())return;var Y,J=!1,Q=m||(0,K.xy)(null,N,L&&L[f]?L[f]():L),ne=C||{reason:0};function pe(){J||(J=!0,S(Q.getCfg(),Q.core(),Q[h.W2]()))}return a(pe,"_updateCallback"),!P._doUpdate||P._doUpdate(Q,ne,pe)!==!0?pe():Y=!0,Y},P._addHook=function(m){m&&((0,R.kJ)(m)?z=z.concat(m):z[h.MW](m))},(0,R.Oi)(P,"_addUnloadCb",function(){return G},"add")}),$[h.mc]=function(P){return ae(P)[h.mc]()},$[h.yl]=function(){return O},$.setInitialized=function(P){O=P},$[h.Jd]=function(P){L=P},$[h.uL]=function(P,m){m?m[h.uL](P):L&&(0,R.mf)(L[p.hL])&&L[p.hL](P,null)},$._getTelCtx=ae;function ae(P){P===void 0&&(P=null);var m=P;if(!m){var C=W||(0,K.CD)(null,{},$[p.oV]);L&&L[f]?m=C[h.zV](null,L[f]):m=C[h.zV](null,L)}return m}a(ae,"_getTelCtx");function S(P,m,C){P&&(0,R.sO)(P,p.Zh,[],null,R.le),!C&&m&&(C=m[h.SD]()[h.W2]());var N=L;L&&L[f]&&(N=L[f]()),$[p.oV]=m,W=(0,K.CD)(C,P,m,N)}a(S,"_setDefaults");function k(){O=!1,$[p.oV]=null,W=null,L=null,z=[],G=(0,I.Y)()}a(k,"_initDefaults")}return a(H,"BaseTelemetryPlugin"),H.__ieDyn=1,H}()},3242:(Ke,v,E)=>{"use strict";E.d(v,{kj:()=>m,JP:()=>Q,Nz:()=>ne,p7:()=>pe,UY:()=>re});var T=E(8096),h=E(5018),R=E(7630),p=E(6708),K=E(6041),I="toGMTString",f="toUTCString",g="cookie",H="expires",$="enabled",O="isCookieUseDisabled",W="disableCookiesUsage",L="_ckMgr",G=null,z=null,ae=null,S=(0,R.Me)(),k={},P={};function m(M,ce){var Se=ne[L]||P[L];return Se||(Se=ne[L]=ne(M,ce),P[L]=Se),Se}a(m,"_gblCookieMgr");function C(M){return M?M.isEnabled():!0}a(C,"_isMgrEnabled");function N(M){var ce=M[T.Lk]=M[T.Lk]||{};if((0,p.sO)(ce,"domain",M.cookieDomain,p.BX,p.le),(0,p.sO)(ce,"path",M.cookiePath||"/",null,p.le),(0,p.le)(ce[$])){var Se=void 0;(0,p.o8)(M[O])||(Se=!M[O]),(0,p.o8)(M[W])||(Se=!M[W]),ce[$]=Se}return ce}a(N,"_createCookieMgrConfig");function Y(M,ce){return ce&&M&&(0,p.kJ)(M.ignoreCookies)?M.ignoreCookies[T.ou](ce)!==-1:!1}a(Y,"_isIgnoredCookie");function J(M,ce){return ce&&M&&(0,p.kJ)(M.blockedCookies)&&M.blockedCookies[T.ou](ce)!==-1?!0:Y(M,ce)}a(J,"_isBlockedCookie");function Q(M,ce){var Se;if(M)Se=M.getCookieMgr();else if(ce){var Re=ce[T.Lk];Re[L]?Se=Re[L]:Se=ne(ce)}return Se||(Se=m(ce,(M||{})[T.eZ])),Se}a(Q,"safeGetCookieMgr");function ne(M,ce){var Se,Re=N(M||P),X=Re.path||"/",Je=Re.domain,ke=Re[$]!==!1,Be=(Se={isEnabled:function(){var B=ke&&pe(ce),V=P[L];return B&&V&&Be!==V&&(B=C(V)),B}},Se[T.$h]=function(B){ke=B!==!1},Se.set=function(B,V,ee,le,Me){var Ye=!1;if(C(Be)&&!J(Re,B)){var ve={},we=(0,p.nd)(V||K.qS),ye=we[T.ou](";");if(ye!==-1&&(we=(0,p.nd)(V[T.zc](0,ye)),ve=q(V[T.zc](ye+1))),(0,p.sO)(ve,"domain",le||Je,p.fQ,p.o8),!(0,p.le)(ee)){var ge=(0,R.w1)();if((0,p.o8)(ve[H])){var be=(0,p.m6)(),oe=be+ee*1e3;if(oe>0){var Qe=new Date;Qe.setTime(oe),(0,p.sO)(ve,H,U(Qe,ge?I:f)||U(Qe,ge?I:f)||K.qS,p.fQ)}}ge||(0,p.sO)(ve,"max-age",K.qS+ee,null,p.o8)}var Oe=(0,R.k$)();Oe&&Oe.protocol==="https:"&&((0,p.sO)(ve,"secure",null,null,p.o8),z===null&&(z=!re(((0,R.jW)()||{})[T.qV])),z&&(0,p.sO)(ve,"SameSite","None",null,p.o8)),(0,p.sO)(ve,"path",Me||X,null,p.o8);var A=Re.setCookie||Ae;A(B,se(we,ve)),Ye=!0}return Ye},Se.get=function(B){var V=K.qS;return C(Be)&&!Y(Re,B)&&(V=(Re.getCookie||De)(B)),V},Se.del=function(B,V){var ee=!1;return C(Be)&&(ee=Be.purge(B,V)),ee},Se.purge=function(B,V){var ee,le=!1;if(pe(ce)){var Me=(ee={},ee.path=V||"/",ee[H]="Thu, 01 Jan 1970 00:00:01 GMT",ee);(0,R.w1)()||(Me["max-age"]="0");var Ye=Re.delCookie||Ae;Ye(B,se(K.qS,Me)),le=!0}return le},Se);return Be[L]=Be,Be}a(ne,"createCookieMgr");function pe(M){if(G===null){G=!1;try{var ce=S||{};G=ce[g]!==void 0}catch(Se){(0,h.kP)(M,2,68,"Cannot access document.cookie - "+(0,p.jj)(Se),{exception:(0,R.eU)(Se)})}}return G}a(pe,"areCookiesSupported");function q(M){var ce={};if(M&&M[T.R5]){var Se=(0,p.nd)(M)[T.w6](";");(0,p.tO)(Se,function(Re){if(Re=(0,p.nd)(Re||K.qS),Re){var X=Re[T.ou]("=");X===-1?ce[Re]=null:ce[(0,p.nd)(Re[T.zc](0,X))]=(0,p.nd)(Re[T.zc](X+1))}})}return ce}a(q,"_extractParts");function U(M,ce){return(0,p.mf)(M[ce])?M[ce]():null}a(U,"_formatDate");function se(M,ce){var Se=M||K.qS;return(0,p.rW)(ce,function(Re,X){Se+="; "+Re+((0,p.le)(X)?K.qS:"="+X)}),Se}a(se,"_formatCookieValue");function De(M){var ce=K.qS;if(S){var Se=S[g]||K.qS;ae!==Se&&(k=q(Se),ae=Se),ce=(0,p.nd)(k[M]||K.qS)}return ce}a(De,"_getCookieValue");function Ae(M,ce){S&&(S[g]=M+"="+ce)}a(Ae,"_setCookieValue");function re(M){return(0,p.HD)(M)?!!((0,p._Q)(M,"CPU iPhone OS 12")||(0,p._Q)(M,"iPad; CPU OS 12")||(0,p._Q)(M,"Macintosh; Intel Mac OS X 10_14")&&(0,p._Q)(M,"Version/")&&(0,p._Q)(M,"Safari")||(0,p._Q)(M,"Macintosh; Intel Mac OS X 10_14")&&(0,p.Id)(M,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,p._Q)(M,"Chrome/5")||(0,p._Q)(M,"Chrome/6")||(0,p._Q)(M,"UnrealEngine")&&!(0,p._Q)(M,"Chrome")||(0,p._Q)(M,"UCBrowser/12")||(0,p._Q)(M,"UCBrowser/11")):!1}a(re,"uaDisallowsSameSiteNone")},5843:(Ke,v,E)=>{"use strict";E.d(v,{GW:()=>W,Jj:()=>L,DO:()=>z,Tr:()=>ae,zB:()=>k,oF:()=>m,vn:()=>C,ej:()=>N,d8:()=>Y,kT:()=>J});var T=E(2091),h=E(8096),R=E(3242),p=E(7630),K=E(4869),I=E(6708),f=E(6041),g=E(4878),H=null,$,O=null;function W(){var Q=z();return Q[h.zc](0,8)+"-"+Q[h.zc](8,12)+"-"+Q[h.zc](12,16)+"-"+Q[h.zc](16,20)+"-"+Q[h.zc](20)}a(W,"newGuid");function L(){var Q=(0,p.r)();return Q&&Q.now?Q.now():(0,I.m6)()}a(L,"perfNow");function G(Q,ne){if(Q&&ne){var pe=Q[_DYN_LENGTH],q=pe-ne[_DYN_LENGTH];return Q[_DYN_SUBSTRING](q>=0?q:0,pe)===ne}return!1}a(G,"strEndsWith");function z(){for(var Q=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ne=f.qS,pe,q=0;q<4;q++)pe=(0,g._l)(),ne+=Q[pe&15]+Q[pe>>4&15]+Q[pe>>8&15]+Q[pe>>12&15]+Q[pe>>16&15]+Q[pe>>20&15]+Q[pe>>24&15]+Q[pe>>28&15];var U=Q[8+((0,g._l)()&3)|0];return ne[h.Jn](0,8)+ne[h.Jn](9,4)+"4"+ne[h.Jn](13,3)+U+ne[h.Jn](16,3)+ne[h.Jn](19,12)}a(z,"generateW3CId");var ae={_canUseCookies:void 0,isTypeof:I.Ym,isUndefined:I.o8,isNullOrUndefined:I.le,hasOwnProperty:I.nr,isFunction:I.mf,isObject:I.Kn,isDate:I.J_,isArray:I.kJ,isError:I.VZ,isString:I.HD,isNumber:I.hj,isBoolean:I.jn,toISOString:I.Y6,arrForEach:I.tO,arrIndexOf:I.UA,arrMap:I.Mr,arrReduce:I.Xz,strTrim:I.nd,objCreate:T.pu,objKeys:I.FY,objDefineAccessors:I.l_,addEventHandler:K.Ib,dateNow:I.m6,isIE:p.w1,disableCookies:m,newGuid:W,perfNow:L,newId:g.pZ,randomValue:g.az,random32:g._l,mwcRandomSeed:g.CN,mwcRandom32:g.F6,generateW3CId:z},S=/[xy]/g,k={Attach:K.pZ,AttachEvent:K.pZ,Detach:K.pD,DetachEvent:K.pD};function P(Q,ne){var pe=(0,R.kj)(Q,ne),q=ae._canUseCookies;return H===null&&(H=[],$=q,(0,I.l_)(ae,"_canUseCookies",function(){return $},function(U){$=U,(0,I.tO)(H,function(se){se[h.$h](U)})})),(0,I.UA)(H,pe)===-1&&H[h.MW](pe),(0,I.jn)(q)&&pe[h.$h](q),(0,I.jn)($)&&pe[h.$h]($),pe}a(P,"_legacyCookieMgr");function m(){P()[h.$h](!1)}a(m,"disableCookies");function C(Q){return P(null,Q).isEnabled()}a(C,"canUseCookies");function N(Q,ne){return P(null,Q).get(ne)}a(N,"getCookie");function Y(Q,ne,pe,q){P(null,Q).set(ne,pe,null,q)}a(Y,"setCookie");function J(Q,ne){return P(null,Q).del(ne)}a(J,"deleteCookie")},5883:(Ke,v,E)=>{"use strict";E.d(v,{J:()=>L,K:()=>G});var T=E(4392),h=E(8096),R=E(6708),p=E(6041),K=E(4878),I=T.RJ,f="2.8.9",g="."+(0,K.pZ)(6),H=0;function $(z,ae,S){if(I)try{return I(z,ae,{value:S,enumerable:!1,configurable:!0}),!0}catch(k){}return!1}a($,"_createAccessor");function O(z){return z[h.xv]===1||z[h.xv]===9||!+z[h.xv]}a(O,"_canAcceptData");function W(z,ae){var S=ae[z.id];if(!S){S={};try{O(ae)&&($(ae,z.id,S)||(ae[z.id]=S))}catch(k){}}return S}a(W,"_getCache");function L(z,ae){return ae===void 0&&(ae=!1),(0,R.Gf)(z+H+++(ae?"."+f:p.qS)+g)}a(L,"createUniqueNamespace");function G(z){var ae={id:L("_aiData-"+(z||p.qS)+"."+f),accept:function(S){return O(S)},get:function(S,k,P,m){var C=S[ae.id];return C?C[(0,R.Gf)(k)]:(m&&(C=W(ae,S),C[(0,R.Gf)(k)]=P),P)},kill:function(S,k){if(S&&S[k])try{delete S[k]}catch(P){}}};return ae}a(G,"createElmNodeData")},7158:(Ke,v,E)=>{"use strict";E.d(v,{j:()=>g,p:()=>H});var T=E(8096),h=E(7630),R=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],p=null,K;function I($,O){return function(){var W=arguments,L=g(O);if(L){var G=L.listener;G&&G[$]&&G[$][T.ZV](G,W)}}}a(I,"_listenerProxyFunc");function f(){var $=(0,h.a8)("Microsoft");return $&&(p=$.ApplicationInsights),p}a(f,"_getExtensionNamespace");function g($){var O=p;return!O&&$.disableDbgExt!==!0&&(O=p||f()),O?O.ChromeDbgExt:null}a(g,"getDebugExt");function H($){if(!K){K={};for(var O=0;O<R[T.R5];O++)K[R[O]]=I(R[O],$)}return K}a(H,"getDebugListener")},5018:(Ke,v,E)=>{"use strict";E.d(v,{lQ:()=>W,vH:()=>L,AQ:()=>G,kP:()=>ae,jV:()=>S,L4:()=>k});var T=E(1679),h=E(8096),R=E(7158),p=E(7630),K=E(6708),I=E(6041),f="AI (Internal): ",g="AI: ",H="AITR_";function $(P){return P?'"'+P[h.i7](/\"/g,I.qS)+'"':I.qS}a($,"_sanitizeDiagnosticText");function O(P,m){var C=(0,p.dr)();if(C){var N="log";C[P]&&(N=P),(0,K.mf)(C[N])&&C[N](m)}}a(O,"_logToConsole");var W=function(){function P(m,C,N,Y){N===void 0&&(N=!1);var J=this;J[h.Gc]=m,J[h.gU]=(N?g:f)+m;var Q=I.qS;(0,p.nS)()&&(Q=(0,p.xA)().stringify(Y));var ne=(C?" message:"+$(C):I.qS)+(Y?" props:"+$(Q):I.qS);J[h.gU]+=ne}return a(P,"_InternalLogMessage"),P.dataType="MessageData",P}();function L(P,m){return(P||{})[h.eZ]||new G(m)}a(L,"safeGetLogger");var G=function(){function P(m){this.identifier="DiagnosticLogger",this.queue=[];var C=0,N={},Y,J,Q,ne;(0,T.Z)(P,this,function(pe){U(m||{}),pe.consoleLoggingLevel=function(){return Y},pe.telemetryLoggingLevel=function(){return J},pe.maxInternalMessageLimit=function(){return Q},pe[h.Fr]=function(){return ne},pe.throwInternal=function(Ae,re,M,ce,Se){Se===void 0&&(Se=!1);var Re=new W(re,M,Se,ce);if(ne)throw(0,p.eU)(Re);var X=Ae===1?I.ys:I.cL;if((0,K.o8)(Re[h.gU]))De("throw"+(Ae===1?"Critical":"Warning"),Re);else{if(Se){var Je=+Re[h.Gc];!N[Je]&&Y>=Ae&&(pe[X](Re[h.gU]),N[Je]=!0)}else Y>=Ae&&pe[X](Re[h.gU]);q(Ae,Re)}},pe[I.cL]=function(Ae){O("warn",Ae),De("warning",Ae)},pe[I.ys]=function(Ae){O("error",Ae),De("error",Ae)},pe.resetInternalMessageCount=function(){C=0,N={}},pe[h.jk]=q;function q(Ae,re){if(!se()){var M=!0,ce=H+re[h.Gc];if(N[ce]?M=!1:N[ce]=!0,M&&(Ae<=J&&(pe.queue[h.MW](re),C++,De(Ae===1?"error":"warn",re)),C===Q)){var Se="Internal events throttle limit per PageView reached for this app.",Re=new W(23,Se,!1);pe.queue[h.MW](Re),Ae===1?pe[I.ys](Se):pe[I.cL](Se)}}}a(q,"_logInternalMessage");function U(Ae){Y=(0,K.v4)(Ae.loggingLevelConsole,0),J=(0,K.v4)(Ae.loggingLevelTelemetry,1),Q=(0,K.v4)(Ae.maxMessageLimit,25),ne=(0,K.v4)(Ae[h.Fr],!1)}a(U,"_setDefaultsFromConfig");function se(){return C>=Q}a(se,"_areInternalMessagesThrottled");function De(Ae,re){var M=(0,R.j)(m||{});M&&M[h.mc]&&M[h.mc](Ae,re)}a(De,"_debugExtMsg")})}return a(P,"DiagnosticLogger"),P.__ieDyn=1,P}();function z(P){return P||new G}a(z,"_getLogger");function ae(P,m,C,N,Y,J){J===void 0&&(J=!1),z(P).throwInternal(m,C,N,Y,J)}a(ae,"_throwInternal");function S(P,m){z(P)[I.cL](m)}a(S,"_warnToConsole");function k(P,m,C){z(P)[h.jk](m,C)}a(k,"_logInternalMessage")},7630:(Ke,v,E)=>{"use strict";E.d(v,{dI:()=>pe,a8:()=>q,Ym:()=>U,Jj:()=>se,Nv:()=>De,Me:()=>Ae,d6:()=>re,jW:()=>M,fE:()=>ce,s1:()=>Se,k$:()=>Re,dr:()=>X,r:()=>Je,nS:()=>ke,xA:()=>Be,MX:()=>B,gz:()=>V,b$:()=>ee,w1:()=>le,sA:()=>Me,eU:()=>Ye,MF:()=>we,JO:()=>ye,cp:()=>ge,Z3:()=>be,ed:()=>Qe,pI:()=>Oe});var T=E(4392),h=E(2091),R=E(8096),p=E(6708),K=E(6041),I="window",f="document",g="documentMode",H="navigator",$="history",O="location",W="console",L="performance",G="JSON",z="crypto",ae="msCrypto",S="ReactNative",k="msie",P="trident/",m="XMLHttpRequest",C=null,N=null,Y=!1,J=null,Q=null;function ne(A,Z){var fe=!1;if(A){try{if(fe=Z in A,!fe){var He=A[T.hB];He&&(fe=Z in He)}}catch(dt){}if(!fe)try{var Ge=new A;fe=!(0,p.o8)(Ge[Z])}catch(dt){}}return fe}a(ne,"_hasProperty");function pe(A){Y=A}a(pe,"setEnableEnvMocks");function q(A){var Z=(0,h.Rd)();return Z&&Z[A]?Z[A]:A===I&&U()?window:null}a(q,"getGlobalInst");function U(){return Boolean(typeof window===T.fK&&window)}a(U,"hasWindow");function se(){return U()?window:q(I)}a(se,"getWindow");function De(){return Boolean(typeof document===T.fK&&document)}a(De,"hasDocument");function Ae(){return De()?document:q(f)}a(Ae,"getDocument");function re(){return Boolean(typeof navigator===T.fK&&navigator)}a(re,"hasNavigator");function M(){return re()?navigator:q(H)}a(M,"getNavigator");function ce(){return Boolean(typeof history===T.fK&&history)}a(ce,"hasHistory");function Se(){return ce()?history:q($)}a(Se,"getHistory");function Re(A){if(A&&Y){var Z=q("__mockLocation");if(Z)return Z}return typeof location===T.fK&&location?location:q(O)}a(Re,"getLocation");function X(){return typeof console!==T.jA?console:q(W)}a(X,"getConsole");function Je(){return q(L)}a(Je,"getPerformance");function ke(){return Boolean(typeof JSON===T.fK&&JSON||q(G)!==null)}a(ke,"hasJSON");function Be(){return ke()?JSON||q(G):null}a(Be,"getJSON");function B(){return q(z)}a(B,"getCrypto");function V(){return q(ae)}a(V,"getMsCrypto");function ee(){var A=M();return A&&A.product?A.product===S:!1}a(ee,"isReactNative");function le(){var A=M();if(A&&(A[R.qV]!==N||C===null)){N=A[R.qV];var Z=(N||K.qS)[R.T1]();C=(0,p._Q)(Z,k)||(0,p._Q)(Z,P)}return C}a(le,"isIE");function Me(A){if(A===void 0&&(A=null),!A){var Z=M()||{};A=Z?(Z[R.qV]||K.qS)[R.T1]():K.qS}var fe=(A||K.qS)[R.T1]();if((0,p._Q)(fe,k)){var He=Ae()||{};return Math.max(parseInt(fe[R.w6](k)[1]),He[g]||0)}else if((0,p._Q)(fe,P)){var Ge=parseInt(fe[R.w6](P)[1]);if(Ge)return Ge+4}return null}a(Me,"getIEVersion");function Ye(A){var Z=Object[T.hB].toString[R._S](A),fe=K.qS;return Z==="[object Error]"?fe="{ stack: '"+A.stack+"', message: '"+A.message+"', name: '"+A[R.I]+"'":ke()&&(fe=Be().stringify(A)),Z+fe}a(Ye,"dumpObj");function ve(A){if(!A||!isString(A)){var Z=M()||{};A=Z?(Z[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var fe=(A||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return fe[_DYN_INDEX_OF]("safari")>=0}a(ve,"isSafari");function we(){return Q===null&&(Q=re()&&Boolean(M().sendBeacon)),Q}a(we,"isBeaconsSupported");function ye(A){var Z=!1;try{Z=!!q("fetch");var fe=q("Request");Z&&A&&fe&&(Z=ne(fe,"keepalive"))}catch(He){}return Z}a(ye,"isFetchSupported");function ge(){return J===null&&(J=typeof XDomainRequest!==T.jA,J&&be()&&(J=J&&!ne(q(m),"withCredentials"))),J}a(ge,"useXDomainRequest");function be(){var A=!1;try{var Z=q(m);A=!!Z}catch(fe){}return A}a(be,"isXhrSupported");function oe(A,Z){if(A)for(var fe=0;fe<A[R.R5];fe++){var He=A[fe];if(He[R.I]&&He[R.I]===Z)return He}return{}}a(oe,"_getNamedValue");function Qe(A){var Z=Ae();return Z&&A?oe(Z.querySelectorAll("meta"),A).content:null}a(Qe,"findMetaTag");function Oe(A){var Z,fe=Je();if(fe){var He=fe.getEntriesByType("navigation")||[];Z=oe((He[R.R5]>0?He[0]:{}).serverTiming,A).description}return Z}a(Oe,"findNamedServerTiming")},4869:(Ke,v,E)=>{"use strict";E.d(v,{um:()=>ne,jU:()=>Ae,XO:()=>re,QY:()=>M,pZ:()=>ce,pD:()=>Se,Ib:()=>Re,C1:()=>X,yw:()=>ke,nJ:()=>Be,c9:()=>B,JA:()=>V,TJ:()=>ee,C9:()=>le,nD:()=>Me,Yl:()=>Ye});var T=E(8096),h=E(5883),R=E(7630),p=E(6708),K=E(6041),I="on",f="attachEvent",g="addEventListener",H="detachEvent",$="removeEventListener",O="events",W="visibilitychange",L="pagehide",G="pageshow",z="unload",ae="beforeunload",S=(0,h.J)("aiEvtPageHide"),k=(0,h.J)("aiEvtPageShow"),P=/\.[\.]+/g,m=/[\.]+$/,C=1,N=(0,h.K)("events"),Y=/^([^.]*)(?:\.(.+)|)/;function J(ve){return ve&&ve[T.i7]?ve[T.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,K.qS):ve}a(J,"_normalizeNamespace");function Q(ve,we){var ye;if(we){var ge=K.qS;(0,p.kJ)(we)?(ge=K.qS,(0,p.tO)(we,function(oe){oe=J(oe),oe&&(oe[0]!=="."&&(oe="."+oe),ge+=oe)})):ge=J(we),ge&&(ge[0]!=="."&&(ge="."+ge),ve=(ve||K.qS)+ge)}var be=Y.exec(ve||K.qS)||[];return ye={},ye[T.P6]=be[1],ye.ns=(be[2]||K.qS).replace(P,".").replace(m,K.qS)[T.w6](".").sort().join("."),ye}a(Q,"_getEvtNamespace");function ne(ve,we,ye){var ge=[],be=N.get(ve,O,{},!1),oe=Q(we,ye);return(0,p.rW)(be,function(Qe,Oe){(0,p.tO)(Oe,function(A){var Z;(!oe[T.P6]||oe[T.P6]===A.evtName[T.P6])&&(!oe.ns||oe.ns===oe.ns)&&ge[T.MW]((Z={},Z[T.I]=A.evtName[T.P6]+(A.evtName.ns?"."+A.evtName.ns:K.qS),Z.handler=A[T.Kn],Z))})}),ge}a(ne,"__getRegisteredEvents");function pe(ve,we,ye){ye===void 0&&(ye=!0);var ge=N.get(ve,O,{},ye),be=ge[we];return be||(be=ge[we]=[]),be}a(pe,"_getRegisteredEvents");function q(ve,we,ye,ge){ve&&we&&we[T.P6]&&(ve[$]?ve[$](we[T.P6],ye,ge):ve[H]&&ve[H](I+we[T.P6],ye))}a(q,"_doDetach");function U(ve,we,ye,ge){var be=!1;return ve&&we&&we[T.P6]&&ye&&(ve[g]?(ve[g](we[T.P6],ye,ge),be=!0):ve[f]&&(ve[f](I+we[T.P6],ye),be=!0)),be}a(U,"_doAttach");function se(ve,we,ye,ge){for(var be=we[T.R5];be--;){var oe=we[be];oe&&(!ye.ns||ye.ns===oe.evtName.ns)&&(!ge||ge(oe))&&(q(ve,oe.evtName,oe[T.Kn],oe.capture),we[T.cb](be,1))}}a(se,"_doUnregister");function De(ve,we,ye){if(we[T.P6])se(ve,pe(ve,we[T.P6]),we,ye);else{var ge=N.get(ve,O,{});(0,p.rW)(ge,function(be,oe){se(ve,oe,we,ye)}),(0,p.FY)(ge)[T.R5]===0&&N.kill(ve,O)}}a(De,"_unregisterEvents");function Ae(ve,we){var ye;return we?((0,p.kJ)(we)?ye=[ve].concat(we):ye=[ve,we],ye=Q("xx",ye).ns[T.w6](".")):ye=ve,ye}a(Ae,"mergeEvtNamespace");function re(ve,we,ye,ge,be){var oe;be===void 0&&(be=!1);var Qe=!1;if(ve)try{var Oe=Q(we,ge);if(Qe=U(ve,Oe,ye,be),Qe&&N.accept(ve)){var A=(oe={guid:C++,evtName:Oe},oe[T.Kn]=ye,oe.capture=be,oe);pe(ve,Oe.type)[T.MW](A)}}catch(Z){}return Qe}a(re,"eventOn");function M(ve,we,ye,ge,be){if(be===void 0&&(be=!1),ve)try{var oe=Q(we,ge),Qe=!1;De(ve,oe,function(Oe){return oe.ns&&!ye||Oe[T.Kn]===ye?(Qe=!0,!0):!1}),Qe||q(ve,oe,ye,be)}catch(Oe){}}a(M,"eventOff");function ce(ve,we,ye,ge){return ge===void 0&&(ge=!1),re(ve,we,ye,null,ge)}a(ce,"attachEvent");function Se(ve,we,ye,ge){ge===void 0&&(ge=!1),M(ve,we,ye,null,ge)}a(Se,"detachEvent");function Re(ve,we,ye){var ge=!1,be=(0,R.Jj)();be&&(ge=re(be,ve,we,ye),ge=re(be.body,ve,we,ye)||ge);var oe=(0,R.Me)();return oe&&(ge=re(oe,ve,we,ye)||ge),ge}a(Re,"addEventHandler");function X(ve,we,ye){var ge=(0,R.Jj)();ge&&(M(ge,ve,we,ye),M(ge.body,ve,we,ye));var be=(0,R.Me)();be&&M(be,ve,we,ye)}a(X,"removeEventHandler");function Je(ve,we,ye,ge){var be=!1;return we&&ve&&ve[T.R5]>0&&(0,p.tO)(ve,function(oe){oe&&(!ye||(0,p.UA)(ye,oe)===-1)&&(be=Re(oe,we,ge)||be)}),be}a(Je,"_addEventListeners");function ke(ve,we,ye,ge){var be=!1;return we&&ve&&(0,p.kJ)(ve)&&(be=Je(ve,we,ye,ge),!be&&ye&&ye[T.R5]>0&&(be=Je(ve,we,null,ge))),be}a(ke,"addEventListeners");function Be(ve,we,ye){ve&&(0,p.kJ)(ve)&&(0,p.tO)(ve,function(ge){ge&&X(ge,we,ye)})}a(Be,"removeEventListeners");function B(ve,we,ye){return ke([ae,z,L],ve,we,ye)}a(B,"addPageUnloadEventListener");function V(ve,we){Be([ae,z,L],ve,we)}a(V,"removePageUnloadEventListener");function ee(ve,we,ye){function ge(Qe){var Oe=(0,R.Me)();ve&&Oe&&Oe.visibilityState==="hidden"&&ve(Qe)}a(ge,"_handlePageVisibility");var be=Ae(S,ye),oe=Je([L],ve,we,be);return(!we||(0,p.UA)(we,W)===-1)&&(oe=Je([W],ge,we,be)||oe),!oe&&we&&(oe=ee(ve,null,ye)),oe}a(ee,"addPageHideEventListener");function le(ve,we){var ye=Ae(S,we);Be([L],ve,ye),Be([W],null,ye)}a(le,"removePageHideEventListener");function Me(ve,we,ye){function ge(Qe){var Oe=(0,R.Me)();ve&&Oe&&Oe.visibilityState==="visible"&&ve(Qe)}a(ge,"_handlePageVisibility");var be=Ae(k,ye),oe=Je([G],ve,we,be);return oe=Je([W],ge,we,be)||oe,!oe&&we&&(oe=Me(ve,null,ye)),oe}a(Me,"addPageShowEventListener");function Ye(ve,we){var ye=Ae(k,we);Be([G],ve,ye),Be([W],null,ye)}a(Ye,"removePageShowEventListener")},6708:(Ke,v,E)=>{"use strict";E.d(v,{Ym:()=>ce,o8:()=>Se,le:()=>X,BX:()=>Je,nr:()=>ke,Kn:()=>Be,mf:()=>B,Gf:()=>ee,rW:()=>le,Id:()=>Me,xe:()=>ve,_Q:()=>ye,J_:()=>ge,kJ:()=>be,VZ:()=>Qe,HD:()=>Oe,hj:()=>A,jn:()=>Z,Y6:()=>Ge,tO:()=>je,UA:()=>_t,Mr:()=>at,Xz:()=>Vt,nd:()=>qt,FY:()=>Ve,l_:()=>Et,_A:()=>St,FL:()=>Bt,Xi:()=>rt,m6:()=>Ht,jj:()=>Yt,sO:()=>kt,qK:()=>Ot,v4:()=>cn,F:()=>Sn,fQ:()=>hr,_y:()=>Gn,cf:()=>Tr,Oi:()=>ar,Vb:()=>Or,hl:()=>Er,Ax:()=>mr,mm:()=>Dr});var T=E(4392),h=E(2091),R=E(8096),p=E(6041),K="toISOString",I="endsWith",f="startsWith",g="indexOf",H="map",$="reduce",O="trim",W="toString",L="__proto__",G="constructor",z=T.RJ,ae=T.Pw.freeze,S=T.Pw.seal,k=T.Pw.keys,P=String[T.hB],m=P[O],C=P[I],N=P[f],Y=Date[T.hB],J=Y[K],Q=Array.isArray,ne=T.V4[W],pe=T.CY[W],q=pe[R._S](T.Pw),U=/-([a-z])/g,se=/([^\w\d_$])/g,De=/^(\d+[\w\d_$])/,Ae=Object.getPrototypeOf;function re(ie){if(ie){if(Ae)return Ae(ie);var We=ie[L]||ie[T.hB]||ie[G];if(We)return We}return null}a(re,"_getObjProto");function M(ie){return ne[_DYN_CALL](ie)}a(M,"objToString");function ce(ie,We){return typeof ie===We}a(ce,"isTypeof");function Se(ie){return ie===void 0||typeof ie===T.jA}a(Se,"isUndefined");function Re(ie){return!Se(ie)}a(Re,"isNotUndefined");function X(ie){return ie===null||Se(ie)}a(X,"isNullOrUndefined");function Je(ie){return!X(ie)}a(Je,"isNotNullOrUndefined");function ke(ie,We){return!!(ie&&T.CY[R._S](ie,We))}a(ke,"hasOwnProperty");function Be(ie){return!!(ie&&typeof ie===T.fK)}a(Be,"isObject");function B(ie){return!!(ie&&typeof ie===T.cb)}a(B,"isFunction");function V(ie){return ie&&B(ie.then)}a(V,"isPromiseLike");function ee(ie){var We=ie;return We&&Oe(We)&&(We=We[R.i7](U,function(Ze,ut){return ut.toUpperCase()}),We=We[R.i7](se,"_"),We=We[R.i7](De,function(Ze,ut){return"_"+ut})),We}a(ee,"normalizeJsName");function le(ie,We){if(ie)for(var Ze in ie)T.CY[R._S](ie,Ze)&&We[R._S](ie,Ze,ie[Ze])}a(le,"objForEachKey");function Me(ie,We){var Ze=!1;return ie&&We&&!(Ze=ie===We)&&(Ze=C?ie[I](We):Ye(ie,We)),Ze}a(Me,"strEndsWith");function Ye(ie,We){var Ze=!1,ut=We?We[R.R5]:0,bt=ie?ie[R.R5]:0;if(ut&&bt&&bt>=ut&&!(Ze=ie===We)){for(var Ct=bt-1,In=ut-1;In>=0;In--){if(ie[Ct]!=We[In])return!1;Ct--}Ze=!0}return Ze}a(Ye,"_strEndsWithPoly");function ve(ie,We){var Ze=!1;return ie&&We&&!(Ze=ie===We)&&(Ze=N?ie[f](We):we(ie,We)),Ze}a(ve,"strStartsWith");function we(ie,We){var Ze=!1,ut=We?We[R.R5]:0;if(ie&&ut&&ie[R.R5]>=ut&&!(Ze=ie===We)){for(var bt=0;bt<ut;bt++)if(ie[bt]!==We[bt])return!1;Ze=!0}return Ze}a(we,"_strStartsWithPoly");function ye(ie,We){return ie&&We?ie[R.ou](We)!==-1:!1}a(ye,"strContains");function ge(ie){return!!(ie&&ne[R._S](ie)==="[object Date]")}a(ge,"isDate");var be=Q||oe;function oe(ie){return!!(ie&&ne[R._S](ie)==="[object Array]")}a(oe,"_isArrayPoly");function Qe(ie){return!!(ie&&ne[R._S](ie)==="[object Error]")}a(Qe,"isError");function Oe(ie){return typeof ie=="string"}a(Oe,"isString");function A(ie){return typeof ie=="number"}a(A,"isNumber");function Z(ie){return typeof ie=="boolean"}a(Z,"isBoolean");function fe(ie){return typeof ie=="symbol"}a(fe,"isSymbol");function He(ie){var We=!1;if(ie&&typeof ie=="object"){var Ze=Ae?Ae(ie):re(ie);Ze?(Ze[G]&&T.CY[R._S](Ze,G)&&(Ze=Ze[G]),We=typeof Ze===T.cb&&pe[R._S](Ze)===q):We=!0}return We}a(He,"isPlainObject");function Ge(ie){if(ie)return J?ie[K]():dt(ie)}a(Ge,"toISOString");function dt(ie){if(ie&&ie.getUTCFullYear){var We=a(function(Ze){var ut=String(Ze);return ut[R.R5]===1&&(ut="0"+ut),ut},"pad");return ie.getUTCFullYear()+"-"+We(ie.getUTCMonth()+1)+"-"+We(ie.getUTCDate())+"T"+We(ie.getUTCHours())+":"+We(ie.getUTCMinutes())+":"+We(ie.getUTCSeconds())+"."+String((ie.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(dt,"_toISOStringPoly");function je(ie,We,Ze){var ut=ie[R.R5];try{for(var bt=0;bt<ut&&!(bt in ie&&We[R._S](Ze||ie,ie[bt],bt,ie)===-1);bt++);}catch(Ct){}}a(je,"arrForEach");function _t(ie,We,Ze){if(ie){if(ie[g])return ie[g](We,Ze);var ut=ie[R.R5],bt=Ze||0;try{for(var Ct=Math.max(bt>=0?bt:ut-Math.abs(bt),0);Ct<ut;Ct++)if(Ct in ie&&ie[Ct]===We)return Ct}catch(In){}}return-1}a(_t,"arrIndexOf");function at(ie,We,Ze){var ut;if(ie){if(ie[H])return ie[H](We,Ze);var bt=ie[R.R5],Ct=Ze||ie;ut=new Array(bt);try{for(var In=0;In<bt;In++)In in ie&&(ut[In]=We[R._S](Ct,ie[In],ie))}catch(Dn){}}return ut}a(at,"arrMap");function Vt(ie,We,Ze){var ut;if(ie){if(ie[$])return ie[$](We,Ze);var bt=ie[R.R5],Ct=0;if(arguments[R.R5]>=3)ut=arguments[2];else{for(;Ct<bt&&!(Ct in ie);)Ct++;ut=ie[Ct++]}for(;Ct<bt;)Ct in ie&&(ut=We(ut,ie[Ct],Ct,ie)),Ct++}return ut}a(Vt,"arrReduce");function qt(ie){return ie&&(ie=m&&ie[O]?ie[O]():ie[R.i7]?ie[R.i7](/^\s+|(?=\s)\s+$/g,p.qS):ie),ie}a(qt,"strTrim");var an=!{toString:null}.propertyIsEnumerable("toString"),Rn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ve(ie){var We=typeof ie;if(We!==T.cb&&(We!==T.fK||ie===null)&&(0,h.ZU)("objKeys called on non-object"),!an&&k)return k(ie);var Ze=[];for(var ut in ie)ie&&T.CY[R._S](ie,ut)&&Ze[R.MW](ut);if(an)for(var bt=Rn[R.R5],Ct=0;Ct<bt;Ct++)ie&&T.CY[R._S](ie,Rn[Ct])&&Ze[R.MW](Rn[Ct]);return Ze}a(Ve,"objKeys");function Et(ie,We,Ze,ut){if(z)try{var bt={enumerable:!0,configurable:!0};return Ze&&(bt.get=Ze),ut&&(bt.set=ut),z(ie,We,bt),!0}catch(Ct){}return!1}a(Et,"objDefineAccessors");function Ut(ie){return ie}a(Ut,"_doNothing");function St(ie){return ae&&le(ie,function(We,Ze){(be(Ze)||Be(Ze))&&ae(Ze)}),Bt(ie)}a(St,"deepFreeze");var Bt=ae||Ut,rt=S||Ut;function Ht(){var ie=Date;return ie.now?ie.now():new ie().getTime()}a(Ht,"dateNow");function Yt(ie){return Qe(ie)?ie[R.I]:p.qS}a(Yt,"getExceptionName");function kt(ie,We,Ze,ut,bt){var Ct=Ze;return ie&&(Ct=ie[We],Ct!==Ze&&(!bt||bt(Ct))&&(!ut||ut(Ze))&&(Ct=Ze,ie[We]=Ct)),Ct}a(kt,"setValue");function Ot(ie,We,Ze){var ut;return ie?(ut=ie[We],!ut&&X(ut)&&(ut=Se(Ze)?{}:Ze,ie[We]=ut)):ut=Se(Ze)?{}:Ze,ut}a(Ot,"getSetValue");function cn(ie,We){return X(ie)?We:ie}a(cn,"getCfgValue");function Sn(ie){return!ie}a(Sn,"isNotTruthy");function hr(ie){return!!ie}a(hr,"isTruthy");function Gn(ie){throw new Error(ie)}a(Gn,"throwError");function Tn(ie,We){var Ze=null,ut=null;return B(ie)?Ze=ie:ut=ie,function(){var bt=arguments;if(Ze&&(ut=Ze()),ut)return ut[We][R.ZV](ut,bt)}}a(Tn,"_createProxyFunction");function Tr(ie,We,Ze){if(ie&&We&&Be(ie)&&Be(We)){var ut=a(function(Ct){if(Oe(Ct)){var In=We[Ct];B(In)?(!Ze||Ze(Ct,!0,We,ie))&&(ie[Ct]=Tn(We,Ct)):(!Ze||Ze(Ct,!1,We,ie))&&(ke(ie,Ct)&&delete ie[Ct],Et(ie,Ct,function(){return We[Ct]},function(Dn){We[Ct]=Dn})||(ie[Ct]=In))}},"_loop_1");for(var bt in We)ut(bt)}return ie}a(Tr,"proxyAssign");function ar(ie,We,Ze,ut,bt){ie&&We&&Ze&&(bt!==!1||Se(ie[We]))&&(ie[We]=Tn(Ze,ut))}a(ar,"proxyFunctionAs");function Or(ie,We,Ze,ut){return ie&&We&&Be(ie)&&be(Ze)&&je(Ze,function(bt){Oe(bt)&&ar(ie,bt,We,bt,ut)}),ie}a(Or,"proxyFunctions");function Er(ie){return function(){function We(){var Ze=this;ie&&le(ie,function(ut,bt){Ze[ut]=bt})}return a(We,"class_1"),We}()}a(Er,"createClassFromInterface");function mr(ie){return ie&&T.rl&&(ie=(0,T.Pw)((0,T.rl)({},ie))),ie}a(mr,"optimizeObject");function Dr(ie,We,Ze,ut,bt,Ct){var In=arguments,Dn=In[0]||{},lt=In[R.R5],vt=!1,Tt=1;for(lt>0&&Z(Dn)&&(vt=Dn,Dn=In[Tt]||{},Tt++),Be(Dn)||(Dn={});Tt<lt;Tt++){var tt=In[Tt],$t=be(tt),Rt=Be(tt);for(var it in tt){var zt=$t&&it in tt||Rt&&T.CY[R._S](tt,it);if(!!zt){var Gt=tt[it],un=void 0;if(vt&&Gt&&((un=be(Gt))||He(Gt))){var sn=Dn[it];un?be(sn)||(sn=[]):He(sn)||(sn={}),Gt=Dr(vt,sn,Gt)}Gt!==void 0&&(Dn[it]=Gt)}}}return Dn}a(Dr,"objExtend")},6041:(Ke,v,E)=>{"use strict";E.d(v,{qS:()=>T,Z:()=>h,oV:()=>R,DN:()=>p,mE:()=>K,Zh:()=>I,js:()=>f,hL:()=>g,yi:()=>H,uC:()=>$,$F:()=>O,f_:()=>W,C$:()=>L,ys:()=>G,cL:()=>z,kl:()=>ae});var T="",h="channels",R="core",p="createPerfMgr",K="disabled",I="extensionConfig",f="extensions",g="processTelemetry",H="priority",$="eventsSent",O="eventsDiscarded",W="eventsSendRequest",L="perfEvent",G="errorToConsole",z="warnToConsole",ae="getPerfMgr"},1880:(Ke,v,E)=>{"use strict";E.d(v,{f:()=>I});var T=E(1679),h=E(8096),R=E(6708),p=E(6041);function K(f,g,H,$){(0,R.tO)(f,function(O){if(O&&O[g])if(H)setTimeout(function(){return $(O)},0);else try{$(O)}catch(W){}})}a(K,"_runListeners");var I=function(){function f(g){this.listeners=[];var H=!!(g||{}).perfEvtsSendAll;(0,T.Z)(f,this,function($){$[h.g]=function(O){$.listeners[h.MW](O)},$[h.n7]=function(O){for(var W=(0,R.UA)($[h.dE],O);W>-1;)$.listeners[h.cb](W,1),W=(0,R.UA)($[h.dE],O)},$[p.uC]=function(O){K($[h.dE],p.uC,!0,function(W){W[p.uC](O)})},$[p.$F]=function(O,W){K($[h.dE],p.$F,!0,function(L){L[p.$F](O,W)})},$[p.f_]=function(O,W){K($[h.dE],p.f_,W,function(L){L[p.f_](O,W)})},$[p.C$]=function(O){O&&(H||!O[h.PL]())&&K($[h.dE],p.C$,!1,function(W){O[h.d]?setTimeout(function(){return W[p.C$](O)},0):W[p.C$](O)})}})}return a(f,"NotificationManager"),f.__ieDyn=1,f}()},9288:(Ke,v,E)=>{"use strict";E.d(v,{zn:()=>H,Jk:()=>$,Lm:()=>W,j5:()=>G});var T=E(1679),h=E(8096),R=E(6708),p=E(6041),K="ctx",I="ParentContextKey",f="ChildrenContextKey",g=null,H=function(){function z(ae,S,k){var P=this,m=!1;if(P.start=(0,R.m6)(),P[h.I]=ae,P[h.d]=k,P[h.PL]=function(){return!1},(0,R.mf)(S)){var C;m=(0,R.l_)(P,"payload",function(){return!C&&(0,R.mf)(S)&&(C=S(),S=null),C})}P[h.T]=function(N){return N?N===z[I]||N===z[f]?P[N]:(P[K]||{})[N]:null},P[h.wu]=function(N,Y){if(N)if(N===z[I])P[N]||(P[h.PL]=function(){return!0}),P[N]=Y;else if(N===z[f])P[N]=Y;else{var J=P[K]=P[K]||{};J[N]=Y}},P[h.Km]=function(){var N=0,Y=P[h.T](z[f]);if((0,R.kJ)(Y))for(var J=0;J<Y[h.R5];J++){var Q=Y[J];Q&&(N+=Q[h.Z_])}P[h.Z_]=(0,R.m6)()-P.start,P.exTime=P[h.Z_]-N,P[h.Km]=function(){},!m&&(0,R.mf)(S)&&(P.payload=S())}}return a(z,"PerfEvent"),z.ParentContextKey="parent",z.ChildrenContextKey="childEvts",z}(),$=function(){function z(ae){this.ctx={},(0,T.Z)(z,this,function(S){S.create=function(k,P,m){return new H(k,P,m)},S.fire=function(k){k&&(k[h.Km](),ae&&(0,R.mf)(ae[p.C$])&&ae[p.C$](k))},S[h.wu]=function(k,P){if(k){var m=S[K]=S[K]||{};m[k]=P}},S[h.T]=function(k){return(S[K]||{})[k]}})}return a(z,"PerfManager"),z.__ieDyn=1,z}(),O="CoreUtils.doPerf";function W(z,ae,S,k,P){if(z){var m=z;if(m[p.kl]&&(m=m[p.kl]()),m){var C=void 0,N=m[h.T](O);try{if(C=m.create(ae(),k,P),C){if(N&&C[h.wu]&&(C[h.wu](H[I],N),N[h.T]&&N[h.wu])){var Y=N[h.T](H[f]);Y||(Y=[],N[h.wu](H[f],Y)),Y[h.MW](C)}return m[h.wu](O,C),S(C)}}catch(J){C&&C[h.wu]&&C[h.wu]("exception",J)}finally{C&&m.fire(C),m[h.wu](O,N)}}}return S()}a(W,"doPerf");function L(z){g=z}a(L,"setGblPerfMgr");function G(){return g}a(G,"getGblPerfMgr")},1589:(Ke,v,E)=>{"use strict";E.d(v,{CD:()=>G,Bt:()=>z,xy:()=>ae,jV:()=>S,Vi:()=>P});var T=E(8096),h=E(5018),R=E(7630),p=E(6708),K=E(6041),I=E(9288),f=E(3833),g="TelemetryPluginChain",H="_hasRun",$="_getTelCtx",O=0;function W(m,C,N){for(;m;){if(m[T.TO]()===N)return m;m=m[T.W2]()}return S([N],C[T.TC]||{},C)}a(W,"_getNextProxyStart");function L(m,C,N,Y){var J=null,Q=[];Y!==null&&(J=Y?W(m,N,Y):m);var ne={_next:q,ctx:{core:function(){return N},diagLog:function(){return(0,h.vH)(N,C)},getCfg:function(){return C},getExtCfg:U,getConfig:se,hasNext:function(){return!!J},getNext:function(){return J},setNext:function(Ae){J=Ae},iterate:De,onComplete:pe}};function pe(Ae,re){for(var M=[],ce=2;ce<arguments.length;ce++)M[ce-2]=arguments[ce];Ae&&Q[T.MW]({func:Ae,self:(0,p.o8)(re)?ne.ctx:re,args:M})}a(pe,"_addOnComplete");function q(){var Ae=J;if(J=Ae?Ae[T.W2]():null,!Ae){var re=Q;re&&re[T.R5]>0&&((0,p.tO)(re,function(M){try{M.func[T._S](M.self,M.args)}catch(ce){(0,h.kP)(N[T.eZ],2,73,"Unexpected Exception during onComplete - "+(0,R.eU)(ce))}}),Q=[])}return Ae}a(q,"_moveNext");function U(Ae,re,M){re===void 0&&(re={}),M===void 0&&(M=0);var ce;if(C){var Se=C[K.Zh];Se&&Ae&&(ce=Se[Ae])}if(!ce)ce=re;else if((0,p.Kn)(re)&&M!==0){var Re=(0,p.mm)(!0,re,ce);C&&M===2&&(0,p.rW)(re,function(X){if((0,p.le)(Re[X])){var Je=C[X];(0,p.le)(Je)||(Re[X]=Je)}}),ce=Re}return ce}a(U,"_getExtCfg");function se(Ae,re,M){M===void 0&&(M=!1);var ce,Se=U(Ae,null);return Se&&!(0,p.le)(Se[re])?ce=Se[re]:C&&!(0,p.le)(C[re])&&(ce=C[re]),(0,p.le)(ce)?M:ce}a(se,"_getConfig");function De(Ae){for(var re;re=ne._next();){var M=re[T.TO]();M&&Ae(M)}}return a(De,"_iterateChain"),ne}a(L,"_createInternalContext");function G(m,C,N,Y){var J=L(m,C,N,Y),Q=J.ctx;function ne(q){var U=J._next();return U&&U[K.hL](q,Q),!U}a(ne,"_processNext");function pe(q,U){return q===void 0&&(q=null),(0,p.kJ)(q)&&(q=S(q,C,N,U)),G(q||Q[T.W2](),C,N,U)}return a(pe,"_createNew"),Q[T.uL]=ne,Q[T.zV]=pe,Q}a(G,"createProcessTelemetryContext");function z(m,C,N){var Y=C[T.TC]||{},J=L(m,Y,C,N),Q=J.ctx;function ne(q){var U=J._next();return U&&U.unload(Q,q),!U}a(ne,"_processNext");function pe(q,U){return q===void 0&&(q=null),(0,p.kJ)(q)&&(q=S(q,Y,C,U)),z(q||Q[T.W2](),C,U)}return a(pe,"_createNew"),Q[T.uL]=ne,Q[T.zV]=pe,Q}a(z,"createProcessTelemetryUnloadContext");function ae(m,C,N){var Y=C[T.TC]||{},J=L(m,Y,C,N),Q=J.ctx;function ne(q){return Q.iterate(function(U){(0,p.mf)(U[T.Tu])&&U[T.Tu](Q,q)})}a(ne,"_processNext");function pe(q,U){return q===void 0&&(q=null),(0,p.kJ)(q)&&(q=S(q,Y,C,U)),ae(q||Q[T.W2](),C,U)}return a(pe,"_createNew"),Q[T.uL]=ne,Q[T.zV]=pe,Q}a(ae,"createProcessTelemetryUpdateContext");function S(m,C,N,Y){var J=null,Q=!Y;if((0,p.kJ)(m)&&m[T.R5]>0){var ne=null;(0,p.tO)(m,function(pe){if(!Q&&Y===pe&&(Q=!0),Q&&pe&&(0,p.mf)(pe[K.hL])){var q=k(pe,C,N);J||(J=q),ne&&ne._setNext(q),ne=q}})}return Y&&!J?S([Y],C,N):J}a(S,"createTelemetryProxyChain");function k(m,C,N){var Y=null,J=(0,p.mf)(m[K.hL]),Q=(0,p.mf)(m[T.Jd]),ne;m?ne=m[T.pZ]+"-"+m[K.yi]+"-"+O++:ne="Unknown-0-"+O++;var pe={getPlugin:function(){return m},getNext:function(){return Y},processTelemetry:se,unload:De,update:Ae,_id:ne,_setNext:function(re){Y=re}};function q(){var re;return m&&(0,p.mf)(m[$])&&(re=m[$]()),re||(re=G(pe,C,N)),re}a(q,"_getTelCtx");function U(re,M,ce,Se,Re){var X=!1,Je=m?m[T.pZ]:g,ke=re[H];return ke||(ke=re[H]={}),re.setNext(Y),m&&(0,I.Lm)(re[K.oV](),function(){return Je+":"+ce},function(){ke[ne]=!0;try{var Be=Y?Y._id:K.qS;Be&&(ke[Be]=!1),X=M(re)}catch(V){var B=Y?ke[Y._id]:!0;B&&(X=!0),(!Y||!B)&&(0,h.kP)(re[T.mc](),1,73,"Plugin ["+Je+"] failed during "+ce+" - "+(0,R.eU)(V)+", run flags: "+(0,R.eU)(ke))}},Se,Re),X}a(U,"_processChain");function se(re,M){M=M||q();function ce(Se){if(!m||!J)return!1;var Re=(0,f.OY)(m);return Re[T.fi]||Re[K.mE]?!1:(Q&&m[T.Jd](Y),m[K.hL](re,Se),!0)}a(ce,"_callProcessTelemetry"),U(M,ce,"processTelemetry",function(){return{item:re}},!re.sync)||M[T.uL](re)}a(se,"_processTelemetry");function De(re,M){function ce(){var Se=!1;if(m){var Re=(0,f.OY)(m),X=m[K.oV]||Re[K.oV];m&&(!X||X===re.core())&&!Re[T.fi]&&(Re[K.oV]=null,Re[T.fi]=!0,Re[T.yl]=!1,m[T.fi]&&m[T.fi](re,M)===!0&&(Se=!0))}return Se}a(ce,"_callTeardown"),U(re,ce,"unload",function(){},M[T.d])||re[T.uL](M)}a(De,"_unloadPlugin");function Ae(re,M){function ce(){var Se=!1;if(m){var Re=(0,f.OY)(m),X=m[K.oV]||Re[K.oV];m&&(!X||X===re.core())&&!Re[T.fi]&&m[T.Tu]&&m[T.Tu](re,M)===!0&&(Se=!0)}return Se}a(ce,"_callUpdate"),U(re,ce,"update",function(){},!1)||re[T.uL](M)}return a(Ae,"_updatePlugin"),(0,p.FL)(pe)}a(k,"createTelemetryPluginProxy");var P=function(){function m(C,N,Y,J){var Q=this,ne=G(C,N,Y,J);(0,p.Vb)(Q,ne,(0,p.FY)(ne))}return a(m,"ProcessTelemetryContext"),m}()},4878:(Ke,v,E)=>{"use strict";E.d(v,{az:()=>W,_l:()=>L,CN:()=>G,F6:()=>z,pZ:()=>ae});var T=E(8096),h=E(7630),R=E(6708),p=E(6041),K=4294967296,I=4294967295,f=!1,g=123456789,H=987654321;function $(S){S<0&&(S>>>=0),g=123456789+S&I,H=987654321-S&I,f=!0}a($,"_mwcSeed");function O(){try{var S=(0,R.m6)()&2147483647;$((Math.random()*K^S)+S)}catch(k){}}a(O,"_autoSeedMwc");function W(S){return S>0?Math.floor(L()/I*(S+1))>>>0:0}a(W,"randomValue");function L(S){var k=0,P=(0,h.MX)()||(0,h.gz)();return P&&P.getRandomValues&&(k=P.getRandomValues(new Uint32Array(1))[0]&I),k===0&&(0,h.w1)()&&(f||O(),k=z()&I),k===0&&(k=Math.floor(K*Math.random()|0)),S||(k>>>=0),k}a(L,"random32");function G(S){S?$(S):O()}a(G,"mwcRandomSeed");function z(S){H=36969*(H&65535)+(H>>16)&I,g=18e3*(g&65535)+(g>>16)&I;var k=(H<<16)+(g&65535)>>>0&I|0;return S||(k>>>=0),k}a(z,"mwcRandom32");function ae(S){S===void 0&&(S=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=L()>>>0,m=0,C=p.qS;C[T.R5]<S;)m++,C+=k.charAt(P&63),P>>>=6,m===5&&(P=(L()<<2&4294967295|P&3)>>>0,m=0);return C}a(ae,"newId")},3833:(Ke,v,E)=>{"use strict";E.d(v,{OY:()=>f,bP:()=>g,AA:()=>H,Yn:()=>O});var T=E(8096),h=E(5883),R=E(6708),p=E(6041),K=E(4206),I=(0,h.K)("plugin");function f(W){return I.get(W,"state",{},!0)}a(f,"_getPluginState");function g(W,L){for(var G=[],z=null,ae=W[T.W2](),S;ae;){var k=ae[T.TO]();if(k){z&&(0,R.mf)(z[T.Jd])&&(0,R.mf)(k[p.hL])&&z[T.Jd](k);var P=!1;(0,R.mf)(k[T.yl])?P=k[T.yl]():(S=f(k),P=S[T.yl]),P||G[T.MW](k),z=k,ae=ae[T.W2]()}}(0,R.tO)(G,function(m){var C=W[p.oV]();m[T.VL](W.getCfg(),C,L,W[T.W2]()),S=f(m),!m[p.oV]&&!S[p.oV]&&(S[p.oV]=C),S[T.yl]=!0,delete S[T.fi]})}a(g,"initializePlugins");function H(W){return W.sort(function(L,G){var z=0;if(G){var ae=(0,R.mf)(G[p.hL]);(0,R.mf)(L[p.hL])?z=ae?L[p.yi]-G[p.yi]:1:ae&&(z=-1)}else z=L?1:-1;return z})}a(H,"sortPlugins");function $(W,L,G,z){var ae=0;function S(){for(;ae<W[_DYN_LENGTH];){var k=W[ae++];if(k){var P=k._doUnload||k[_DYN__DO_TEARDOWN];if(isFunction(P)&&P[_DYN_CALL](k,L,G,S)===!0)return!0}}}return a(S,"_doUnload"),S()}a($,"unloadComponents");function O(W){var L={};return{getName:function(){return L[T.I]},setName:function(G){W&&W.setName(G),L[T.I]=G},getTraceId:function(){return L[T.nY]},setTraceId:function(G){W&&W.setTraceId(G),(0,K.jN)(G)&&(L[T.nY]=G)},getSpanId:function(){return L[T._d]},setSpanId:function(G){W&&W.setSpanId(G),(0,K.Lc)(G)&&(L[T._d]=G)},getTraceFlags:function(){return L[T.T0]},setTraceFlags:function(G){W&&W.setTraceFlags(G),L[T.T0]=G}}}a(O,"createDistributedTraceContext")},310:(Ke,v,E)=>{"use strict";E.d(v,{Y:()=>K});var T=E(8096),h=E(5018),R=E(7630),p=E(6708);function K(){var I=[];function f(H){H&&I[T.MW](H)}a(f,"_addHandler");function g(H,$){(0,p.tO)(I,function(O){try{O(H,$)}catch(W){(0,h.kP)(H[T.mc](),2,73,"Unexpected error calling unload handler - "+(0,R.eU)(W))}}),I=[]}return a(g,"_runHandlers"),{add:f,run:g}}a(K,"createUnloadHandlerContainer")},4206:(Ke,v,E)=>{"use strict";E.d(v,{SU:()=>G,j_:()=>z,jN:()=>ae,Lc:()=>S,J6:()=>k,Pn:()=>P,aR:()=>m,lq:()=>C});var T=E(8096),h=E(5843),R=E(7630),p=E(6708),K=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,I="00",f="ff",g="00000000000000000000000000000000",H="0000000000000000",$=1;function O(N,Y,J){return N&&N[T.R5]===Y&&N!==J?!!N.match(/^[\da-f]*$/):!1}a(O,"_isValid");function W(N,Y,J){return O(N,Y)?N:J}a(W,"_formatValue");function L(N){(isNaN(N)||N<0||N>255)&&(N=1);for(var Y=N.toString(16);Y[T.R5]<2;)Y="0"+Y;return Y}a(L,"_formatFlags");function G(N,Y,J,Q){var ne;return ne={},ne[T.PA]=O(Q,2,f)?Q:I,ne[T.nY]=ae(N)?N:(0,h.DO)(),ne.spanId=S(Y)?Y:(0,h.DO)()[T.Jn](0,16),ne.traceFlags=J>=0&&J<=255?J:1,ne}a(G,"createTraceParent");function z(N){var Y;if(!N||((0,p.kJ)(N)&&(N=N[0]||""),!N||!(0,p.HD)(N)||N[T.R5]>8192))return null;var J=K.exec((0,p.nd)(N));return!J||J[1]===f||J[2]===g||J[3]===H?null:(Y={},Y[T.PA]=J[1],Y[T.nY]=J[2],Y[T._d]=J[3],Y[T.T0]=parseInt(J[4],16),Y)}a(z,"parseTraceParent");function ae(N){return O(N,32,g)}a(ae,"isValidTraceId");function S(N){return O(N,16,H)}a(S,"isValidSpanId");function k(N){return!(!N||!O(N[T.PA],2,f)||!O(N[T.nY],32,g)||!O(N[T._d],16,H)||!O(L(N[T.T0]),2))}a(k,"isValidTraceParent");function P(N){return k(N)?(N[T.T0]&$)===$:!1}a(P,"isSampledFlag");function m(N){if(N){var Y=L(N[T.T0]);O(Y,2)||(Y="01");var J=N[T.PA]||I;return J!=="00"&&J!=="ff"&&(J=I),"".concat(J,"-").concat(W(N.traceId,32,g),"-").concat(W(N.spanId,16,H),"-").concat(Y)}return""}a(m,"formatTraceParent");function C(){var N="traceparent",Y=z((0,R.ed)(N));return Y||(Y=z((0,R.pI)(N))),Y}a(C,"findW3cTraceParent")},8096:(Ke,v,E)=>{"use strict";E.d(v,{VL:()=>T,I:()=>h,tb:()=>R,pZ:()=>p,MW:()=>K,yl:()=>I,TC:()=>f,p$:()=>g,eZ:()=>H,R5:()=>$,Z_:()=>O,uL:()=>W,SD:()=>L,g:()=>G,n7:()=>z,LS:()=>ae,Fc:()=>S,TO:()=>k,kL:()=>P,iC:()=>m,cb:()=>C,fi:()=>N,Gc:()=>Y,gU:()=>J,d:()=>Q,F3:()=>ne,Tu:()=>pe,W2:()=>q,mc:()=>U,Jd:()=>se,zV:()=>De,Lk:()=>Ae,ou:()=>re,zc:()=>M,qV:()=>ce,w6:()=>Se,$h:()=>Re,Jn:()=>X,xv:()=>Je,ZV:()=>ke,i7:()=>Be,Fr:()=>B,jk:()=>V,T1:()=>ee,_S:()=>le,P6:()=>Me,Kn:()=>Ye,dE:()=>ve,PL:()=>we,T:()=>ye,wu:()=>ge,Km:()=>be,nY:()=>oe,_d:()=>Qe,T0:()=>Oe,PA:()=>A});var T="initialize",h="name",R="getNotifyMgr",p="identifier",K="push",I="isInitialized",f="config",g="instrumentationKey",H="logger",$="length",O="time",W="processNext",L="getProcessTelContext",G="addNotificationListener",z="removeNotificationListener",ae="stopPollingInternalLogs",S="onComplete",k="getPlugin",P="flush",m="_extensions",C="splice",N="teardown",Y="messageId",J="message",Q="isAsync",ne="_doTeardown",pe="update",q="getNext",U="diagLog",se="setNextPlugin",De="createNew",Ae="cookieCfg",re="indexOf",M="substring",ce="userAgent",Se="split",Re="setEnabled",X="substr",Je="nodeType",ke="apply",Be="replace",B="enableDebugExceptions",V="logInternalMessage",ee="toLowerCase",le="call",Me="type",Ye="handler",ve="listeners",we="isChildEvt",ye="getCtx",ge="setCtx",be="complete",oe="traceId",Qe="spanId",Oe="traceFlags",A="version"},4392:(Ke,v,E)=>{"use strict";E.d(v,{cb:()=>T,fK:()=>h,jA:()=>R,hB:()=>p,bO:()=>K,Pw:()=>f,V4:()=>g,rl:()=>H,yu:()=>$,RJ:()=>O,CY:()=>W});var T="function",h="object",R="undefined",p="prototype",K="hasOwnProperty",I="default",f=Object,g=f[p],H=f.assign,$=f.create,O=f.defineProperty,W=g[K]},2091:(Ke,v,E)=>{"use strict";E.d(v,{Rd:()=>R,ZU:()=>p,pu:()=>K});var T=E(4392),h=null;function R(I){I===void 0&&(I=!0);var f=I===!1?null:h;return f||(typeof globalThis!==T.jA&&(f=globalThis),!f&&typeof self!==T.jA&&(f=self),!f&&typeof window!==T.jA&&(f=window),!f&&typeof E.g!==T.jA&&(f=E.g),h=f),f}a(R,"getGlobal");function p(I){throw new TypeError(I)}a(p,"throwTypeError");function K(I){var f=T.yu;if(f)return f(I);if(I==null)return{};var g=typeof I;g!==T.fK&&g!==T.cb&&p("Object prototype may only be an Object:"+I);function H(){}return a(H,"tmpFunc"),H[T.hB]=I,new H}a(K,"objCreateFn")},1088:(Ke,v,E)=>{"use strict";E.d(v,{uc:()=>W,ne:()=>G,$h:()=>J});var T=E(4392),h=E(2091),R=((0,h.Rd)()||{}).Symbol,p=((0,h.Rd)()||{}).Reflect,K=!!R,I=!!p,f="decorate",g="metadata",H="getOwnPropertySymbols",$="iterator",O=a(function(q){for(var U,se=1,De=arguments.length;se<De;se++){U=arguments[se];for(var Ae in U)T.V4[T.bO].call(U,Ae)&&(q[Ae]=U[Ae])}return q},"__objAssignFnImpl"),W=T.rl||O,L=a(function(q,U){return L=T.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,De){se.__proto__=De}||function(se,De){for(var Ae in De)De[T.bO](Ae)&&(se[Ae]=De[Ae])},L(q,U)},"extendStaticsFn");function G(q,U){typeof U!==T.cb&&U!==null&&(0,h.ZU)("Class extends value "+String(U)+" is not a constructor or null"),L(q,U);function se(){this.constructor=q}a(se,"__"),q[T.hB]=U===null?(0,h.pu)(U):(se[T.hB]=U[T.hB],new se)}a(G,"__extendsFn");function z(q,U){var se={};for(var De in q)ObjHasOwnProperty.call(q,De)&&U.indexOf(De)<0&&(se[De]=q[De]);if(q!=null&&typeof ObjClass[H]===strShimFunction)for(var Ae=0,re=ObjClass[H](q);Ae<re.length;Ae++)U.indexOf(re[Ae])<0&&ObjProto.propertyIsEnumerable.call(q,re[Ae])&&(se[re[Ae]]=q[re[Ae]]);return se}a(z,"__restFn");function ae(q,U,se,De){var Ae=arguments.length,re=Ae<3?U:De===null?De=ObjClass.getOwnPropertyDescriptor(U,se):De,M;if(I&&typeof p[f]===strShimFunction)re=p[f](q,U,se,De);else for(var ce=q.length-1;ce>=0;ce--)(M=q[ce])&&(re=(Ae<3?M(re):Ae>3?M(U,se,re):M(U,se))||re);return Ae>3&&re&&ObjDefineProperty(U,se,re),re}a(ae,"__decorateFn");function S(q,U){return function(se,De){U(se,De,q)}}a(S,"__paramFn");function k(q,U){if(I&&p[g]===strShimFunction)return p[g](q,U)}a(k,"__metadataFn");function P(q,U){for(var se in q)se!==strDefault&&!ObjHasOwnProperty.call(U,se)&&m(U,q,se)}a(P,"__exportStarFn");function m(q,U,se,De){De===void 0&&(De=se),ObjCreate?ObjDefineProperty(q,De,{enumerable:!0,get:function(){return U[se]}}):q[De]=U[se]}a(m,"__createBindingFn");function C(q){var U=typeof R===strShimFunction&&R[$],se=U&&q[U],De=0;if(se)return se.call(q);if(q&&typeof q.length=="number")return{next:function(){return q&&De>=q.length&&(q=void 0),{value:q&&q[De++],done:!q}}};throwTypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}a(C,"__valuesFn");function N(q,U){var se=typeof R===strShimFunction&&q[R[$]];if(!se)return q;var De=se.call(q),Ae,re=[],M;try{for(;(U===void 0||U-- >0)&&!(Ae=De.next()).done;)re.push(Ae.value)}catch(ce){M={error:ce}}finally{try{Ae&&!Ae.done&&(se=De.return)&&se.call(De)}finally{if(M)throw M.error}}return re}a(N,"__readFn");function Y(){for(var q=arguments,U=0,se=0,De=q.length;se<De;se++)U+=q[se].length;for(var Ae=Array(U),re=0,se=0;se<De;se++)for(var M=q[se],ce=0,Se=M.length;ce<Se;ce++,re++)Ae[re]=M[ce];return Ae}a(Y,"__spreadArraysFn");function J(q,U){for(var se=0,De=U.length,Ae=q.length;se<De;se++,Ae++)q[Ae]=U[se];return q}a(J,"__spreadArrayFn");function Q(q,U){return ObjDefineProperty?ObjDefineProperty(q,"raw",{value:U}):q.raw=U,q}a(Q,"__makeTemplateObjectFn");function ne(q){if(q&&q.__esModule)return q;var U={};if(q!=null)for(var se in q)se!==strDefault&&Object.prototype.hasOwnProperty.call(q,se)&&m(U,q,se);return ObjCreate?ObjDefineProperty(U,strDefault,{enumerable:!0,value:q}):U[strDefault]=q,U}a(ne,"__importStarFn");function pe(q){return q&&q.__esModule?q:{strDefault:q}}a(pe,"__importDefaultFn")},5783:(Ke,v,E)=>{"use strict";E.r(v),E.d(v,{AppInsightsCore:()=>da.F,ApplicationInsights:()=>Pa,CoreUtils:()=>zt.Tr,Sender:()=>ji,SeverityLevel:()=>Ia,_InternalMessageId:()=>Ra.v,arrForEach:()=>A.tO,isNullOrUndefined:()=>A.le,proxyFunctions:()=>A.Vb,throwError:()=>A._y});var T=E(1679),h=E(1088),R="AppInsightsPropertiesPlugin",p="AppInsightsChannelPlugin",K="ApplicationInsightsAnalytics",I="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",f="sampleRate",g="ProcessLegacy",H="http.method",$="https://dc.services.visualstudio.com",O="/v2/track",W="not_specified",L="iKey",G="split",z="length",ae="toLowerCase",S="ingestionendpoint",k="toString",P="removeItem",m="name",C="message",N="count",Y="preTriggerDate",J="disabled",Q="date",ne="getUTCDate",pe="maxTimesPerMonth",q="stringify",U="pathname",se="correlationHeaderExcludePatterns",De="indexOf",Ae="extensionConfig",re="exceptions",M="parsedStack",ce="properties",Se="measurements",Re="sizeInBytes",X="typeName",Je="severityLevel",ke="problemGroup",Be="isManual",B="CreateFromInterface",V="hasFullStack",ee="level",le="method",Me="assembly",Ye="fileName",ve="line",we="duration",ye="receivedResponse",ge="substring",be="sanitizeKeyAndAddUniqueness",oe="sanitizeException",Qe="sanitizeProperties",Oe="sanitizeMeasurements",A=E(6708),Z=E(5018),fe=E(7630),He;function Ge(w,d,D){var F=d[z],de=dt(w,d);if(de[z]!==F){for(var Ee=0,Ne=de;D[Ne]!==void 0;)Ee++,Ne=de[ge](0,150-3)+Et(Ee);de=Ne}return de}a(Ge,"dataSanitizeKeyAndAddUniqueness");function dt(w,d){var D;return d&&(d=(0,A.nd)(d[k]()),d[z]>150&&(D=d[ge](0,150),(0,Z.kP)(w,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:d},!0))),D||d}a(dt,"dataSanitizeKey");function je(w,d,D){D===void 0&&(D=1024);var F;return d&&(D=D||1024,d=(0,A.nd)(d),d.toString()[z]>D&&(F=d[k]()[ge](0,D),(0,Z.kP)(w,2,61,"string value is too long. It has been truncated to "+D+" characters.",{value:d},!0))),F||d}a(je,"dataSanitizeString");function _t(w,d){return Ve(w,d,2048,66)}a(_t,"dataSanitizeUrl");function at(w,d){var D;return d&&d[z]>32768&&(D=d[ge](0,32768),(0,Z.kP)(w,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:d},!0)),D||d}a(at,"dataSanitizeMessage");function Vt(w,d){var D;if(d){var F=""+d;F[z]>32768&&(D=F[ge](0,32768),(0,Z.kP)(w,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:d},!0))}return D||d}a(Vt,"dataSanitizeException");function qt(w,d){if(d){var D={};(0,A.rW)(d,function(F,de){if((0,A.Kn)(de)&&(0,fe.nS)())try{de=(0,fe.xA)()[q](de)}catch(Ee){(0,Z.kP)(w,2,49,"custom property is not valid",{exception:Ee},!0)}de=je(w,de,8192),F=Ge(w,F,D),D[F]=de}),d=D}return d}a(qt,"dataSanitizeProperties");function an(w,d){if(d){var D={};(0,A.rW)(d,function(F,de){F=Ge(w,F,D),D[F]=de}),d=D}return d}a(an,"dataSanitizeMeasurements");function Rn(w,d){return d&&Ve(w,d,128,69)[k]()}a(Rn,"dataSanitizeId");function Ve(w,d,D,F){var de;return d&&(d=(0,A.nd)(d),d[z]>D&&(de=d[ge](0,D),(0,Z.kP)(w,2,F,"input is too long, it has been truncated to "+D+" characters.",{data:d},!0))),de||d}a(Ve,"dataSanitizeInput");function Et(w){var d="00"+w;return d.substr(d[z]-3)}a(Et,"dsPadNumber");var Ut=(He={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},He[be]=Ge,He.sanitizeKey=dt,He.sanitizeString=je,He.sanitizeUrl=_t,He.sanitizeMessage=at,He[oe]=Vt,He[Qe]=qt,He[Oe]=an,He.sanitizeId=Rn,He.sanitizeInput=Ve,He.padNumber=Et,He.trim=A.nd,He),St=function(){function w(d,D,F,de){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Ee=this;Ee.ver=2,Ee[m]=je(d,D)||W,Ee[ce]=qt(d,F),Ee[Se]=an(d,de)}return a(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),Bt=function(){function w(d,D,F,de,Ee){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ne=this;Ne.ver=2,D=D||W,Ne[C]=at(d,D),Ne[ce]=qt(d,de),Ne[Se]=an(d,Ee),F&&(Ne[Je]=F)}return a(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),rt="";function Ht(w,d){return d===void 0&&(d=!1),w==null?d:w.toString()[ae]()==="true"}a(Ht,"stringToBoolOrDefault");function Yt(w){(isNaN(w)||w<0)&&(w=0),w=Math.round(w);var d=rt+w%1e3,D=rt+Math.floor(w/1e3)%60,F=rt+Math.floor(w/(1e3*60))%60,de=rt+Math.floor(w/(1e3*60*60))%24,Ee=Math.floor(w/(1e3*60*60*24));return d=d[z]===1?"00"+d:d[z]===2?"0"+d:d,D=D[z]<2?"0"+D:D,F=F[z]<2?"0"+F:F,de=de[z]<2?"0"+de:de,(Ee>0?Ee+".":rt)+de+":"+F+":"+D+"."+d}a(Yt,"msToTimeSpan");function kt(w,d){var D=null;return(0,A.tO)(w,function(F){if(F.identifier===d)return D=F,-1}),D}a(kt,"getExtensionByName");function Ot(w,d,D,F,de){return!de&&(0,A.HD)(w)&&(w==="Script error."||w==="Script error")}a(Ot,"isCrossOriginError");var cn=function(){function w(d,D,F,de,Ee,Ne,xe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var st=this;st.ver=2,st.id=Rn(d,xe),st.url=_t(d,F),st[m]=je(d,D)||W,isNaN(de)||(st[we]=Yt(de)),st[ce]=qt(d,Ee),st[Se]=an(d,Ne)}return a(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),Sn=function(){function w(d,D,F,de,Ee,Ne,xe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var st=this;st.ver=2,st.url=_t(d,F),st[m]=je(d,D)||W,st[ce]=qt(d,Ee),st[Se]=an(d,Ne),xe&&(st.domProcessing=xe.domProcessing,st[we]=xe[we],st.networkConnect=xe.networkConnect,st.perfTotal=xe.perfTotal,st[ye]=xe[ye],st.sentRequest=xe.sentRequest)}return a(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),hr="<no_method>",Gn="error",Tn="stack",Tr="stackDetails",ar="errorSrc",Or="message",Er="description";function mr(w,d){var D=w;return D&&!(0,A.HD)(D)&&(JSON&&JSON[q]?(D=JSON[q](w),d&&(!D||D==="{}")&&((0,A.mf)(w[k])?D=w[k]():D=""+w)):D=""+w+" - (Missing JSON.stringify)"),D||""}a(mr,"_stringify");function Dr(w,d){var D=w;return w&&(D&&!(0,A.HD)(D)&&(D=w[Or]||w[Er]||D),D&&!(0,A.HD)(D)&&(D=mr(D,!0)),w.filename&&(D=D+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),d&&d!=="String"&&d!=="Object"&&d!=="Error"&&(D||"")[De](d)===-1&&(D=d+": "+D),D||""}a(Dr,"_formatMessage");function ie(w){try{if((0,A.Kn)(w))return"hasFullStack"in w&&"typeName"in w}catch(d){}return!1}a(ie,"_isExceptionDetailsInternal");function We(w){try{if((0,A.Kn)(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch(d){}return!1}a(We,"_isExceptionInternal");function Ze(w){return w&&w.src&&(0,A.HD)(w.src)&&w.obj&&(0,A.kJ)(w.obj)}a(Ze,"_isStackDetails");function ut(w){var d=w||"";(0,A.HD)(d)||((0,A.HD)(d[Tn])?d=d[Tn]:d=""+d);var D=d[G](`
`);return{src:d,obj:D}}a(ut,"_convertStackObj");function bt(w){for(var d=[],D=w[G](`
`),F=0;F<D[z];F++){var de=D[F];D[F+1]&&(de+="@"+D[F+1],F++),d.push(de)}return{src:w,obj:d}}a(bt,"_getOperaStack");function Ct(w){var d=null;if(w)try{if(w[Tn])d=ut(w[Tn]);else if(w[Gn]&&w[Gn][Tn])d=ut(w[Gn][Tn]);else if(w.exception&&w.exception[Tn])d=ut(w.exception[Tn]);else if(Ze(w))d=w;else if(Ze(w[Tr]))d=w[Tr];else if(window&&window.opera&&w[Or])d=bt(w[C]);else if(w.reason&&w.reason[Tn])d=ut(w.reason[Tn]);else if((0,A.HD)(w))d=ut(w);else{var D=w[Or]||w[Er]||"";(0,A.HD)(w[ar])&&(D&&(D+=`
`),D+=" from "+w[ar]),D&&(d=ut(D))}}catch(F){d=ut(F)}return d||{src:"",obj:null}}a(Ct,"_getStackFromErrorObj");function In(w){var d="";return w&&(w.obj?(0,A.tO)(w.obj,function(D){d+=D+`
`}):d=w.src||""),d}a(In,"_formatStackTrace");function Dn(w){var d,D=w.obj;if(D&&D[z]>0){d=[];var F=0,de=0;(0,A.tO)(D,function(tn){var nn=tn[k]();if($t.regex.test(nn)){var Le=new $t(nn,F++);de+=Le[Re],d.push(Le)}});var Ee=32*1024;if(de>Ee)for(var Ne=0,xe=d[z]-1,st=0,ot=Ne,gt=xe;Ne<xe;){var Ft=d[Ne][Re],Jt=d[xe][Re];if(st+=Ft+Jt,st>Ee){var Mt=gt-ot+1;d.splice(ot,Mt);break}ot=Ne,gt=xe,Ne++,xe--}}return d}a(Dn,"_parseStack");function lt(w){var d="";if(w&&(d=w.typeName||w[m]||"",!d))try{var D=/function (.{1,200})\(/,F=D.exec(w.constructor[k]());d=F&&F[z]>1?F[1]:""}catch(de){}return d}a(lt,"_getErrorType");function vt(w){if(w)try{if(!(0,A.HD)(w)){var d=lt(w),D=mr(w,!1);return(!D||D==="{}")&&(w[Gn]&&(w=w[Gn],d=lt(w)),D=mr(w,!0)),D[De](d)!==0&&d!=="String"?d+":"+D:D}}catch(F){}return""+(w||"")}a(vt,"_formatErrorCode");var Tt=function(){function w(d,D,F,de,Ee,Ne){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var xe=this;xe.ver=2,We(D)?(xe[re]=D[re]||[],xe[ce]=D[ce],xe[Se]=D[Se],D[Je]&&(xe[Je]=D[Je]),D.id&&(xe.id=D.id),D[ke]&&(xe[ke]=D[ke]),(0,A.le)(D[Be])||(xe[Be]=D[Be])):(F||(F={}),xe[re]=[new tt(d,D,F)],xe[ce]=qt(d,F),xe[Se]=an(d,de),Ee&&(xe[Je]=Ee),Ne&&(xe.id=Ne))}return a(w,"Exception"),w.CreateAutoException=function(d,D,F,de,Ee,Ne,xe,st){var ot,gt=lt(Ee||Ne||d);return ot={},ot[C]=Dr(d,gt),ot.url=D,ot.lineNumber=F,ot.columnNumber=de,ot.error=vt(Ee||Ne||d),ot.evt=vt(Ne||d),ot[X]=gt,ot.stackDetails=Ct(xe||Ee||Ne),ot.errorSrc=st,ot},w.CreateFromInterface=function(d,D,F,de){var Ee=D[re]&&(0,A.Mr)(D[re],function(xe){return tt[B](d,xe)}),Ne=new w(d,(0,h.uc)((0,h.uc)({},D),{exceptions:Ee}),F,de);return Ne},w.prototype.toInterface=function(){var d,D=this,F=D.exceptions,de=D.properties,Ee=D.measurements,Ne=D.severityLevel,xe=D.problemGroup,st=D.id,ot=D.isManual,gt=F instanceof Array&&(0,A.Mr)(F,function(Ft){return Ft.toInterface()})||void 0;return d={ver:"4.0"},d[re]=gt,d.severityLevel=Ne,d.properties=de,d.measurements=Ee,d.problemGroup=xe,d.id=st,d.isManual=ot,d},w.CreateSimpleException=function(d,D,F,de,Ee,Ne){var xe;return{exceptions:[(xe={},xe[V]=!0,xe.message=d,xe.stack=Ee,xe.typeName=D,xe)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=vt,w}(),tt=function(){function w(d,D,F){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var de=this;if(ie(D))de[X]=D[X],de[C]=D[C],de[Tn]=D[Tn],de[M]=D[M]||[],de[V]=D[V];else{var Ee=D,Ne=Ee&&Ee.evt;(0,A.VZ)(Ee)||(Ee=Ee[Gn]||Ne||Ee),de[X]=je(d,lt(Ee))||W,de[C]=at(d,Dr(D||Ee,de[X]))||W;var xe=D[Tr]||Ct(D);de[M]=Dn(xe),de[Tn]=Vt(d,In(xe)),de.hasFullStack=(0,A.kJ)(de.parsedStack)&&de.parsedStack[z]>0,F&&(F[X]=F[X]||de[X])}}return a(w,"_ExceptionDetails"),w.prototype.toInterface=function(){var d,D=this,F=D[M]instanceof Array&&(0,A.Mr)(D[M],function(Ee){return Ee.toInterface()}),de=(d={id:D.id,outerId:D.outerId,typeName:D[X],message:D[C],hasFullStack:D[V],stack:D[Tn]},d[M]=F||void 0,d);return de},w.CreateFromInterface=function(d,D){var F=D[M]instanceof Array&&(0,A.Mr)(D[M],function(Ee){return $t[B](Ee)})||D[M],de=new w(d,(0,h.uc)((0,h.uc)({},D),{parsedStack:F}));return de},w}(),$t=function(){function w(d,D){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var F=this;if(F[Re]=0,typeof d=="string"){var de=d;F[ee]=D,F[le]=hr,F[Me]=(0,A.nd)(de),F[Ye]="",F[ve]=0;var Ee=de.match(w.regex);Ee&&Ee[z]>=5&&(F[le]=(0,A.nd)(Ee[2])||F[le],F[Ye]=(0,A.nd)(Ee[4]),F[ve]=parseInt(Ee[5])||0)}else F[ee]=d[ee],F[le]=d[le],F[Me]=d[Me],F[Ye]=d[Ye],F[ve]=d[ve],F[Re]=0;F.sizeInBytes+=F.method[z],F.sizeInBytes+=F.fileName[z],F.sizeInBytes+=F.assembly[z],F[Re]+=w.baseSize,F.sizeInBytes+=F.level.toString()[z],F.sizeInBytes+=F.line.toString()[z]}return a(w,"_StackFrame"),w.CreateFromInterface=function(d){return new w(d,null)},w.prototype.toInterface=function(){var d=this;return{level:d[ee],method:d[le],assembly:d[Me],fileName:d[Ye],line:d[ve]}},w.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,w.baseSize=58,w}(),Rt=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(w,"DataPoint"),w}(),it=function(){function w(d,D,F,de,Ee,Ne,xe,st,ot){this.aiDataContract={ver:1,metrics:1,properties:0};var gt=this;gt.ver=2;var Ft=new Rt;Ft[N]=de>0?de:void 0,Ft.max=isNaN(Ne)||Ne===null?void 0:Ne,Ft.min=isNaN(Ee)||Ee===null?void 0:Ee,Ft[m]=je(d,D)||W,Ft.value=F,Ft.stdDev=isNaN(xe)||xe===null?void 0:xe,gt.metrics=[Ft],gt[ce]=qt(d,st),gt[Se]=an(d,ot)}return a(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),zt=E(5843),Gt=E(3242),un=E(4878),sn=E(4869);function Un(w){var d=null;if((0,A.mf)(Event))d=new Event(w);else{var D=(0,fe.Me)();D&&D.createEvent&&(d=D.createEvent("Event"),d.initEvent(w,!0,!0))}return d}a(Un,"createDomEvent");var gn=E(4873),wn=(0,gn.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),en=E(2091),yt=(0,gn.By)({LocalStorage:0,SessionStorage:1}),Kt=(0,gn.By)({AI:0,AI_AND_W3C:1,W3C:2}),Wt=void 0,fn=void 0;function Pt(){return mn()?Qt(yt.LocalStorage):null}a(Pt,"_getLocalStorageObject");function Qt(w){try{if((0,A.le)((0,en.Rd)()))return null;var d=new Date()[k](),D=(0,fe.a8)(w===yt.LocalStorage?"localStorage":"sessionStorage");D.setItem(d,d);var F=D.getItem(d)!==d;if(D[P](d),!F)return D}catch(de){}return null}a(Qt,"_getVerifiedStorageObject");function ln(){return $e()?Qt(yt.SessionStorage):null}a(ln,"_getSessionStorageObject");function _n(){Wt=!1,fn=!1}a(_n,"utlDisableStorage");function jt(){Wt=mn(!0),fn=$e(!0)}a(jt,"utlEnableStorage");function mn(w){return(w||Wt===void 0)&&(Wt=!!Qt(yt.LocalStorage)),Wt}a(mn,"utlCanUseLocalStorage");function Mn(w,d){var D=Pt();if(D!==null)try{return D.getItem(d)}catch(F){Wt=!1,(0,Z.kP)(w,2,1,"Browser failed read of local storage. "+(0,A.jj)(F),{exception:(0,fe.eU)(F)})}return null}a(Mn,"utlGetLocalStorage");function yn(w,d,D){var F=Pt();if(F!==null)try{return F.setItem(d,D),!0}catch(de){Wt=!1,(0,Z.kP)(w,2,3,"Browser failed write to local storage. "+(0,A.jj)(de),{exception:(0,fe.eU)(de)})}return!1}a(yn,"utlSetLocalStorage");function kn(w,d){var D=Pt();if(D!==null)try{return D[P](d),!0}catch(F){Wt=!1,(0,Z.kP)(w,2,5,"Browser failed removal of local storage item. "+(0,A.jj)(F),{exception:(0,fe.eU)(F)})}return!1}a(kn,"utlRemoveStorage");function $e(w){return(w||fn===void 0)&&(fn=!!Qt(yt.SessionStorage)),fn}a($e,"utlCanUseSessionStorage");function Pn(){var w=[];return $e()&&(0,A.rW)((0,fe.a8)("sessionStorage"),function(d){w.push(d)}),w}a(Pn,"utlGetSessionStorageKeys");function Nt(w,d){var D=ln();if(D!==null)try{return D.getItem(d)}catch(F){fn=!1,(0,Z.kP)(w,2,2,"Browser failed read of session storage. "+(0,A.jj)(F),{exception:(0,fe.eU)(F)})}return null}a(Nt,"utlGetSessionStorage");function mt(w,d,D){var F=ln();if(F!==null)try{return F.setItem(d,D),!0}catch(de){fn=!1,(0,Z.kP)(w,2,4,"Browser failed write to session storage. "+(0,A.jj)(de),{exception:(0,fe.eU)(de)})}return!1}a(mt,"utlSetSessionStorage");function On(w,d){var D=ln();if(D!==null)try{return D[P](d),!0}catch(F){fn=!1,(0,Z.kP)(w,2,6,"Browser failed removal of session storage item. "+(0,A.jj)(F),{exception:(0,fe.eU)(F)})}return!1}a(On,"utlRemoveSessionStorage");var vr=(0,fe.Me)()||{},Bn=0,Jn=[null,null,null,null,null];function $n(w){var d=Bn,D=Jn,F=D[d];return vr.createElement?D[d]||(F=D[d]=vr.createElement("a")):F={host:Nr(w,!0)},F.href=w,d++,d>=D[z]&&(d=0),Bn=d,F}a($n,"urlParseUrl");function br(w){var d,D=$n(w);return D&&(d=D.href),d}a(br,"urlGetAbsoluteUrl");function Qn(w){var d,D=$n(w);return D&&(d=D[U]),d}a(Qn,"urlGetPathName");function xn(w,d){return w?w.toUpperCase()+" "+d:d}a(xn,"urlGetCompleteUrl");function Nr(w,d){var D=sr(w,d)||"";if(D){var F=D.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(F!=null&&F[z]>3&&(0,A.HD)(F[2])&&F[2][z]>0)return F[2]+(F[3]||"")}return D}a(Nr,"urlParseHost");function sr(w,d){var D=null;if(w){var F=w.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(F!=null&&F[z]>2&&(0,A.HD)(F[2])&&F[2][z]>0&&(D=F[2]||"",d&&F[z]>2)){var de=(F[1]||"")[ae](),Ee=F[3]||"";(de==="http"&&Ee===":80"||de==="https"&&Ee===":443")&&(Ee=""),D+=Ee}}return D}a(sr,"urlParseFullHost");var or=[$+O,"https://breeze.aimon.applicationinsights.io"+O,"https://dc-int.services.visualstudio.com"+O];function gr(w){return(0,A.UA)(or,w[ae]())!==-1}a(gr,"isInternalApplicationInsightsEndpoint");var ur={NotSpecified:W,createDomEvent:Un,disableStorage:_n,isInternalApplicationInsightsEndpoint:gr,canUseLocalStorage:mn,getStorage:Mn,setStorage:yn,removeStorage:kn,canUseSessionStorage:$e,getSessionStorageKeys:Pn,getSessionStorage:Nt,setSessionStorage:mt,removeSessionStorage:On,disableCookies:zt.oF,canUseCookies:zt.vn,disallowsSameSiteNone:Gt.UY,setCookie:zt.d8,stringToBoolOrDefault:Ht,getCookie:zt.ej,deleteCookie:zt.kT,trim:A.nd,newId:un.pZ,random32:function(){return(0,un._l)(!0)},generateW3CId:zt.DO,isArray:A.kJ,isError:A.VZ,isDate:A.J_,toISOStringForIE8:A.Y6,getIEVersion:fe.sA,msToTimeSpan:Yt,isCrossOriginError:Ot,dump:fe.eU,getExceptionName:A.jj,addEventHandler:sn.pZ,IsBeaconApiSupported:fe.MF,getExtension:kt},Kr={parseUrl:$n,getAbsoluteUrl:br,getPathName:Qn,getCompleteUrl:xn,parseHost:Nr,parseFullHost:sr},lr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(w,d,D){if(!d||w&&w.disableCorrelationHeaders)return!1;if(w&&w[se]){for(var F=0;F<w.correlationHeaderExcludePatterns[z];F++)if(w[se][F].test(d))return!1}var de=$n(d).host[ae]();if(de&&(de[De](":443")!==-1||de[De](":80")!==-1)&&(de=(sr(d,!0)||"")[ae]()),(!w||!w.enableCorsCorrelation)&&de&&de!==D)return!1;var Ee=w&&w.correlationHeaderDomains;if(Ee){var Ne;if((0,A.tO)(Ee,function(ot){var gt=new RegExp(ot.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ne=Ne||gt.test(de)}),!Ne)return!1}var xe=w&&w.correlationHeaderExcludedDomains;if(!xe||xe[z]===0)return!0;for(var F=0;F<xe[z];F++){var st=new RegExp(xe[F].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(st.test(de))return!1}return de&&de[z]>0},getCorrelationContext:function(w){if(w){var d=lr.getCorrelationContextValue(w,wn[1]);if(d&&d!==lr.correlationIdPrefix)return d}},getCorrelationContextValue:function(w,d){if(w)for(var D=w[G](","),F=0;F<D[z];++F){var de=D[F][G]("=");if(de[z]===2&&de[0]===d)return de[1]}}};function cr(w,d,D,F){var de,Ee=F,Ne=F;if(d&&d[z]>0){var xe=$n(d);if(de=xe.host,!Ee)if(xe[U]!=null){var st=xe.pathname[z]===0?"/":xe[U];st.charAt(0)!=="/"&&(st="/"+st),Ne=xe[U],Ee=je(w,D?D+" "+st:st)}else Ee=je(w,d)}else de=F,Ee=F;return{target:de,name:Ee,data:Ne}}a(cr,"AjaxHelperParseDependencyPath");function Ur(){var w=(0,fe.r)();if(w&&w.now&&w.timing){var d=w.now()+w.timing.navigationStart;if(d>0)return d}return(0,A.m6)()}a(Ur,"dateTimeUtilsNow");function Sr(w,d){var D=null;return w!==0&&d!==0&&!(0,A.le)(w)&&!(0,A.le)(d)&&(D=d-w),D}a(Sr,"dateTimeUtilsDuration");var kr={Now:Ur,GetDuration:Sr};function Lr(w,d){var D=w||{};return{getName:function(){return D[_DYN_NAME]},setName:function(F){d&&d.setName(F),D[_DYN_NAME]=F},getTraceId:function(){return D.traceID},setTraceId:function(F){d&&d.setTraceId(F),isValidTraceId(F)&&(D.traceID=F)},getSpanId:function(){return D.parentID},setSpanId:function(F){d&&d.setSpanId(F),isValidSpanId(F)&&(D.parentID=F)},getTraceFlags:function(){return D.traceFlags},setTraceFlags:function(F){d&&d.setTraceFlags(F),D.traceFlags=F}}}a(Lr,"createDistributedTraceContextFromTrace");var pr=function(){function w(d,D,F,de,Ee,Ne,xe,st,ot,gt,Ft,Jt){ot===void 0&&(ot="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Mt=this;Mt.ver=2,Mt.id=D,Mt[we]=Yt(Ee),Mt.success=Ne,Mt.resultCode=xe+"",Mt.type=je(d,ot);var tn=cr(d,F,st,de);Mt.data=_t(d,de)||tn.data,Mt.target=je(d,tn.target),gt&&(Mt.target="".concat(Mt.target," | ").concat(gt)),Mt[m]=je(d,tn[m]),Mt[ce]=qt(d,Ft),Mt[Se]=an(d,Jt)}return a(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),Fr=E(5883),_r=E(4063);function Cn(w){var d="ai."+w+".";return function(D){return d+D}}a(Cn,"_aiNameFunc");var Nn=Cn("application"),pn=Cn("device"),me=Cn("location"),_=Cn("operation"),x=Cn("session"),ue=Cn("user"),Fe=Cn("cloud"),ft=Cn("internal"),Xe=function(w){(0,h.ne)(d,w);function d(){return w.call(this)||this}return a(d,"ContextTagKeys"),d}((0,A.hl)({applicationVersion:Nn("ver"),applicationBuild:Nn("build"),applicationTypeId:Nn("typeId"),applicationId:Nn("applicationId"),applicationLayer:Nn("layer"),deviceId:pn("id"),deviceIp:pn("ip"),deviceLanguage:pn("language"),deviceLocale:pn("locale"),deviceModel:pn("model"),deviceFriendlyName:pn("friendlyName"),deviceNetwork:pn("network"),deviceNetworkName:pn("networkName"),deviceOEMName:pn("oemName"),deviceOS:pn("os"),deviceOSVersion:pn("osVersion"),deviceRoleInstance:pn("roleInstance"),deviceRoleName:pn("roleName"),deviceScreenResolution:pn("screenResolution"),deviceType:pn("type"),deviceMachineName:pn("machineName"),deviceVMName:pn("vmName"),deviceBrowser:pn("browser"),deviceBrowserVersion:pn("browserVersion"),locationIp:me("ip"),locationCountry:me("country"),locationProvince:me("province"),locationCity:me("city"),operationId:_("id"),operationName:_("name"),operationParentId:_("parentId"),operationRootId:_("rootId"),operationSyntheticSource:_("syntheticSource"),operationCorrelationVector:_("correlationVector"),sessionId:x("id"),sessionIsFirst:x("isFirst"),sessionIsNew:x("isNew"),userAccountAcquisitionDate:ue("accountAcquisitionDate"),userAccountId:ue("accountId"),userAgent:ue("userAgent"),userId:ue("id"),userStoreRegion:ue("storeRegion"),userAuthUserId:ue("authUserId"),userAnonymousUserAcquisitionDate:ue("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ue("authUserAcquisitionDate"),cloudName:Fe("name"),cloudRole:Fe("role"),cloudRoleVer:Fe("roleVer"),cloudRoleInstance:Fe("roleInstance"),cloudEnvironment:Fe("environment"),cloudLocation:Fe("location"),cloudDeploymentUnit:Fe("deploymentUnit"),internalNodeName:ft("nodeName"),internalSdkVersion:ft("sdkVersion"),internalAgentVersion:ft("agentVersion"),internalSnippet:ft("snippet"),internalSdkSrc:ft("sdkSrc")})),he={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ce=new Xe,Pe=function(){function w(d,D,F){var de=this,Ee=this;Ee.ver=1,Ee.sampleRate=100,Ee.tags={},Ee[m]=je(d,F)||W,Ee.data=D,Ee.time=(0,A.Y6)(new Date),Ee.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return de.sampleRate===100?4:1},tags:1,data:1}}return a(w,"Envelope"),w}(),ze=function(){function w(d,D){this.aiDataContract={baseType:1,baseData:1},this.baseType=d,this.baseData=D}return a(w,"Data"),w}(),qe="duration",nt="tags",Dt="deviceType",wt="data",Lt="name",zn="traceID",It="length",Xn="stringify",Kn="measurements",Hn="dataType",fr="envelopeType",qr="toString",Si="onLine",fi="enqueue",ei="count",ti="push",wi="emitLineDelimitedJson",ir="clear",di="batchPayloads",ni="markAsSent",Br="clearSent",Mr="BUFFER_KEY",Ar="SENT_BUFFER_KEY",Ci="MAX_BUFFER_SIZE",ri="namePrefix",hi="maxBatchSizeInBytes",$r="triggerSend",Zn="diagLog",vi="onunloadDisableBeacon",Li="isBeaconApiDisabled",gi="_sender",on="_senderConfig",jr="_buffer",Fi="enableSessionStorageBuffer",Rr="samplingPercentage",Ti="instrumentationKey",Hr="endpointUrl",ta="customHeaders",Yr="disableXhr",Mi="onunloadDisableFetch",xi="disableTelemetry",ii="baseType",ai="sampleRate",na="convertUndefined",Sa="_xhrReadyStateChange",Ir="_onError",ra="_onPartialSuccess",Di="_onSuccess",xr="itemsAccepted",Ui="itemsReceived",si="isRetryDisabled",ia="setRequestHeader",aa="maxBatchInterval",wa="eventsSendRequest",oi="disableInstrumentationKeyValidation",sa="getSamplingScore",oa="getHashCodeScore",ki="baseType",Ln="baseData",bn="properties",wr="true";function jn(w,d,D){return(0,A.sO)(w,d,D,A.fQ)}a(jn,"_setValueIf");function Wa(w,d,D){var F=D[nt]=D[nt]||{},de=d.ext=d.ext||{},Ee=d[nt]=d[nt]||[],Ne=de.user;Ne&&(jn(F,Ce.userAuthUserId,Ne.authId),jn(F,Ce.userId,Ne.id||Ne.localId));var xe=de.app;xe&&jn(F,Ce.sessionId,xe.sesId);var st=de.device;st&&(jn(F,Ce.deviceId,st.id||st.localId),jn(F,Ce[Dt],st.deviceClass),jn(F,Ce.deviceIp,st.ip),jn(F,Ce.deviceModel,st.model),jn(F,Ce[Dt],st[Dt]));var ot=d.ext.web;if(ot){jn(F,Ce.deviceLanguage,ot.browserLang),jn(F,Ce.deviceBrowserVersion,ot.browserVer),jn(F,Ce.deviceBrowser,ot.browser);var gt=D[wt]=D[wt]||{},Ft=gt[Ln]=gt[Ln]||{},Jt=Ft[bn]=Ft[bn]||{};jn(Jt,"domain",ot.domain),jn(Jt,"isManual",ot.isManual?wr:null),jn(Jt,"screenRes",ot.screenRes),jn(Jt,"userConsent",ot.userConsent?wr:null)}var Mt=de.os;Mt&&jn(F,Ce.deviceOS,Mt[Lt]);var tn=de.trace;tn&&(jn(F,Ce.operationParentId,tn.parentID),jn(F,Ce.operationName,je(w,tn[Lt])),jn(F,Ce.operationId,tn[zn]));for(var nn={},Le=Ee[It]-1;Le>=0;Le--){var Wn=Ee[Le];(0,A.rW)(Wn,function(Xr,pi){nn[Xr]=pi}),Ee.splice(Le,1)}(0,A.rW)(Ee,function(Xr,pi){nn[Xr]=pi});var Cr=(0,h.uc)((0,h.uc)({},F),nn);Cr[Ce.internalSdkVersion]||(Cr[Ce.internalSdkVersion]="javascript:".concat(Ca.Version)),D[nt]=(0,A.Ax)(Cr)}a(Wa,"_extractPartAExtensions");function Gr(w,d,D){(0,A.le)(w)||(0,A.rW)(w,function(F,de){(0,A.hj)(de)?D[F]=de:(0,A.HD)(de)?d[F]=de:(0,fe.nS)()&&(d[F]=(0,fe.xA)()[Xn](de))})}a(Gr,"_extractPropsAndMeasurements");function Wr(w,d){(0,A.le)(w)||(0,A.rW)(w,function(D,F){w[D]=F||d})}a(Wr,"_convertPropsUndefinedToCustomDefinedValue");function Vr(w,d,D,F){var de=new Pe(w,F,d);jn(de,"sampleRate",D[f]),(D[Ln]||{}).startTime&&(de.time=(0,A.Y6)(D[Ln].startTime)),de.iKey=D.iKey;var Ee=D.iKey.replace(/-/g,"");return de[Lt]=de[Lt].replace("{0}",Ee),Wa(w,D,de),D[nt]=D[nt]||[],(0,A.Ax)(de)}a(Vr,"_createEnvelope");function Jr(w,d){(0,A.le)(d[Ln])&&(0,Z.kP)(w,1,46,"telemetryItem.baseData cannot be null.")}a(Jr,"EnvelopeCreatorInit");var Ca={Version:"2.8.9"};function Qr(w,d,D){Jr(w,d);var F=d[Ln][Kn]||{},de=d[Ln][bn]||{};Gr(d[wt],de,F),(0,A.le)(D)||Wr(de,D);var Ee=d[Ln];if((0,A.le)(Ee))return(0,Z.jV)(w,"Invalid input for dependency data"),null;var Ne=Ee[bn]&&Ee[bn][H]?Ee[bn][H]:"GET",xe=new pr(w,Ee.id,Ee.target,Ee[Lt],Ee[qe],Ee.success,Ee.responseCode,Ne,Ee.type,Ee.correlationContext,de,F),st=new ze(pr[Hn],xe);return Vr(w,pr[fr],d,st)}a(Qr,"DependencyEnvelopeCreator");function ui(w,d,D){Jr(w,d);var F={},de={};d[ki]!==St[Hn]&&(F.baseTypeSource=d[ki]),d[ki]===St[Hn]?(F=d[Ln][bn]||{},de=d[Ln][Kn]||{}):d[Ln]&&Gr(d[Ln],F,de),Gr(d[wt],F,de),(0,A.le)(D)||Wr(F,D);var Ee=d[Ln][Lt],Ne=new St(w,Ee,F,de),xe=new ze(St[Hn],Ne);return Vr(w,St[fr],d,xe)}a(ui,"EventEnvelopeCreator");function Bi(w,d,D){Jr(w,d);var F=d[Ln][Kn]||{},de=d[Ln][bn]||{};Gr(d[wt],de,F),(0,A.le)(D)||Wr(de,D);var Ee=d[Ln],Ne=Tt.CreateFromInterface(w,Ee,de,F),xe=new ze(Tt[Hn],Ne);return Vr(w,Tt[fr],d,xe)}a(Bi,"ExceptionEnvelopeCreator");function $i(w,d,D){Jr(w,d);var F=d[Ln],de=F[bn]||{},Ee=F[Kn]||{};Gr(d[wt],de,Ee),(0,A.le)(D)||Wr(de,D);var Ne=new it(w,F[Lt],F.average,F.sampleCount,F.min,F.max,F.stdDev,de,Ee),xe=new ze(it[Hn],Ne);return Vr(w,it[fr],d,xe)}a($i,"MetricEnvelopeCreator");function Ta(w,d,D){Jr(w,d);var F,de=d[Ln];!(0,A.le)(de)&&!(0,A.le)(de[bn])&&!(0,A.le)(de[bn][qe])?(F=de[bn][qe],delete de[bn][qe]):!(0,A.le)(d[wt])&&!(0,A.le)(d[wt][qe])&&(F=d[wt][qe],delete d[wt][qe]);var Ee=d[Ln],Ne;((d.ext||{}).trace||{})[zn]&&(Ne=d.ext.trace[zn]);var xe=Ee.id||Ne,st=Ee[Lt],ot=Ee.uri,gt=Ee[bn]||{},Ft=Ee[Kn]||{};if((0,A.le)(Ee.refUri)||(gt.refUri=Ee.refUri),(0,A.le)(Ee.pageType)||(gt.pageType=Ee.pageType),(0,A.le)(Ee.isLoggedIn)||(gt.isLoggedIn=Ee.isLoggedIn[qr]()),!(0,A.le)(Ee[bn])){var Jt=Ee[bn];(0,A.rW)(Jt,function(nn,Le){gt[nn]=Le})}Gr(d[wt],gt,Ft),(0,A.le)(D)||Wr(gt,D);var Mt=new cn(w,st,ot,F,gt,Ft,xe),tn=new ze(cn[Hn],Mt);return Vr(w,cn[fr],d,tn)}a(Ta,"PageViewEnvelopeCreator");function bi(w,d,D){Jr(w,d);var F=d[Ln],de=F[Lt],Ee=F.uri||F.url,Ne=F[bn]||{},xe=F[Kn]||{};Gr(d[wt],Ne,xe),(0,A.le)(D)||Wr(Ne,D);var st=new Sn(w,de,Ee,void 0,Ne,xe,F),ot=new ze(Sn[Hn],st);return Vr(w,Sn[fr],d,ot)}a(bi,"PageViewPerformanceEnvelopeCreator");function ua(w,d,D){Jr(w,d);var F=d[Ln].message,de=d[Ln].severityLevel,Ee=d[Ln][bn]||{},Ne=d[Ln][Kn]||{};Gr(d[wt],Ee,Ne),(0,A.le)(D)||Wr(Ee,D);var xe=new Bt(w,F,de,Ee,Ne),st=new ze(Bt[Hn],xe);return Vr(w,Bt[fr],d,st)}a(ua,"TraceEnvelopeCreator");function qn(w,d){(0,sn.QY)(w,null,null,d)}a(qn,"_disableEvents");function la(w){var d=(0,fe.Me)(),D=(0,fe.jW)(),F=!1,de=!0,Ee=(0,sn.jU)((0,Fr.J)("OfflineListener"),w);try{if(xe((0,fe.Jj)())&&(F=!0),d){var Ne=d.body||d;Ne.ononline&&xe(Ne)&&(F=!0)}F&&D&&!(0,A.le)(D[Si])&&(de=D[Si])}catch(Jt){F=!1}function xe(Jt){var Mt=!1;return Jt&&(Mt=(0,sn.XO)(Jt,"online",st,Ee),Mt&&(0,sn.XO)(Jt,"offline",ot,Ee)),Mt}a(xe,"_enableEvents");function st(){de=!0}a(st,"_setOnline");function ot(){de=!1}a(ot,"_setOffline");function gt(){var Jt=!0;return F?Jt=de:D&&!(0,A.le)(D[Si])&&(Jt=D[Si]),Jt}a(gt,"_isOnline");function Ft(){var Jt=(0,fe.Jj)();if(Jt&&F){if(qn(Jt,Ee),d){var Mt=d.body||d;(0,A.o8)(Mt.ononline)||qn(Mt,Ee)}F=!1}}return a(Ft,"_unload"),{isOnline:gt,isListening:function(){return F},unload:Ft}}a(la,"createOfflineListener");var Hi=function(){function w(d,D){var F=[],de=!1;this._get=function(){return F},this._set=function(Ee){return F=Ee,F},(0,T.Z)(w,this,function(Ee){Ee[fi]=function(Ne){if(Ee[ei]()>=D.eventsLimitInMem()){de||((0,Z.kP)(d,2,105,"Maximum in-memory buffer size reached: "+Ee[ei](),!0),de=!0);return}F[ti](Ne)},Ee[ei]=function(){return F[It]},Ee.size=function(){for(var Ne=F[It],xe=0;xe<F[It];xe++)Ne+=F[xe][It];return D[wi]()||(Ne+=2),Ne},Ee[ir]=function(){F=[],de=!1},Ee.getItems=function(){return F.slice(0)},Ee[di]=function(Ne){if(Ne&&Ne[It]>0){var xe=D[wi]()?Ne.join(`
`):"["+Ne.join(",")+"]";return xe}return null}})}return a(w,"BaseSendBuffer"),w.__ieDyn=1,w}(),Da=function(w){(0,h.ne)(d,w);function d(D,F){var de=w.call(this,D,F)||this;return(0,T.Z)(d,de,function(Ee,Ne){Ee[ni]=function(xe){Ne[ir]()},Ee[Br]=function(xe){}}),de}return a(d,"ArraySendBuffer"),d.__ieDyn=1,d}(Hi),ba=function(w){(0,h.ne)(d,w);function d(D,F){var de=w.call(this,D,F)||this,Ee=!1;return(0,T.Z)(d,de,function(Ne,xe){var st=Jt(d[Mr]),ot=Jt(d[Ar]),gt=Ne._set(st.concat(ot));gt[It]>d[Ci]&&(gt[It]=d[Ci]),Mt(d[Ar],[]),Mt(d[Mr],gt),Ne[fi]=function(tn){if(Ne[ei]()>=d[Ci]){Ee||((0,Z.kP)(D,2,67,"Maximum buffer size reached: "+Ne[ei](),!0),Ee=!0);return}xe[fi](tn),Mt(d[Mr],Ne._get())},Ne[ir]=function(){xe[ir](),Mt(d[Mr],Ne._get()),Mt(d[Ar],[]),Ee=!1},Ne[ni]=function(tn){Mt(d[Mr],Ne._set(Ft(tn,Ne._get())));var nn=Jt(d[Ar]);nn instanceof Array&&tn instanceof Array&&(nn=nn.concat(tn),nn[It]>d[Ci]&&((0,Z.kP)(D,1,67,"Sent buffer reached its maximum size: "+nn[It],!0),nn[It]=d[Ci]),Mt(d[Ar],nn))},Ne[Br]=function(tn){var nn=Jt(d[Ar]);nn=Ft(tn,nn),Mt(d[Ar],nn)};function Ft(tn,nn){var Le=[];return(0,A.tO)(nn,function(Wn){!(0,A.mf)(Wn)&&(0,A.UA)(tn,Wn)===-1&&Le[ti](Wn)}),Le}a(Ft,"_removePayloadsFromBuffer");function Jt(tn){var nn=tn;try{nn=F[ri]&&F[ri]()?F[ri]()+"_"+nn:nn;var Le=Nt(D,nn);if(Le){var Wn=(0,fe.xA)().parse(Le);if((0,A.HD)(Wn)&&(Wn=(0,fe.xA)().parse(Wn)),Wn&&(0,A.kJ)(Wn))return Wn}}catch(Cr){(0,Z.kP)(D,1,42," storage key: "+nn+", "+(0,A.jj)(Cr),{exception:(0,fe.eU)(Cr)})}return[]}a(Jt,"_getBuffer");function Mt(tn,nn){var Le=tn;try{Le=F[ri]&&F[ri]()?F[ri]()+"_"+Le:Le;var Wn=JSON[Xn](nn);mt(D,Le,Wn)}catch(Cr){mt(D,Le,JSON[Xn]([])),(0,Z.kP)(D,2,41," storage key: "+Le+", "+(0,A.jj)(Cr)+". Buffer cleared",{exception:(0,fe.eU)(Cr)})}}a(Mt,"_setBuffer")}),de}return a(d,"SessionStorageSendBuffer"),d.BUFFER_KEY="AI_buffer",d.SENT_BUFFER_KEY="AI_sentBuffer",d.MAX_BUFFER_SIZE=2e3,d}(Hi),Aa=function(){function w(d){(0,T.Z)(w,this,function(D){D.serialize=function(Ne){var xe=F(Ne,"root");try{return(0,fe.xA)()[Xn](xe)}catch(st){(0,Z.kP)(d,1,48,st&&(0,A.mf)(st[qr])?st[qr]():"Error serializing object",null,!0)}};function F(Ne,xe){var st="__aiCircularRefCheck",ot={};if(!Ne)return(0,Z.kP)(d,1,48,"cannot serialize object because it is null or undefined",{name:xe},!0),ot;if(Ne[st])return(0,Z.kP)(d,2,50,"Circular reference detected while serializing object",{name:xe},!0),ot;if(!Ne.aiDataContract){if(xe==="measurements")ot=Ee(Ne,"number",xe);else if(xe==="properties")ot=Ee(Ne,"string",xe);else if(xe==="tags")ot=Ee(Ne,"string",xe);else if((0,A.kJ)(Ne))ot=de(Ne,xe);else{(0,Z.kP)(d,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:xe},!0);try{(0,fe.xA)()[Xn](Ne),ot=Ne}catch(gt){(0,Z.kP)(d,1,48,gt&&(0,A.mf)(gt[qr])?gt[qr]():"Error serializing object",null,!0)}}return ot}return Ne[st]=!0,(0,A.rW)(Ne.aiDataContract,function(gt,Ft){var Jt=(0,A.mf)(Ft)?Ft()&1:Ft&1,Mt=(0,A.mf)(Ft)?Ft()&4:Ft&4,tn=Ft&2,nn=Ne[gt]!==void 0,Le=(0,A.Kn)(Ne[gt])&&Ne[gt]!==null;if(Jt&&!nn&&!tn)(0,Z.kP)(d,1,24,"Missing required field specification. The field is required but not present on source",{field:gt,name:xe});else if(!Mt){var Wn=void 0;Le?tn?Wn=de(Ne[gt],gt):Wn=F(Ne[gt],gt):Wn=Ne[gt],Wn!==void 0&&(ot[gt]=Wn)}}),delete Ne[st],ot}a(F,"_serializeObject");function de(Ne,xe){var st;if(Ne)if(!(0,A.kJ)(Ne))(0,Z.kP)(d,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:xe},!0);else{st=[];for(var ot=0;ot<Ne[It];ot++){var gt=Ne[ot],Ft=F(gt,xe+"["+ot+"]");st[ti](Ft)}}return st}a(de,"_serializeArray");function Ee(Ne,xe,st){var ot;return Ne&&(ot={},(0,A.rW)(Ne,function(gt,Ft){if(xe==="string")Ft===void 0?ot[gt]="undefined":Ft===null?ot[gt]="null":Ft[qr]?ot[gt]=Ft[qr]():ot[gt]="invalid field: toString() is not defined.";else if(xe==="number")if(Ft===void 0)ot[gt]="undefined";else if(Ft===null)ot[gt]="null";else{var Jt=parseFloat(Ft);isNaN(Jt)?ot[gt]="NaN":ot[gt]=Jt}else ot[gt]="invalid field: "+st+" is of unknown type.",(0,Z.kP)(d,1,ot[gt],null,!0)})),ot}a(Ee,"_serializeStringMap")})}return a(w,"Serializer"),w.__ieDyn=1,w}(),Wi=8,za=function(){function w(){}return a(w,"HashCodeScoreGenerator"),w.prototype.getHashCodeScore=function(d){var D=this.getHashCode(d)/w.INT_MAX_VALUE;return D*100},w.prototype.getHashCode=function(d){if(d==="")return 0;for(;d[It]<Wi;)d=d.concat(d);for(var D=5381,F=0;F<d[It];++F)D=(D<<5)+D+d.charCodeAt(F),D=D&D;return Math.abs(D)},w.INT_MAX_VALUE=2147483647,w}(),Ai=function(){function w(){var d=this,D=new za,F=new Xe;d[sa]=function(de){var Ee=0;return de[nt]&&de[nt][F.userId]?Ee=D.getHashCodeScore(de[nt][F.userId]):de.ext&&de.ext.user&&de.ext.user.id?Ee=D[oa](de.ext.user.id):de[nt]&&de[nt][F.operationId]?Ee=D.getHashCodeScore(de[nt][F.operationId]):de.ext&&de.ext.telemetryTrace&&de.ext.telemetryTrace[zn]?Ee=D.getHashCodeScore(de.ext.telemetryTrace[zn]):Ee=Math.random()*100,Ee}}return a(w,"SamplingScoreGenerator"),w}(),ca=function(){function w(d,D){this.INT_MAX_VALUE=2147483647;var F=D||(0,Z.vH)(null);(d>100||d<0)&&(F.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:d},!0),d=100),this[ai]=d,this.samplingScoreGenerator=new Ai}return a(w,"Sample"),w.prototype.isSampledIn=function(d){var D=this[ai],F=!1;return D==null||D>=100||d.baseType===it[Hn]?!0:(F=this.samplingScoreGenerator[sa](d)<D,F)},w}(),yr,Ri=65e3;function zi(w){try{return w.responseText}catch(d){}return null}a(zi,"_getResponseText");function Ki(){var w,d,D;return w={endpointUrl:function(){return $+O}},w[wi]=function(){return!1},w[aa]=function(){return 15e3},w[hi]=function(){return 102400},w[xi]=function(){return!1},w[Fi]=function(){return!0},w[si]=function(){return!1},w[Li]=function(){return!0},w[Yr]=function(){return!1},w[Mi]=function(){return!1},w[vi]=function(){return!1},w[Ti]=function(){return d},w[ri]=function(){return d},w[Rr]=function(){return 100},w[ta]=function(){return D},w[na]=function(){return d},w.eventsLimitInMem=function(){return 1e4},w}a(Ki,"_getDefaultAppInsightsChannelConfig");var fa=(yr={},yr[St.dataType]=ui,yr[Bt.dataType]=ua,yr[cn.dataType]=Ta,yr[Sn.dataType]=bi,yr[Tt.dataType]=Bi,yr[it.dataType]=$i,yr[pr.dataType]=Qr,yr),ji=function(w){(0,h.ne)(d,w);function d(){var D=w.call(this)||this;D.priority=1001,D.identifier=p,D._senderConfig=Ki();var F,de,Ee,Ne,xe,st,ot,gt,Ft=0,Jt,Mt,tn,nn;return(0,T.Z)(d,D,function(Le,Wn){Xi(),Le.pause=function(){Ji(),Ne=!0},Le.resume=function(){Ne&&(Ne=!1,de=null,Le._buffer.size()>Le._senderConfig[hi]()&&Le[$r](!0,null,10),Vi())},Le.flush=function(Ie,et,ht){if(Ie===void 0&&(Ie=!0),!Ne){Ji();try{Le[$r](Ie,null,ht||1)}catch(At){(0,Z.kP)(Le[Zn](),1,22,"flush failed, telemetry will not be collected: "+(0,A.jj)(At),{exception:(0,fe.eU)(At)})}}},Le.onunloadFlush=function(){if(!Ne)if((Le._senderConfig[vi]()===!1||Le[on][Li]()===!1)&&(0,fe.MF)())try{Le[$r](!0,Oa,2)}catch(Ie){(0,Z.kP)(Le[Zn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,A.jj)(Ie),{exception:(0,fe.eU)(Ie)})}else Le.flush()},Le.addHeader=function(Ie,et){gt[Ie]=et},Le.initialize=function(Ie,et,ht,At){Le.isInitialized()&&(0,Z.kP)(Le[Zn](),1,28,"Sender is already initialized"),Wn.initialize(Ie,et,ht,At);var rn=Le._getTelCtx(),dn=Le.identifier;st=new Aa(et.logger),F=0,de=null,Ee=0,Le[gi]=null,ot=0;var vn=Le[Zn]();nn=(0,sn.jU)((0,Fr.J)("Sender"),et.evtNamespace&&et.evtNamespace()),tn=la(nn);var er=Ki();(0,A.rW)(er,function(dr,Pr){Le[on][dr]=function(){var Vn=rn.getConfig(dn,dr,Pr());return!Vn&&dr==="endpointUrl"&&(Vn=Pr()),Vn}}),Le._buffer=Le[on][Fi]()&&$e()?new ba(vn,Le[on]):new Da(vn,Le[on]),Le._sample=new ca(Le[on][Rr](),vn),Oi(Ie)||(0,Z.kP)(vn,1,100,"Invalid Instrumentation key "+Ie[Ti]),!gr(Le._senderConfig.endpointUrl())&&Le._senderConfig.customHeaders()&&Le._senderConfig.customHeaders()[It]>0&&(0,A.tO)(Le[on][ta](),function(dr){D.addHeader(dr.header,dr.value)});var tr=Le[on],nr=null;!tr[Yr]()&&(0,fe.cp)()?nr=pa:!tr[Yr]()&&(0,fe.Z3)()&&(nr=li),!nr&&(0,fe.JO)()&&(nr=La),Jt=nr||li,!tr[Li]()&&(0,fe.MF)()&&(nr=mi),Le[gi]=nr||li,!tr[Mi]()&&(0,fe.JO)(!0)?Mt=Na:(0,fe.MF)()?Mt=mi:!tr[Yr]()&&(0,fe.cp)()?Mt=pa:!tr[Yr]()&&(0,fe.Z3)()?Mt=li:Mt=Jt},Le.processTelemetry=function(Ie,et){et=Le._getTelCtx(et);var ht=et[Zn]();try{if(Le[on][xi]())return;if(!Ie){(0,Z.kP)(ht,1,7,"Cannot send empty telemetry");return}if(Ie.baseData&&!Ie[ii]){(0,Z.kP)(ht,1,70,"Cannot send telemetry without baseData and baseType");return}if(Ie[ii]||(Ie[ii]="EventData"),!Le[gi]){(0,Z.kP)(ht,1,28,"Sender was not initialized");return}if(Cr(Ie))Ie[f]=Le._sample[ai];else{(0,Z.kP)(ht,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Le._sample[ai]});return}var At=Le[on][na]()||void 0,rn=Ie.iKey||Le[on][Ti](),dn=d.constructEnvelope(Ie,rn,ht,At);if(!dn){(0,Z.kP)(ht,1,47,"Unable to create an AppInsights envelope");return}var vn=!1;if(Ie[nt]&&Ie[nt][g]&&((0,A.tO)(Ie[nt][g],function(dr){try{dr&&dr(dn)===!1&&(vn=!0,(0,Z.jV)(ht,"Telemetry processor check returns false"))}catch(Pr){(0,Z.kP)(ht,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,A.jj)(Pr),{exception:(0,fe.eU)(Pr)},!0)}}),delete Ie[nt][g]),vn)return;var er=st.serialize(dn),tr=Le[jr],nr=tr.size();nr+er[It]>Le[on][hi]()&&Le[$r](!0,null,10),tr[fi](er),Vi()}catch(dr){(0,Z.kP)(ht,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,A.jj)(dr),{exception:(0,fe.eU)(dr)})}Le.processNext(Ie,et)},Le[Sa]=function(Ie,et,ht){Ie.readyState===4&&Xr(Ie.status,et,Ie.responseURL,ht,Qi(Ie),zi(Ie)||Ie.response)},Le[$r]=function(Ie,et,ht){if(Ie===void 0&&(Ie=!0),!Ne)try{var At=Le[jr];if(Le[on][xi]())At[ir]();else{if(At[ei]()>0){var rn=At.getItems();ma(ht||0,Ie),et?et.call(D,rn,Ie):Le[gi](rn,Ie)}Ee=+new Date}Ji()}catch(vn){var dn=(0,fe.sA)();(!dn||dn>9)&&(0,Z.kP)(Le[Zn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,A.jj)(vn),{exception:(0,fe.eU)(vn)})}},Le._doTeardown=function(Ie,et){Le.onunloadFlush(),tn.unload(),Xi()},Le[Ir]=function(Ie,et,ht){(0,Z.kP)(Le[Zn](),2,26,"Failed to send telemetry.",{message:et}),Le._buffer[Br](Ie)},Le[ra]=function(Ie,et){for(var ht=[],At=[],rn=et.errors.reverse(),dn=0,vn=rn;dn<vn.length;dn++){var er=vn[dn],tr=Ie.splice(er.index,1)[0];Pi(er.statusCode)?At[ti](tr):ht[ti](tr)}Ie[It]>0&&Le[Di](Ie,et[xr]),ht[It]>0&&Le[Ir](ht,Qi(null,["partial success",et[xr],"of",et.itemsReceived].join(" "))),At[It]>0&&(_i(At),(0,Z.kP)(Le[Zn](),2,40,"Partial success. Delivered: "+Ie[It]+", Failed: "+ht[It]+". Will retry to send "+At[It]+" our of "+et[Ui]+" items"))},Le[Di]=function(Ie,et){Le._buffer[Br](Ie)},Le._xdrOnLoad=function(Ie,et){var ht=zi(Ie);if(Ie&&(ht+""=="200"||ht===""))F=0,Le[Di](et,0);else{var At=Gi(ht);At&&At.itemsReceived&&At.itemsReceived>At[xr]&&!Le[on][si]()?Le[ra](et,At):Le[Ir](et,ci(Ie))}};function Cr(Ie){return Le._sample.isSampledIn(Ie)}a(Cr,"_isSampledIn");function Xr(Ie,et,ht,At,rn,dn){var vn=null;if(Le._appId||(vn=Gi(dn),vn&&vn.appId&&(Le._appId=vn.appId)),(Ie<200||Ie>=300)&&Ie!==0){if((Ie===301||Ie===307||Ie===308)&&!pi(ht)){Le[Ir](et,rn);return}!Le[on][si]()&&Pi(Ie)?(_i(et),(0,Z.kP)(Le[Zn](),2,40,". Response code "+Ie+". Will retry to send "+et[It]+" items.")):Le[Ir](et,rn)}else if(tn&&!tn.isOnline()){if(!Le[on][si]()){var er=10;_i(et,er),(0,Z.kP)(Le[Zn](),2,40,". Offline - Response Code: ".concat(Ie,". Offline status: ").concat(!tn.isOnline(),". Will retry to send ").concat(et.length," items."))}}else pi(ht),Ie===206?(vn||(vn=Gi(dn)),vn&&!Le[on][si]()?Le[ra](et,vn):Le[Ir](et,rn)):(F=0,Le[Di](et,At))}a(Xr,"_checkResponsStatus");function pi(Ie){return ot>=10?!1:!(0,A.le)(Ie)&&Ie!==""&&Ie!==Le[on][Hr]()?(Le[on][Hr]=function(){return Ie},++ot,!0):!1}a(pi,"_checkAndUpdateEndPointUrl");function Oa(Ie,et){Mt?Mt(Ie,!1):mi(Ie,et)}a(Oa,"_doUnloadSend");function ha(Ie){var et=(0,fe.jW)(),ht=Le[jr],At=Le[on][Hr](),rn=Le._buffer[di](Ie),dn=new Blob([rn],{type:"text/plain;charset=UTF-8"}),vn=et.sendBeacon(At,dn);return vn&&(ht[ni](Ie),Le._onSuccess(Ie,Ie[It])),vn}a(ha,"_doBeaconSend");function mi(Ie,et){if((0,A.kJ)(Ie)&&Ie[It]>0&&!ha(Ie)){for(var ht=[],At=0;At<Ie[It];At++){var rn=Ie[At];ha([rn])||ht[ti](rn)}ht[It]>0&&(Jt&&Jt(ht,!0),(0,Z.kP)(Le[Zn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(mi,"_beaconSender");function li(Ie,et){var ht=new XMLHttpRequest,At=Le[on][Hr]();try{ht[I]=!0}catch(dn){}ht.open("POST",At,et),ht[ia]("Content-type","application/json"),gr(At)&&ht[ia](wn[6],wn[7]),(0,A.tO)((0,A.FY)(gt),function(dn){ht[ia](dn,gt[dn])}),ht.onreadystatechange=function(){return Le._xhrReadyStateChange(ht,Ie,Ie[It])},ht.onerror=function(dn){return Le[Ir](Ie,Qi(ht),dn)};var rn=Le._buffer[di](Ie);ht.send(rn),Le._buffer[ni](Ie)}a(li,"_xhrSender");function Na(Ie,et){if((0,A.kJ)(Ie)){for(var ht=Ie[It],At=0;At<Ie[It];At++)ht+=Ie[At][It];Ft+ht<=Ri?va(Ie,!1):(0,fe.MF)()?mi(Ie,et):(Jt&&Jt(Ie,!0),(0,Z.kP)(Le[Zn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(Na,"_fetchKeepAliveSender");function La(Ie,et){va(Ie,!0)}a(La,"_fetchSender");function va(Ie,et){var ht,At=Le[on][Hr](),rn=Le._buffer[di](Ie),dn=new Blob([rn],{type:"application/json"}),vn=new Headers,er=rn[It],tr=!1,nr=!1;gr(At)&&vn.append(wn[6],wn[7]),(0,A.tO)((0,A.FY)(gt),function(Vn){vn.append(Vn,gt[Vn])});var dr=(ht={method:"POST",headers:vn,body:dn},ht[I]=!0,ht);et||(dr.keepalive=!0,tr=!0,Ft+=er);var Pr=new Request(At,dr);try{Pr[I]=!0}catch(Vn){}Le._buffer[ni](Ie);try{fetch(Pr).then(function(Vn){et||(Ft-=er,er=0),nr||(nr=!0,Vn.ok?Vn.text().then(function(Ma){Xr(Vn.status,Ie,Vn.url,Ie[It],Vn.statusText,Ma)}):Le[Ir](Ie,Vn.statusText))}).catch(function(Vn){et||(Ft-=er,er=0),nr||(nr=!0,Le[Ir](Ie,Vn.message))})}catch(Vn){nr||Le[Ir](Ie,(0,fe.eU)(Vn))}tr&&!nr&&(nr=!0,Le._onSuccess(Ie,Ie[It]))}a(va,"_doFetchSender");function Gi(Ie){try{if(Ie&&Ie!==""){var et=(0,fe.xA)().parse(Ie);if(et&&et.itemsReceived&&et.itemsReceived>=et[xr]&&et.itemsReceived-et.itemsAccepted===et.errors[It])return et}}catch(ht){(0,Z.kP)(Le[Zn](),1,43,"Cannot parse the response. "+(0,A.jj)(ht),{response:Ie})}return null}a(Gi,"_parseResponse");function _i(Ie,et){if(et===void 0&&(et=1),!(!Ie||Ie[It]===0)){var ht=Le[jr];ht[Br](Ie),F++;for(var At=0,rn=Ie;At<rn.length;At++){var dn=rn[At];ht[fi](dn)}ga(et),Vi()}}a(_i,"_resendPayload");function ga(Ie){var et=10,ht;if(F<=1)ht=et;else{var At=(Math.pow(2,F)-1)/2,rn=Math.floor(Math.random()*At*et)+1;rn=Ie*rn,ht=Math.max(Math.min(rn,3600),et)}var dn=(0,A.m6)()+ht*1e3;de=dn}a(ga,"_setRetryTime");function Vi(){if(!xe&&!Ne){var Ie=de?Math.max(0,de-(0,A.m6)()):0,et=Math.max(Le[on][aa](),Ie);xe=setTimeout(function(){xe=null,Le[$r](!0,null,1)},et)}}a(Vi,"_setupTimer");function Ji(){clearTimeout(xe),xe=null,de=null}a(Ji,"_clearScheduledTimer");function Pi(Ie){return Ie===401||Ie===403||Ie===408||Ie===429||Ie===500||Ie===502||Ie===503||Ie===504}a(Pi,"_isRetriable");function Qi(Ie,et){return Ie?"XMLHttpRequest,Status:"+Ie.status+",Response:"+zi(Ie)||0||0:et}a(Qi,"_formatErrorMessageXhr");function pa(Ie,et){var ht=Le[jr],At=(0,fe.Jj)(),rn=new XDomainRequest;rn.onload=function(){return Le._xdrOnLoad(rn,Ie)},rn.onerror=function(tr){return Le[Ir](Ie,ci(rn),tr)};var dn=At&&At.location&&At.location.protocol||"";if(Le[on][Hr]().lastIndexOf(dn,0)!==0){(0,Z.kP)(Le[Zn](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),ht[ir]();return}var vn=Le[on][Hr]().replace(/^(https?:)/,"");rn.open("POST",vn);var er=ht[di](Ie);rn.send(er),ht[ni](Ie)}a(pa,"_xdrSender");function ci(Ie,et){return Ie?"XDomainRequest,Response:"+zi(Ie)||0:et}a(ci,"_formatErrorMessageXdr");function Fa(){var Ie="getNotifyMgr";return Le.core[Ie]?Le.core[Ie]():Le.core._notificationManager}a(Fa,"_getNotifyMgr");function ma(Ie,et){var ht=Fa();if(ht&&ht[wa])try{ht[wa](Ie,et)}catch(At){(0,Z.kP)(Le[Zn](),1,74,"send request notification failed: "+(0,A.jj)(At),{exception:(0,fe.eU)(At)})}}a(ma,"_notifySendRequest");function Oi(Ie){var et=(0,A.le)(Ie[oi])?!1:Ie[oi];if(et)return!0;var ht="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",At=new RegExp(ht);return At.test(Ie[Ti])}a(Oi,"_validateInstrumentationKey");function Xi(){Le[gi]=null,Le[jr]=null,Le._appId=null,Le._sample=null,gt={},tn=null,F=0,de=null,Ee=null,Ne=!1,xe=null,st=null,ot=0,Ft=0,Jt=null,Mt=null,nn=null}a(Xi,"_initDefaults")}),D}return a(d,"Sender"),d.constructEnvelope=function(D,F,de,Ee){var Ne;F!==D.iKey&&!(0,A.le)(F)?Ne=(0,h.uc)((0,h.uc)({},D),{iKey:F}):Ne=D;var xe=fa[Ne.baseType]||ui;return xe(de,Ne,Ee)},d}(_r.i),da=E(5121),Yi="initialize",Ii="diagnosticLogInterval",Ra=E(7310),Ia=(0,gn.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Pa=function(){function w(d){var D=new da.F;((0,A.le)(d)||(0,A.le)(d.instrumentationKey))&&(0,A._y)("Invalid input configuration"),(0,T.Z)(w,this,function(F){F.config=d,de(),F[Yi]=de,F.getSKUDefaults=function(){F.config[Ii]=F.config[Ii]&&F.config[Ii]>0?F.config[Ii]:1e4},F.getSKUDefaults(),(0,A.Vb)(F,D,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function de(){var Ee=[],Ne=new ji;Ee.push(Ne),D[Yi](F.config,Ee),Ne[Yi](F.config,D,Ee),D.pollInternalLogs()}a(de,"_initialize")})}return a(w,"ApplicationInsights"),w.__ieDyn=1,w}()},1679:(Ke,v,E)=>{"use strict";E.d(v,{Z:()=>Be});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var T,h="undefined",R="constructor",p="prototype",K="function",I="_dynInstFuncs",f="_isDynProxy",g="_dynClass",H="_dynCls$",$="_dynInstChk",O=$,W="_dfOpts",L="_unknown_",G="__proto__",z="_dyn"+G,ae="__dynProto$Gbl",S="_dynInstProto",k="useBaseInst",P="setInstFuncs",m=Object,C=m.getPrototypeOf,N=m.getOwnPropertyNames;function Y(){var B;return typeof globalThis!==h&&(B=globalThis),!B&&typeof self!==h&&(B=self),!B&&typeof window!==h&&(B=window),!B&&typeof E.g!==h&&(B=E.g),B||{}}a(Y,"_getGlobal");var J=Y(),Q=J[ae]||(J[ae]={o:(T={},T[P]=!0,T[k]=!0,T),n:1e3});function ne(B,V){return B&&m[p].hasOwnProperty.call(B,V)}a(ne,"_hasOwnProperty");function pe(B){return B&&(B===m[p]||B===Array[p])}a(pe,"_isObjectOrArrayPrototype");function q(B){return pe(B)||B===Function[p]}a(q,"_isObjectArrayOrFunctionPrototype");function U(B){var V;if(B){if(C)return C(B);var ee=B[G]||B[p]||(B[R]?B[R][p]:null);V=B[z]||ee,ne(B,z)||(delete B[S],V=B[z]=B[S]||B[z],B[S]=ee)}return V}a(U,"_getObjProto");function se(B,V){var ee=[];if(N)ee=N(B);else for(var le in B)typeof le=="string"&&ne(B,le)&&ee.push(le);if(ee&&ee.length>0)for(var Me=0;Me<ee.length;Me++)V(ee[Me])}a(se,"_forEachProp");function De(B,V,ee){return V!==R&&typeof B[V]===K&&(ee||ne(B,V))}a(De,"_isDynamicCandidate");function Ae(B){throw new TypeError("DynamicProto: "+B)}a(Ae,"_throwTypeError");function re(B){var V={};return se(B,function(ee){!V[ee]&&De(B,ee,!1)&&(V[ee]=B[ee])}),V}a(re,"_getInstanceFuncs");function M(B,V){for(var ee=B.length-1;ee>=0;ee--)if(B[ee]===V)return!0;return!1}a(M,"_hasVisited");function ce(B,V,ee,le){function Me(ye,ge,be){var oe=ge[be];if(oe[f]&&le){var Qe=ye[I]||{};Qe[O]!==!1&&(oe=(Qe[ge[g]]||{})[be]||oe)}return function(){return oe.apply(ye,arguments)}}a(Me,"_instFuncProxy");var Ye={};se(ee,function(ye){Ye[ye]=Me(V,ee,ye)});for(var ve=U(B),we=[];ve&&!q(ve)&&!M(we,ve);)se(ve,function(ye){!Ye[ye]&&De(ve,ye,!C)&&(Ye[ye]=Me(V,ve,ye))}),we.push(ve),ve=U(ve);return Ye}a(ce,"_getBaseFuncs");function Se(B,V,ee,le){var Me=null;if(B&&ne(ee,g)){var Ye=B[I]||{};if(Me=(Ye[ee[g]]||{})[V],Me||Ae("Missing ["+V+"] "+K),!Me[$]&&Ye[O]!==!1){for(var ve=!ne(B,V),we=U(B),ye=[];ve&&we&&!q(we)&&!M(ye,we);){var ge=we[V];if(ge){ve=ge===le;break}ye.push(we),we=U(we)}try{ve&&(B[V]=Me),Me[$]=1}catch(be){Ye[O]=!1}}}return Me}a(Se,"_getInstFunc");function Re(B,V,ee){var le=V[B];return le===ee&&(le=U(V)[B]),typeof le!==K&&Ae("["+B+"] is not a "+K),le}a(Re,"_getProtoFunc");function X(B,V,ee,le,Me){function Ye(ye,ge){var be=a(function(){var oe=Se(this,ge,ye,be)||Re(ge,ye,be);return oe.apply(this,arguments)},"dynProtoProxy");return be[f]=1,be}if(a(Ye,"_createDynamicPrototype"),!pe(B)){var ve=ee[I]=ee[I]||{},we=ve[V]=ve[V]||{};ve[O]!==!1&&(ve[O]=!!Me),se(ee,function(ye){De(ee,ye,!1)&&ee[ye]!==le[ye]&&(we[ye]=ee[ye],delete ee[ye],(!ne(B,ye)||B[ye]&&!B[ye][f])&&(B[ye]=Ye(B,ye)))})}}a(X,"_populatePrototype");function Je(B,V){if(C){for(var ee=[],le=U(V);le&&!q(le)&&!M(ee,le);){if(le===B)return!0;ee.push(le),le=U(le)}return!1}return!0}a(Je,"_checkPrototype");function ke(B,V){return ne(B,p)?B.name||V||L:((B||{})[R]||{}).name||V||L}a(ke,"_getObjName");function Be(B,V,ee,le){ne(B,p)||Ae("theClass is an invalid class definition.");var Me=B[p];Je(Me,V)||Ae("["+ke(B)+"] not in hierarchy of ["+ke(V)+"]");var Ye=null;ne(Me,g)?Ye=Me[g]:(Ye=H+ke(B,"_")+"$"+Q.n,Q.n++,Me[g]=Ye);var ve=Be[W],we=!!ve[k];we&&le&&le[k]!==void 0&&(we=!!le[k]);var ye=re(V),ge=ce(Me,V,ye,we);ee(V,ge);var be=!!C&&!!ve[P];be&&le&&(be=!!le[P]),X(Me,Ye,V,ye,be!==!1)}a(Be,"dynamicProto"),Be[W]=Q.o},6232:(Ke,v,E)=>{"use strict";const T=E(8641),h=E(8692),R=E(1474),p=E(5870),K=a((I,f={})=>{let g=[];if(Array.isArray(I))for(let H of I){let $=K.create(H,f);Array.isArray($)?g.push(...$):g.push($)}else g=[].concat(K.create(I,f));return f&&f.expand===!0&&f.nodupes===!0&&(g=[...new Set(g)]),g},"braces");K.parse=(I,f={})=>p(I,f),K.stringify=(I,f={})=>T(typeof I=="string"?K.parse(I,f):I,f),K.compile=(I,f={})=>(typeof I=="string"&&(I=K.parse(I,f)),h(I,f)),K.expand=(I,f={})=>{typeof I=="string"&&(I=K.parse(I,f));let g=R(I,f);return f.noempty===!0&&(g=g.filter(Boolean)),f.nodupes===!0&&(g=[...new Set(g)]),g},K.create=(I,f={})=>I===""||I.length<3?[I]:f.expand!==!0?K.compile(I,f):K.expand(I,f),Ke.exports=K},8692:(Ke,v,E)=>{"use strict";const T=E(1516),h=E(3596),R=a((p,K={})=>{let I=a((f,g={})=>{let H=h.isInvalidBrace(g),$=f.invalid===!0&&K.escapeInvalid===!0,O=H===!0||$===!0,W=K.escapeInvalid===!0?"\\":"",L="";if(f.isOpen===!0||f.isClose===!0)return W+f.value;if(f.type==="open")return O?W+f.value:"(";if(f.type==="close")return O?W+f.value:")";if(f.type==="comma")return f.prev.type==="comma"?"":O?f.value:"|";if(f.value)return f.value;if(f.nodes&&f.ranges>0){let G=h.reduce(f.nodes),z=T(...G,{...K,wrap:!1,toRegex:!0});if(z.length!==0)return G.length>1&&z.length>1?`(${z})`:z}if(f.nodes)for(let G of f.nodes)L+=I(G,f);return L},"walk");return I(p)},"compile");Ke.exports=R},7007:Ke=>{"use strict";Ke.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(Ke,v,E)=>{"use strict";const T=E(1516),h=E(8641),R=E(3596),p=a((I="",f="",g=!1)=>{let H=[];if(I=[].concat(I),f=[].concat(f),!f.length)return I;if(!I.length)return g?R.flatten(f).map($=>`{${$}}`):f;for(let $ of I)if(Array.isArray($))for(let O of $)H.push(p(O,f,g));else for(let O of f)g===!0&&typeof O=="string"&&(O=`{${O}}`),H.push(Array.isArray(O)?p($,O,g):$+O);return R.flatten(H)},"append"),K=a((I,f={})=>{let g=f.rangeLimit===void 0?1e3:f.rangeLimit,H=a(($,O={})=>{$.queue=[];let W=O,L=O.queue;for(;W.type!=="brace"&&W.type!=="root"&&W.parent;)W=W.parent,L=W.queue;if($.invalid||$.dollar){L.push(p(L.pop(),h($,f)));return}if($.type==="brace"&&$.invalid!==!0&&$.nodes.length===2){L.push(p(L.pop(),["{}"]));return}if($.nodes&&$.ranges>0){let S=R.reduce($.nodes);if(R.exceedsLimit(...S,f.step,g))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let k=T(...S,f);k.length===0&&(k=h($,f)),L.push(p(L.pop(),k)),$.nodes=[];return}let G=R.encloseBrace($),z=$.queue,ae=$;for(;ae.type!=="brace"&&ae.type!=="root"&&ae.parent;)ae=ae.parent,z=ae.queue;for(let S=0;S<$.nodes.length;S++){let k=$.nodes[S];if(k.type==="comma"&&$.type==="brace"){S===1&&z.push(""),z.push("");continue}if(k.type==="close"){L.push(p(L.pop(),z,G));continue}if(k.value&&k.type!=="open"){z.push(p(z.pop(),k.value));continue}k.nodes&&H(k,$)}return z},"walk");return R.flatten(H(I))},"expand");Ke.exports=K},5870:(Ke,v,E)=>{"use strict";const T=E(8641),{MAX_LENGTH:h,CHAR_BACKSLASH:R,CHAR_BACKTICK:p,CHAR_COMMA:K,CHAR_DOT:I,CHAR_LEFT_PARENTHESES:f,CHAR_RIGHT_PARENTHESES:g,CHAR_LEFT_CURLY_BRACE:H,CHAR_RIGHT_CURLY_BRACE:$,CHAR_LEFT_SQUARE_BRACKET:O,CHAR_RIGHT_SQUARE_BRACKET:W,CHAR_DOUBLE_QUOTE:L,CHAR_SINGLE_QUOTE:G,CHAR_NO_BREAK_SPACE:z,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ae}=E(7007),S=a((k,P={})=>{if(typeof k!="string")throw new TypeError("Expected a string");let m=P||{},C=typeof m.maxLength=="number"?Math.min(h,m.maxLength):h;if(k.length>C)throw new SyntaxError(`Input length (${k.length}), exceeds max characters (${C})`);let N={type:"root",input:k,nodes:[]},Y=[N],J=N,Q=N,ne=0,pe=k.length,q=0,U=0,se,De={};const Ae=a(()=>k[q++],"advance"),re=a(M=>{if(M.type==="text"&&Q.type==="dot"&&(Q.type="text"),Q&&Q.type==="text"&&M.type==="text"){Q.value+=M.value;return}return J.nodes.push(M),M.parent=J,M.prev=Q,Q=M,M},"push");for(re({type:"bos"});q<pe;)if(J=Y[Y.length-1],se=Ae(),!(se===ae||se===z)){if(se===R){re({type:"text",value:(P.keepEscaping?se:"")+Ae()});continue}if(se===W){re({type:"text",value:"\\"+se});continue}if(se===O){ne++;let M=!0,ce;for(;q<pe&&(ce=Ae());){if(se+=ce,ce===O){ne++;continue}if(ce===R){se+=Ae();continue}if(ce===W&&(ne--,ne===0))break}re({type:"text",value:se});continue}if(se===f){J=re({type:"paren",nodes:[]}),Y.push(J),re({type:"text",value:se});continue}if(se===g){if(J.type!=="paren"){re({type:"text",value:se});continue}J=Y.pop(),re({type:"text",value:se}),J=Y[Y.length-1];continue}if(se===L||se===G||se===p){let M=se,ce;for(P.keepQuotes!==!0&&(se="");q<pe&&(ce=Ae());){if(ce===R){se+=ce+Ae();continue}if(ce===M){P.keepQuotes===!0&&(se+=ce);break}se+=ce}re({type:"text",value:se});continue}if(se===H){U++;let M=Q.value&&Q.value.slice(-1)==="$"||J.dollar===!0;J=re({type:"brace",open:!0,close:!1,dollar:M,depth:U,commas:0,ranges:0,nodes:[]}),Y.push(J),re({type:"open",value:se});continue}if(se===$){if(J.type!=="brace"){re({type:"text",value:se});continue}let M="close";J=Y.pop(),J.close=!0,re({type:M,value:se}),U--,J=Y[Y.length-1];continue}if(se===K&&U>0){if(J.ranges>0){J.ranges=0;let M=J.nodes.shift();J.nodes=[M,{type:"text",value:T(J)}]}re({type:"comma",value:se}),J.commas++;continue}if(se===I&&U>0&&J.commas===0){let M=J.nodes;if(U===0||M.length===0){re({type:"text",value:se});continue}if(Q.type==="dot"){if(J.range=[],Q.value+=se,Q.type="range",J.nodes.length!==3&&J.nodes.length!==5){J.invalid=!0,J.ranges=0,Q.type="text";continue}J.ranges++,J.args=[];continue}if(Q.type==="range"){M.pop();let ce=M[M.length-1];ce.value+=Q.value+se,Q=ce,J.ranges--;continue}re({type:"dot",value:se});continue}re({type:"text",value:se})}do if(J=Y.pop(),J.type!=="root"){J.nodes.forEach(Se=>{Se.nodes||(Se.type==="open"&&(Se.isOpen=!0),Se.type==="close"&&(Se.isClose=!0),Se.nodes||(Se.type="text"),Se.invalid=!0)});let M=Y[Y.length-1],ce=M.nodes.indexOf(J);M.nodes.splice(ce,1,...J.nodes)}while(Y.length>0);return re({type:"eos"}),N},"parse");Ke.exports=S},8641:(Ke,v,E)=>{"use strict";const T=E(3596);Ke.exports=(h,R={})=>{let p=a((K,I={})=>{let f=R.escapeInvalid&&T.isInvalidBrace(I),g=K.invalid===!0&&R.escapeInvalid===!0,H="";if(K.value)return(f||g)&&T.isOpenOrClose(K)?"\\"+K.value:K.value;if(K.value)return K.value;if(K.nodes)for(let $ of K.nodes)H+=p($);return H},"stringify");return p(h)}},3596:(Ke,v)=>{"use strict";v.isInteger=E=>typeof E=="number"?Number.isInteger(E):typeof E=="string"&&E.trim()!==""?Number.isInteger(Number(E)):!1,v.find=(E,T)=>E.nodes.find(h=>h.type===T),v.exceedsLimit=(E,T,h=1,R)=>R===!1||!v.isInteger(E)||!v.isInteger(T)?!1:(Number(T)-Number(E))/Number(h)>=R,v.escapeNode=(E,T=0,h)=>{let R=E.nodes[T];!R||(h&&R.type===h||R.type==="open"||R.type==="close")&&R.escaped!==!0&&(R.value="\\"+R.value,R.escaped=!0)},v.encloseBrace=E=>E.type!=="brace"?!1:E.commas>>0+E.ranges>>0==0?(E.invalid=!0,!0):!1,v.isInvalidBrace=E=>E.type!=="brace"?!1:E.invalid===!0||E.dollar?!0:E.commas>>0+E.ranges>>0==0||E.open!==!0||E.close!==!0?(E.invalid=!0,!0):!1,v.isOpenOrClose=E=>E.type==="open"||E.type==="close"?!0:E.open===!0||E.close===!0,v.reduce=E=>E.reduce((T,h)=>(h.type==="text"&&T.push(h.value),h.type==="range"&&(h.type="text"),T),[]),v.flatten=(...E)=>{const T=[],h=a(R=>{for(let p=0;p<R.length;p++){let K=R[p];Array.isArray(K)?h(K,T):K!==void 0&&T.push(K)}return T},"flat");return h(E),T}},1516:(Ke,v,E)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const T=E(6529),h=E(2999),R=a(m=>m!==null&&typeof m=="object"&&!Array.isArray(m),"isObject"),p=a(m=>C=>m===!0?Number(C):String(C),"transform"),K=a(m=>typeof m=="number"||typeof m=="string"&&m!=="","isValidValue"),I=a(m=>Number.isInteger(+m),"isNumber"),f=a(m=>{let C=`${m}`,N=-1;if(C[0]==="-"&&(C=C.slice(1)),C==="0")return!1;for(;C[++N]==="0";);return N>0},"zeros"),g=a((m,C,N)=>typeof m=="string"||typeof C=="string"?!0:N.stringify===!0,"stringify"),H=a((m,C,N)=>{if(C>0){let Y=m[0]==="-"?"-":"";Y&&(m=m.slice(1)),m=Y+m.padStart(Y?C-1:C,"0")}return N===!1?String(m):m},"pad"),$=a((m,C)=>{let N=m[0]==="-"?"-":"";for(N&&(m=m.slice(1),C--);m.length<C;)m="0"+m;return N?"-"+m:m},"toMaxLen"),O=a((m,C)=>{m.negatives.sort((ne,pe)=>ne<pe?-1:ne>pe?1:0),m.positives.sort((ne,pe)=>ne<pe?-1:ne>pe?1:0);let N=C.capture?"":"?:",Y="",J="",Q;return m.positives.length&&(Y=m.positives.join("|")),m.negatives.length&&(J=`-(${N}${m.negatives.join("|")})`),Y&&J?Q=`${Y}|${J}`:Q=Y||J,C.wrap?`(${N}${Q})`:Q},"toSequence"),W=a((m,C,N,Y)=>{if(N)return h(m,C,{wrap:!1,...Y});let J=String.fromCharCode(m);if(m===C)return J;let Q=String.fromCharCode(C);return`[${J}-${Q}]`},"toRange"),L=a((m,C,N)=>{if(Array.isArray(m)){let Y=N.wrap===!0,J=N.capture?"":"?:";return Y?`(${J}${m.join("|")})`:m.join("|")}return h(m,C,N)},"toRegex"),G=a((...m)=>new RangeError("Invalid range arguments: "+T.inspect(...m)),"rangeError"),z=a((m,C,N)=>{if(N.strictRanges===!0)throw G([m,C]);return[]},"invalidRange"),ae=a((m,C)=>{if(C.strictRanges===!0)throw new TypeError(`Expected step "${m}" to be a number`);return[]},"invalidStep"),S=a((m,C,N=1,Y={})=>{let J=Number(m),Q=Number(C);if(!Number.isInteger(J)||!Number.isInteger(Q)){if(Y.strictRanges===!0)throw G([m,C]);return[]}J===0&&(J=0),Q===0&&(Q=0);let ne=J>Q,pe=String(m),q=String(C),U=String(N);N=Math.max(Math.abs(N),1);let se=f(pe)||f(q)||f(U),De=se?Math.max(pe.length,q.length,U.length):0,Ae=se===!1&&g(m,C,Y)===!1,re=Y.transform||p(Ae);if(Y.toRegex&&N===1)return W($(m,De),$(C,De),!0,Y);let M={negatives:[],positives:[]},ce=a(X=>M[X<0?"negatives":"positives"].push(Math.abs(X)),"push"),Se=[],Re=0;for(;ne?J>=Q:J<=Q;)Y.toRegex===!0&&N>1?ce(J):Se.push(H(re(J,Re),De,Ae)),J=ne?J-N:J+N,Re++;return Y.toRegex===!0?N>1?O(M,Y):L(Se,null,{wrap:!1,...Y}):Se},"fillNumbers"),k=a((m,C,N=1,Y={})=>{if(!I(m)&&m.length>1||!I(C)&&C.length>1)return z(m,C,Y);let J=Y.transform||(Ae=>String.fromCharCode(Ae)),Q=`${m}`.charCodeAt(0),ne=`${C}`.charCodeAt(0),pe=Q>ne,q=Math.min(Q,ne),U=Math.max(Q,ne);if(Y.toRegex&&N===1)return W(q,U,!1,Y);let se=[],De=0;for(;pe?Q>=ne:Q<=ne;)se.push(J(Q,De)),Q=pe?Q-N:Q+N,De++;return Y.toRegex===!0?L(se,null,{wrap:!1,options:Y}):se},"fillLetters"),P=a((m,C,N,Y={})=>{if(C==null&&K(m))return[m];if(!K(m)||!K(C))return z(m,C,Y);if(typeof N=="function")return P(m,C,1,{transform:N});if(R(N))return P(m,C,0,N);let J={...Y};return J.capture===!0&&(J.wrap=!0),N=N||J.step||1,I(N)?I(m)&&I(C)?S(m,C,N,J):k(m,C,Math.max(Math.abs(N),1),J):N!=null&&!R(N)?ae(N,J):P(m,C,1,N)},"fill");Ke.exports=P},3338:Ke=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */Ke.exports=function(v){return typeof v=="number"?v-v==0:typeof v=="string"&&v.trim()!==""?Number.isFinite?Number.isFinite(+v):isFinite(+v):!1}},5179:(Ke,v,E)=>{Ke=E.nmd(Ke);var T=200,h="__lodash_hash_undefined__",R=1,p=2,K=9007199254740991,I="[object Arguments]",f="[object Array]",g="[object AsyncFunction]",H="[object Boolean]",$="[object Date]",O="[object Error]",W="[object Function]",L="[object GeneratorFunction]",G="[object Map]",z="[object Number]",ae="[object Null]",S="[object Object]",k="[object Promise]",P="[object Proxy]",m="[object RegExp]",C="[object Set]",N="[object String]",Y="[object Symbol]",J="[object Undefined]",Q="[object WeakMap]",ne="[object ArrayBuffer]",pe="[object DataView]",q="[object Float32Array]",U="[object Float64Array]",se="[object Int8Array]",De="[object Int16Array]",Ae="[object Int32Array]",re="[object Uint8Array]",M="[object Uint8ClampedArray]",ce="[object Uint16Array]",Se="[object Uint32Array]",Re=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,Je=/^(?:0|[1-9]\d*)$/,ke={};ke[q]=ke[U]=ke[se]=ke[De]=ke[Ae]=ke[re]=ke[M]=ke[ce]=ke[Se]=!0,ke[I]=ke[f]=ke[ne]=ke[H]=ke[pe]=ke[$]=ke[O]=ke[W]=ke[G]=ke[z]=ke[S]=ke[m]=ke[C]=ke[N]=ke[Q]=!1;var Be=typeof E.g=="object"&&E.g&&E.g.Object===Object&&E.g,B=typeof self=="object"&&self&&self.Object===Object&&self,V=Be||B||Function("return this")(),ee=v&&!v.nodeType&&v,le=ee&&!0&&Ke&&!Ke.nodeType&&Ke,Me=le&&le.exports===ee,Ye=Me&&Be.process,ve=function(){try{return Ye&&Ye.binding&&Ye.binding("util")}catch(_){}}(),we=ve&&ve.isTypedArray;function ye(_,x){for(var ue=-1,Fe=_==null?0:_.length,ft=0,Xe=[];++ue<Fe;){var he=_[ue];x(he,ue,_)&&(Xe[ft++]=he)}return Xe}a(ye,"arrayFilter");function ge(_,x){for(var ue=-1,Fe=x.length,ft=_.length;++ue<Fe;)_[ft+ue]=x[ue];return _}a(ge,"arrayPush");function be(_,x){for(var ue=-1,Fe=_==null?0:_.length;++ue<Fe;)if(x(_[ue],ue,_))return!0;return!1}a(be,"arraySome");function oe(_,x){for(var ue=-1,Fe=Array(_);++ue<_;)Fe[ue]=x(ue);return Fe}a(oe,"baseTimes");function Qe(_){return function(x){return _(x)}}a(Qe,"baseUnary");function Oe(_,x){return _.has(x)}a(Oe,"cacheHas");function A(_,x){return _==null?void 0:_[x]}a(A,"getValue");function Z(_){var x=-1,ue=Array(_.size);return _.forEach(function(Fe,ft){ue[++x]=[ft,Fe]}),ue}a(Z,"mapToArray");function fe(_,x){return function(ue){return _(x(ue))}}a(fe,"overArg");function He(_){var x=-1,ue=Array(_.size);return _.forEach(function(Fe){ue[++x]=Fe}),ue}a(He,"setToArray");var Ge=Array.prototype,dt=Function.prototype,je=Object.prototype,_t=V["__core-js_shared__"],at=dt.toString,Vt=je.hasOwnProperty,qt=function(){var _=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),an=je.toString,Rn=RegExp("^"+at.call(Vt).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=Me?V.Buffer:void 0,Et=V.Symbol,Ut=V.Uint8Array,St=je.propertyIsEnumerable,Bt=Ge.splice,rt=Et?Et.toStringTag:void 0,Ht=Object.getOwnPropertySymbols,Yt=Ve?Ve.isBuffer:void 0,kt=fe(Object.keys,Object),Ot=Jn(V,"DataView"),cn=Jn(V,"Map"),Sn=Jn(V,"Promise"),hr=Jn(V,"Set"),Gn=Jn(V,"WeakMap"),Tn=Jn(Object,"create"),Tr=ur(Ot),ar=ur(cn),Or=ur(Sn),Er=ur(hr),mr=ur(Gn),Dr=Et?Et.prototype:void 0,ie=Dr?Dr.valueOf:void 0;function We(_){var x=-1,ue=_==null?0:_.length;for(this.clear();++x<ue;){var Fe=_[x];this.set(Fe[0],Fe[1])}}a(We,"Hash");function Ze(){this.__data__=Tn?Tn(null):{},this.size=0}a(Ze,"hashClear");function ut(_){var x=this.has(_)&&delete this.__data__[_];return this.size-=x?1:0,x}a(ut,"hashDelete");function bt(_){var x=this.__data__;if(Tn){var ue=x[_];return ue===h?void 0:ue}return Vt.call(x,_)?x[_]:void 0}a(bt,"hashGet");function Ct(_){var x=this.__data__;return Tn?x[_]!==void 0:Vt.call(x,_)}a(Ct,"hashHas");function In(_,x){var ue=this.__data__;return this.size+=this.has(_)?0:1,ue[_]=Tn&&x===void 0?h:x,this}a(In,"hashSet"),We.prototype.clear=Ze,We.prototype.delete=ut,We.prototype.get=bt,We.prototype.has=Ct,We.prototype.set=In;function Dn(_){var x=-1,ue=_==null?0:_.length;for(this.clear();++x<ue;){var Fe=_[x];this.set(Fe[0],Fe[1])}}a(Dn,"ListCache");function lt(){this.__data__=[],this.size=0}a(lt,"listCacheClear");function vt(_){var x=this.__data__,ue=ln(x,_);if(ue<0)return!1;var Fe=x.length-1;return ue==Fe?x.pop():Bt.call(x,ue,1),--this.size,!0}a(vt,"listCacheDelete");function Tt(_){var x=this.__data__,ue=ln(x,_);return ue<0?void 0:x[ue][1]}a(Tt,"listCacheGet");function tt(_){return ln(this.__data__,_)>-1}a(tt,"listCacheHas");function $t(_,x){var ue=this.__data__,Fe=ln(ue,_);return Fe<0?(++this.size,ue.push([_,x])):ue[Fe][1]=x,this}a($t,"listCacheSet"),Dn.prototype.clear=lt,Dn.prototype.delete=vt,Dn.prototype.get=Tt,Dn.prototype.has=tt,Dn.prototype.set=$t;function Rt(_){var x=-1,ue=_==null?0:_.length;for(this.clear();++x<ue;){var Fe=_[x];this.set(Fe[0],Fe[1])}}a(Rt,"MapCache");function it(){this.size=0,this.__data__={hash:new We,map:new(cn||Dn),string:new We}}a(it,"mapCacheClear");function zt(_){var x=Bn(this,_).delete(_);return this.size-=x?1:0,x}a(zt,"mapCacheDelete");function Gt(_){return Bn(this,_).get(_)}a(Gt,"mapCacheGet");function un(_){return Bn(this,_).has(_)}a(un,"mapCacheHas");function sn(_,x){var ue=Bn(this,_),Fe=ue.size;return ue.set(_,x),this.size+=ue.size==Fe?0:1,this}a(sn,"mapCacheSet"),Rt.prototype.clear=it,Rt.prototype.delete=zt,Rt.prototype.get=Gt,Rt.prototype.has=un,Rt.prototype.set=sn;function Un(_){var x=-1,ue=_==null?0:_.length;for(this.__data__=new Rt;++x<ue;)this.add(_[x])}a(Un,"SetCache");function gn(_){return this.__data__.set(_,h),this}a(gn,"setCacheAdd");function wn(_){return this.__data__.has(_)}a(wn,"setCacheHas"),Un.prototype.add=Un.prototype.push=gn,Un.prototype.has=wn;function en(_){var x=this.__data__=new Dn(_);this.size=x.size}a(en,"Stack");function yt(){this.__data__=new Dn,this.size=0}a(yt,"stackClear");function Kt(_){var x=this.__data__,ue=x.delete(_);return this.size=x.size,ue}a(Kt,"stackDelete");function Wt(_){return this.__data__.get(_)}a(Wt,"stackGet");function fn(_){return this.__data__.has(_)}a(fn,"stackHas");function Pt(_,x){var ue=this.__data__;if(ue instanceof Dn){var Fe=ue.__data__;if(!cn||Fe.length<T-1)return Fe.push([_,x]),this.size=++ue.size,this;ue=this.__data__=new Rt(Fe)}return ue.set(_,x),this.size=ue.size,this}a(Pt,"stackSet"),en.prototype.clear=yt,en.prototype.delete=Kt,en.prototype.get=Wt,en.prototype.has=fn,en.prototype.set=Pt;function Qt(_,x){var ue=cr(_),Fe=!ue&&lr(_),ft=!ue&&!Fe&&Sr(_),Xe=!ue&&!Fe&&!ft&&Cn(_),he=ue||Fe||ft||Xe,Ce=he?oe(_.length,String):[],Pe=Ce.length;for(var ze in _)(x||Vt.call(_,ze))&&!(he&&(ze=="length"||ft&&(ze=="offset"||ze=="parent")||Xe&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||xn(ze,Pe)))&&Ce.push(ze);return Ce}a(Qt,"arrayLikeKeys");function ln(_,x){for(var ue=_.length;ue--;)if(Kr(_[ue][0],x))return ue;return-1}a(ln,"assocIndexOf");function _n(_,x,ue){var Fe=x(_);return cr(_)?Fe:ge(Fe,ue(_))}a(_n,"baseGetAllKeys");function jt(_){return _==null?_===void 0?J:ae:rt&&rt in Object(_)?$n(_):gr(_)}a(jt,"baseGetTag");function mn(_){return _r(_)&&jt(_)==I}a(mn,"baseIsArguments");function Mn(_,x,ue,Fe,ft){return _===x?!0:_==null||x==null||!_r(_)&&!_r(x)?_!==_&&x!==x:yn(_,x,ue,Fe,Mn,ft)}a(Mn,"baseIsEqual");function yn(_,x,ue,Fe,ft,Xe){var he=cr(_),Ce=cr(x),Pe=he?f:Qn(_),ze=Ce?f:Qn(x);Pe=Pe==I?S:Pe,ze=ze==I?S:ze;var qe=Pe==S,nt=ze==S,Dt=Pe==ze;if(Dt&&Sr(_)){if(!Sr(x))return!1;he=!0,qe=!1}if(Dt&&!qe)return Xe||(Xe=new en),he||Cn(_)?Nt(_,x,ue,Fe,ft,Xe):mt(_,x,Pe,ue,Fe,ft,Xe);if(!(ue&R)){var wt=qe&&Vt.call(_,"__wrapped__"),Lt=nt&&Vt.call(x,"__wrapped__");if(wt||Lt){var zn=wt?_.value():_,It=Lt?x.value():x;return Xe||(Xe=new en),ft(zn,It,ue,Fe,Xe)}}return Dt?(Xe||(Xe=new en),On(_,x,ue,Fe,ft,Xe)):!1}a(yn,"baseIsEqualDeep");function kn(_){if(!Fr(_)||sr(_))return!1;var x=Lr(_)?Rn:X;return x.test(ur(_))}a(kn,"baseIsNative");function $e(_){return _r(_)&&pr(_.length)&&!!ke[jt(_)]}a($e,"baseIsTypedArray");function Pn(_){if(!or(_))return kt(_);var x=[];for(var ue in Object(_))Vt.call(_,ue)&&ue!="constructor"&&x.push(ue);return x}a(Pn,"baseKeys");function Nt(_,x,ue,Fe,ft,Xe){var he=ue&R,Ce=_.length,Pe=x.length;if(Ce!=Pe&&!(he&&Pe>Ce))return!1;var ze=Xe.get(_);if(ze&&Xe.get(x))return ze==x;var qe=-1,nt=!0,Dt=ue&p?new Un:void 0;for(Xe.set(_,x),Xe.set(x,_);++qe<Ce;){var wt=_[qe],Lt=x[qe];if(Fe)var zn=he?Fe(Lt,wt,qe,x,_,Xe):Fe(wt,Lt,qe,_,x,Xe);if(zn!==void 0){if(zn)continue;nt=!1;break}if(Dt){if(!be(x,function(It,Xn){if(!Oe(Dt,Xn)&&(wt===It||ft(wt,It,ue,Fe,Xe)))return Dt.push(Xn)})){nt=!1;break}}else if(!(wt===Lt||ft(wt,Lt,ue,Fe,Xe))){nt=!1;break}}return Xe.delete(_),Xe.delete(x),nt}a(Nt,"equalArrays");function mt(_,x,ue,Fe,ft,Xe,he){switch(ue){case pe:if(_.byteLength!=x.byteLength||_.byteOffset!=x.byteOffset)return!1;_=_.buffer,x=x.buffer;case ne:return!(_.byteLength!=x.byteLength||!Xe(new Ut(_),new Ut(x)));case H:case $:case z:return Kr(+_,+x);case O:return _.name==x.name&&_.message==x.message;case m:case N:return _==x+"";case G:var Ce=Z;case C:var Pe=Fe&R;if(Ce||(Ce=He),_.size!=x.size&&!Pe)return!1;var ze=he.get(_);if(ze)return ze==x;Fe|=p,he.set(_,x);var qe=Nt(Ce(_),Ce(x),Fe,ft,Xe,he);return he.delete(_),qe;case Y:if(ie)return ie.call(_)==ie.call(x)}return!1}a(mt,"equalByTag");function On(_,x,ue,Fe,ft,Xe){var he=ue&R,Ce=vr(_),Pe=Ce.length,ze=vr(x),qe=ze.length;if(Pe!=qe&&!he)return!1;for(var nt=Pe;nt--;){var Dt=Ce[nt];if(!(he?Dt in x:Vt.call(x,Dt)))return!1}var wt=Xe.get(_);if(wt&&Xe.get(x))return wt==x;var Lt=!0;Xe.set(_,x),Xe.set(x,_);for(var zn=he;++nt<Pe;){Dt=Ce[nt];var It=_[Dt],Xn=x[Dt];if(Fe)var Kn=he?Fe(Xn,It,Dt,x,_,Xe):Fe(It,Xn,Dt,_,x,Xe);if(!(Kn===void 0?It===Xn||ft(It,Xn,ue,Fe,Xe):Kn)){Lt=!1;break}zn||(zn=Dt=="constructor")}if(Lt&&!zn){var Hn=_.constructor,fr=x.constructor;Hn!=fr&&"constructor"in _&&"constructor"in x&&!(typeof Hn=="function"&&Hn instanceof Hn&&typeof fr=="function"&&fr instanceof fr)&&(Lt=!1)}return Xe.delete(_),Xe.delete(x),Lt}a(On,"equalObjects");function vr(_){return _n(_,Nn,br)}a(vr,"getAllKeys");function Bn(_,x){var ue=_.__data__;return Nr(x)?ue[typeof x=="string"?"string":"hash"]:ue.map}a(Bn,"getMapData");function Jn(_,x){var ue=A(_,x);return kn(ue)?ue:void 0}a(Jn,"getNative");function $n(_){var x=Vt.call(_,rt),ue=_[rt];try{_[rt]=void 0;var Fe=!0}catch(Xe){}var ft=an.call(_);return Fe&&(x?_[rt]=ue:delete _[rt]),ft}a($n,"getRawTag");var br=Ht?function(_){return _==null?[]:(_=Object(_),ye(Ht(_),function(x){return St.call(_,x)}))}:pn,Qn=jt;(Ot&&Qn(new Ot(new ArrayBuffer(1)))!=pe||cn&&Qn(new cn)!=G||Sn&&Qn(Sn.resolve())!=k||hr&&Qn(new hr)!=C||Gn&&Qn(new Gn)!=Q)&&(Qn=a(function(_){var x=jt(_),ue=x==S?_.constructor:void 0,Fe=ue?ur(ue):"";if(Fe)switch(Fe){case Tr:return pe;case ar:return G;case Or:return k;case Er:return C;case mr:return Q}return x},"getTag"));function xn(_,x){return x=x==null?K:x,!!x&&(typeof _=="number"||Je.test(_))&&_>-1&&_%1==0&&_<x}a(xn,"isIndex");function Nr(_){var x=typeof _;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?_!=="__proto__":_===null}a(Nr,"isKeyable");function sr(_){return!!qt&&qt in _}a(sr,"isMasked");function or(_){var x=_&&_.constructor,ue=typeof x=="function"&&x.prototype||je;return _===ue}a(or,"isPrototype");function gr(_){return an.call(_)}a(gr,"objectToString");function ur(_){if(_!=null){try{return at.call(_)}catch(x){}try{return _+""}catch(x){}}return""}a(ur,"toSource");function Kr(_,x){return _===x||_!==_&&x!==x}a(Kr,"eq");var lr=mn(function(){return arguments}())?mn:function(_){return _r(_)&&Vt.call(_,"callee")&&!St.call(_,"callee")},cr=Array.isArray;function Ur(_){return _!=null&&pr(_.length)&&!Lr(_)}a(Ur,"isArrayLike");var Sr=Yt||me;function kr(_,x){return Mn(_,x)}a(kr,"isEqual");function Lr(_){if(!Fr(_))return!1;var x=jt(_);return x==W||x==L||x==g||x==P}a(Lr,"isFunction");function pr(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=K}a(pr,"isLength");function Fr(_){var x=typeof _;return _!=null&&(x=="object"||x=="function")}a(Fr,"isObject");function _r(_){return _!=null&&typeof _=="object"}a(_r,"isObjectLike");var Cn=we?Qe(we):$e;function Nn(_){return Ur(_)?Qt(_):Pn(_)}a(Nn,"keys");function pn(){return[]}a(pn,"stubArray");function me(){return!1}a(me,"stubFalse"),Ke.exports=kr},919:(Ke,v,E)=>{"use strict";const T=E(6391),h=E(6232),R=E(6796),p=E(292),K=a(f=>f===""||f==="./","isEmptyString"),I=a((f,g,H)=>{g=[].concat(g),f=[].concat(f);let $=new Set,O=new Set,W=new Set,L=0,G=a(S=>{W.add(S.output),H&&H.onResult&&H.onResult(S)},"onResult");for(let S=0;S<g.length;S++){let k=R(String(g[S]),{...H,onResult:G},!0),P=k.state.negated||k.state.negatedExtglob;P&&L++;for(let m of f){let C=k(m,!0);!(P?!C.isMatch:C.isMatch)||(P?$.add(C.output):($.delete(C.output),O.add(C.output)))}}let ae=(L===g.length?[...W]:[...O]).filter(S=>!$.has(S));if(H&&ae.length===0){if(H.failglob===!0)throw new Error(`No matches found for "${g.join(", ")}"`);if(H.nonull===!0||H.nullglob===!0)return H.unescape?g.map(S=>S.replace(/\\/g,"")):g}return ae},"micromatch");I.match=I,I.matcher=(f,g)=>R(f,g),I.isMatch=(f,g,H)=>R(g,H)(f),I.any=I.isMatch,I.not=(f,g,H={})=>{g=[].concat(g).map(String);let $=new Set,O=[],W=a(G=>{H.onResult&&H.onResult(G),O.push(G.output)},"onResult"),L=new Set(I(f,g,{...H,onResult:W}));for(let G of O)L.has(G)||$.add(G);return[...$]},I.contains=(f,g,H)=>{if(typeof f!="string")throw new TypeError(`Expected a string: "${T.inspect(f)}"`);if(Array.isArray(g))return g.some($=>I.contains(f,$,H));if(typeof g=="string"){if(K(f)||K(g))return!1;if(f.includes(g)||f.startsWith("./")&&f.slice(2).includes(g))return!0}return I.isMatch(f,g,{...H,contains:!0})},I.matchKeys=(f,g,H)=>{if(!p.isObject(f))throw new TypeError("Expected the first argument to be an object");let $=I(Object.keys(f),g,H),O={};for(let W of $)O[W]=f[W];return O},I.some=(f,g,H)=>{let $=[].concat(f);for(let O of[].concat(g)){let W=R(String(O),H);if($.some(L=>W(L)))return!0}return!1},I.every=(f,g,H)=>{let $=[].concat(f);for(let O of[].concat(g)){let W=R(String(O),H);if(!$.every(L=>W(L)))return!1}return!0},I.all=(f,g,H)=>{if(typeof f!="string")throw new TypeError(`Expected a string: "${T.inspect(f)}"`);return[].concat(g).every($=>R($,H)(f))},I.capture=(f,g,H)=>{let $=p.isWindows(H),W=R.makeRe(String(f),{...H,capture:!0}).exec($?p.toPosixSlashes(g):g);if(W)return W.slice(1).map(L=>L===void 0?"":L)},I.makeRe=(...f)=>R.makeRe(...f),I.scan=(...f)=>R.scan(...f),I.parse=(f,g)=>{let H=[];for(let $ of[].concat(f||[]))for(let O of h(String($),g))H.push(R.parse(O,g));return H},I.braces=(f,g)=>{if(typeof f!="string")throw new TypeError("Expected a string");return g&&g.nobrace===!0||!/\{.*\}/.test(f)?[f]:h(f,g)},I.braceExpand=(f,g)=>{if(typeof f!="string")throw new TypeError("Expected a string");return I.braces(f,{...g,expand:!0})},Ke.exports=I},6796:(Ke,v,E)=>{"use strict";Ke.exports=E(5761)},3889:(Ke,v,E)=>{"use strict";const T=E(6470),h="\\\\/",R=`[^${h}]`,p="\\.",K="\\+",I="\\?",f="\\/",g="(?=.)",H="[^/]",$=`(?:${f}|$)`,O=`(?:^|${f})`,W=`${p}{1,2}${$}`,L=`(?!${p})`,G=`(?!${O}${W})`,z=`(?!${p}{0,1}${$})`,ae=`(?!${W})`,S=`[^.${f}]`,k=`${H}*?`,P={DOT_LITERAL:p,PLUS_LITERAL:K,QMARK_LITERAL:I,SLASH_LITERAL:f,ONE_CHAR:g,QMARK:H,END_ANCHOR:$,DOTS_SLASH:W,NO_DOT:L,NO_DOTS:G,NO_DOT_SLASH:z,NO_DOTS_SLASH:ae,QMARK_NO_DOT:S,STAR:k,START_ANCHOR:O},m={...P,SLASH_LITERAL:`[${h}]`,QMARK:R,STAR:`${R}*?`,DOTS_SLASH:`${p}{1,2}(?:[${h}]|$)`,NO_DOT:`(?!${p})`,NO_DOTS:`(?!(?:^|[${h}])${p}{1,2}(?:[${h}]|$))`,NO_DOT_SLASH:`(?!${p}{0,1}(?:[${h}]|$))`,NO_DOTS_SLASH:`(?!${p}{1,2}(?:[${h}]|$))`,QMARK_NO_DOT:`[^.${h}]`,START_ANCHOR:`(?:^|[${h}])`,END_ANCHOR:`(?:[${h}]|$)`},C={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ke.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:C,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:T.sep,extglobChars(N){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${N.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(N){return N===!0?m:P}}},3969:(Ke,v,E)=>{"use strict";const T=E(3889),h=E(292),{MAX_LENGTH:R,POSIX_REGEX_SOURCE:p,REGEX_NON_SPECIAL_CHARS:K,REGEX_SPECIAL_CHARS_BACKREF:I,REPLACEMENTS:f}=T,g=a((O,W)=>{if(typeof W.expandRange=="function")return W.expandRange(...O,W);O.sort();const L=`[${O.join("-")}]`;try{new RegExp(L)}catch(G){return O.map(z=>h.escapeRegex(z)).join("..")}return L},"expandRange"),H=a((O,W)=>`Missing ${O}: "${W}" - use "\\\\${W}" to match literal characters`,"syntaxError"),$=a((O,W)=>{if(typeof O!="string")throw new TypeError("Expected a string");O=f[O]||O;const L={...W},G=typeof L.maxLength=="number"?Math.min(R,L.maxLength):R;let z=O.length;if(z>G)throw new SyntaxError(`Input length: ${z}, exceeds maximum allowed length: ${G}`);const ae={type:"bos",value:"",output:L.prepend||""},S=[ae],k=L.capture?"":"?:",P=h.isWindows(W),m=T.globChars(P),C=T.extglobChars(m),{DOT_LITERAL:N,PLUS_LITERAL:Y,SLASH_LITERAL:J,ONE_CHAR:Q,DOTS_SLASH:ne,NO_DOT:pe,NO_DOT_SLASH:q,NO_DOTS_SLASH:U,QMARK:se,QMARK_NO_DOT:De,STAR:Ae,START_ANCHOR:re}=m,M=a(A=>`(${k}(?:(?!${re}${A.dot?ne:N}).)*?)`,"globstar"),ce=L.dot?"":pe,Se=L.dot?se:De;let Re=L.bash===!0?M(L):Ae;L.capture&&(Re=`(${Re})`),typeof L.noext=="boolean"&&(L.noextglob=L.noext);const X={input:O,index:-1,start:0,dot:L.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:S};O=h.removePrefix(O,X),z=O.length;const Je=[],ke=[],Be=[];let B=ae,V;const ee=a(()=>X.index===z-1,"eos"),le=X.peek=(A=1)=>O[X.index+A],Me=X.advance=()=>O[++X.index]||"",Ye=a(()=>O.slice(X.index+1),"remaining"),ve=a((A="",Z=0)=>{X.consumed+=A,X.index+=Z},"consume"),we=a(A=>{X.output+=A.output!=null?A.output:A.value,ve(A.value)},"append"),ye=a(()=>{let A=1;for(;le()==="!"&&(le(2)!=="("||le(3)==="?");)Me(),X.start++,A++;return A%2==0?!1:(X.negated=!0,X.start++,!0)},"negate"),ge=a(A=>{X[A]++,Be.push(A)},"increment"),be=a(A=>{X[A]--,Be.pop()},"decrement"),oe=a(A=>{if(B.type==="globstar"){const Z=X.braces>0&&(A.type==="comma"||A.type==="brace"),fe=A.extglob===!0||Je.length&&(A.type==="pipe"||A.type==="paren");A.type!=="slash"&&A.type!=="paren"&&!Z&&!fe&&(X.output=X.output.slice(0,-B.output.length),B.type="star",B.value="*",B.output=Re,X.output+=B.output)}if(Je.length&&A.type!=="paren"&&(Je[Je.length-1].inner+=A.value),(A.value||A.output)&&we(A),B&&B.type==="text"&&A.type==="text"){B.value+=A.value,B.output=(B.output||"")+A.value;return}A.prev=B,S.push(A),B=A},"push"),Qe=a((A,Z)=>{const fe={...C[Z],conditions:1,inner:""};fe.prev=B,fe.parens=X.parens,fe.output=X.output;const He=(L.capture?"(":"")+fe.open;ge("parens"),oe({type:A,value:Z,output:X.output?"":Q}),oe({type:"paren",extglob:!0,value:Me(),output:He}),Je.push(fe)},"extglobOpen"),Oe=a(A=>{let Z=A.close+(L.capture?")":""),fe;if(A.type==="negate"){let He=Re;if(A.inner&&A.inner.length>1&&A.inner.includes("/")&&(He=M(L)),(He!==Re||ee()||/^\)+$/.test(Ye()))&&(Z=A.close=`)$))${He}`),A.inner.includes("*")&&(fe=Ye())&&/^\.[^\\/.]+$/.test(fe)){const Ge=$(fe,{...W,fastpaths:!1}).output;Z=A.close=`)${Ge})${He})`}A.prev.type==="bos"&&(X.negatedExtglob=!0)}oe({type:"paren",extglob:!0,value:V,output:Z}),be("parens")},"extglobClose");if(L.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(O)){let A=!1,Z=O.replace(I,(fe,He,Ge,dt,je,_t)=>dt==="\\"?(A=!0,fe):dt==="?"?He?He+dt+(je?se.repeat(je.length):""):_t===0?Se+(je?se.repeat(je.length):""):se.repeat(Ge.length):dt==="."?N.repeat(Ge.length):dt==="*"?He?He+dt+(je?Re:""):Re:He?fe:`\\${fe}`);return A===!0&&(L.unescape===!0?Z=Z.replace(/\\/g,""):Z=Z.replace(/\\+/g,fe=>fe.length%2==0?"\\\\":fe?"\\":"")),Z===O&&L.contains===!0?(X.output=O,X):(X.output=h.wrapOutput(Z,X,W),X)}for(;!ee();){if(V=Me(),V==="\0")continue;if(V==="\\"){const fe=le();if(fe==="/"&&L.bash!==!0||fe==="."||fe===";")continue;if(!fe){V+="\\",oe({type:"text",value:V});continue}const He=/^\\+/.exec(Ye());let Ge=0;if(He&&He[0].length>2&&(Ge=He[0].length,X.index+=Ge,Ge%2!=0&&(V+="\\")),L.unescape===!0?V=Me():V+=Me(),X.brackets===0){oe({type:"text",value:V});continue}}if(X.brackets>0&&(V!=="]"||B.value==="["||B.value==="[^")){if(L.posix!==!1&&V===":"){const fe=B.value.slice(1);if(fe.includes("[")&&(B.posix=!0,fe.includes(":"))){const He=B.value.lastIndexOf("["),Ge=B.value.slice(0,He),dt=B.value.slice(He+2),je=p[dt];if(je){B.value=Ge+je,X.backtrack=!0,Me(),!ae.output&&S.indexOf(B)===1&&(ae.output=Q);continue}}}(V==="["&&le()!==":"||V==="-"&&le()==="]")&&(V=`\\${V}`),V==="]"&&(B.value==="["||B.value==="[^")&&(V=`\\${V}`),L.posix===!0&&V==="!"&&B.value==="["&&(V="^"),B.value+=V,we({value:V});continue}if(X.quotes===1&&V!=='"'){V=h.escapeRegex(V),B.value+=V,we({value:V});continue}if(V==='"'){X.quotes=X.quotes===1?0:1,L.keepQuotes===!0&&oe({type:"text",value:V});continue}if(V==="("){ge("parens"),oe({type:"paren",value:V});continue}if(V===")"){if(X.parens===0&&L.strictBrackets===!0)throw new SyntaxError(H("opening","("));const fe=Je[Je.length-1];if(fe&&X.parens===fe.parens+1){Oe(Je.pop());continue}oe({type:"paren",value:V,output:X.parens?")":"\\)"}),be("parens");continue}if(V==="["){if(L.nobracket===!0||!Ye().includes("]")){if(L.nobracket!==!0&&L.strictBrackets===!0)throw new SyntaxError(H("closing","]"));V=`\\${V}`}else ge("brackets");oe({type:"bracket",value:V});continue}if(V==="]"){if(L.nobracket===!0||B&&B.type==="bracket"&&B.value.length===1){oe({type:"text",value:V,output:`\\${V}`});continue}if(X.brackets===0){if(L.strictBrackets===!0)throw new SyntaxError(H("opening","["));oe({type:"text",value:V,output:`\\${V}`});continue}be("brackets");const fe=B.value.slice(1);if(B.posix!==!0&&fe[0]==="^"&&!fe.includes("/")&&(V=`/${V}`),B.value+=V,we({value:V}),L.literalBrackets===!1||h.hasRegexChars(fe))continue;const He=h.escapeRegex(B.value);if(X.output=X.output.slice(0,-B.value.length),L.literalBrackets===!0){X.output+=He,B.value=He;continue}B.value=`(${k}${He}|${B.value})`,X.output+=B.value;continue}if(V==="{"&&L.nobrace!==!0){ge("braces");const fe={type:"brace",value:V,output:"(",outputIndex:X.output.length,tokensIndex:X.tokens.length};ke.push(fe),oe(fe);continue}if(V==="}"){const fe=ke[ke.length-1];if(L.nobrace===!0||!fe){oe({type:"text",value:V,output:V});continue}let He=")";if(fe.dots===!0){const Ge=S.slice(),dt=[];for(let je=Ge.length-1;je>=0&&(S.pop(),Ge[je].type!=="brace");je--)Ge[je].type!=="dots"&&dt.unshift(Ge[je].value);He=g(dt,L),X.backtrack=!0}if(fe.comma!==!0&&fe.dots!==!0){const Ge=X.output.slice(0,fe.outputIndex),dt=X.tokens.slice(fe.tokensIndex);fe.value=fe.output="\\{",V=He="\\}",X.output=Ge;for(const je of dt)X.output+=je.output||je.value}oe({type:"brace",value:V,output:He}),be("braces"),ke.pop();continue}if(V==="|"){Je.length>0&&Je[Je.length-1].conditions++,oe({type:"text",value:V});continue}if(V===","){let fe=V;const He=ke[ke.length-1];He&&Be[Be.length-1]==="braces"&&(He.comma=!0,fe="|"),oe({type:"comma",value:V,output:fe});continue}if(V==="/"){if(B.type==="dot"&&X.index===X.start+1){X.start=X.index+1,X.consumed="",X.output="",S.pop(),B=ae;continue}oe({type:"slash",value:V,output:J});continue}if(V==="."){if(X.braces>0&&B.type==="dot"){B.value==="."&&(B.output=N);const fe=ke[ke.length-1];B.type="dots",B.output+=V,B.value+=V,fe.dots=!0;continue}if(X.braces+X.parens===0&&B.type!=="bos"&&B.type!=="slash"){oe({type:"text",value:V,output:N});continue}oe({type:"dot",value:V,output:N});continue}if(V==="?"){if(!(B&&B.value==="(")&&L.noextglob!==!0&&le()==="("&&le(2)!=="?"){Qe("qmark",V);continue}if(B&&B.type==="paren"){const He=le();let Ge=V;if(He==="<"&&!h.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(B.value==="("&&!/[!=<:]/.test(He)||He==="<"&&!/<([!=]|\w+>)/.test(Ye()))&&(Ge=`\\${V}`),oe({type:"text",value:V,output:Ge});continue}if(L.dot!==!0&&(B.type==="slash"||B.type==="bos")){oe({type:"qmark",value:V,output:De});continue}oe({type:"qmark",value:V,output:se});continue}if(V==="!"){if(L.noextglob!==!0&&le()==="("&&(le(2)!=="?"||!/[!=<:]/.test(le(3)))){Qe("negate",V);continue}if(L.nonegate!==!0&&X.index===0){ye();continue}}if(V==="+"){if(L.noextglob!==!0&&le()==="("&&le(2)!=="?"){Qe("plus",V);continue}if(B&&B.value==="("||L.regex===!1){oe({type:"plus",value:V,output:Y});continue}if(B&&(B.type==="bracket"||B.type==="paren"||B.type==="brace")||X.parens>0){oe({type:"plus",value:V});continue}oe({type:"plus",value:Y});continue}if(V==="@"){if(L.noextglob!==!0&&le()==="("&&le(2)!=="?"){oe({type:"at",extglob:!0,value:V,output:""});continue}oe({type:"text",value:V});continue}if(V!=="*"){(V==="$"||V==="^")&&(V=`\\${V}`);const fe=K.exec(Ye());fe&&(V+=fe[0],X.index+=fe[0].length),oe({type:"text",value:V});continue}if(B&&(B.type==="globstar"||B.star===!0)){B.type="star",B.star=!0,B.value+=V,B.output=Re,X.backtrack=!0,X.globstar=!0,ve(V);continue}let A=Ye();if(L.noextglob!==!0&&/^\([^?]/.test(A)){Qe("star",V);continue}if(B.type==="star"){if(L.noglobstar===!0){ve(V);continue}const fe=B.prev,He=fe.prev,Ge=fe.type==="slash"||fe.type==="bos",dt=He&&(He.type==="star"||He.type==="globstar");if(L.bash===!0&&(!Ge||A[0]&&A[0]!=="/")){oe({type:"star",value:V,output:""});continue}const je=X.braces>0&&(fe.type==="comma"||fe.type==="brace"),_t=Je.length&&(fe.type==="pipe"||fe.type==="paren");if(!Ge&&fe.type!=="paren"&&!je&&!_t){oe({type:"star",value:V,output:""});continue}for(;A.slice(0,3)==="/**";){const at=O[X.index+4];if(at&&at!=="/")break;A=A.slice(3),ve("/**",3)}if(fe.type==="bos"&&ee()){B.type="globstar",B.value+=V,B.output=M(L),X.output=B.output,X.globstar=!0,ve(V);continue}if(fe.type==="slash"&&fe.prev.type!=="bos"&&!dt&&ee()){X.output=X.output.slice(0,-(fe.output+B.output).length),fe.output=`(?:${fe.output}`,B.type="globstar",B.output=M(L)+(L.strictSlashes?")":"|$)"),B.value+=V,X.globstar=!0,X.output+=fe.output+B.output,ve(V);continue}if(fe.type==="slash"&&fe.prev.type!=="bos"&&A[0]==="/"){const at=A[1]!==void 0?"|$":"";X.output=X.output.slice(0,-(fe.output+B.output).length),fe.output=`(?:${fe.output}`,B.type="globstar",B.output=`${M(L)}${J}|${J}${at})`,B.value+=V,X.output+=fe.output+B.output,X.globstar=!0,ve(V+Me()),oe({type:"slash",value:"/",output:""});continue}if(fe.type==="bos"&&A[0]==="/"){B.type="globstar",B.value+=V,B.output=`(?:^|${J}|${M(L)}${J})`,X.output=B.output,X.globstar=!0,ve(V+Me()),oe({type:"slash",value:"/",output:""});continue}X.output=X.output.slice(0,-B.output.length),B.type="globstar",B.output=M(L),B.value+=V,X.output+=B.output,X.globstar=!0,ve(V);continue}const Z={type:"star",value:V,output:Re};if(L.bash===!0){Z.output=".*?",(B.type==="bos"||B.type==="slash")&&(Z.output=ce+Z.output),oe(Z);continue}if(B&&(B.type==="bracket"||B.type==="paren")&&L.regex===!0){Z.output=V,oe(Z);continue}(X.index===X.start||B.type==="slash"||B.type==="dot")&&(B.type==="dot"?(X.output+=q,B.output+=q):L.dot===!0?(X.output+=U,B.output+=U):(X.output+=ce,B.output+=ce),le()!=="*"&&(X.output+=Q,B.output+=Q)),oe(Z)}for(;X.brackets>0;){if(L.strictBrackets===!0)throw new SyntaxError(H("closing","]"));X.output=h.escapeLast(X.output,"["),be("brackets")}for(;X.parens>0;){if(L.strictBrackets===!0)throw new SyntaxError(H("closing",")"));X.output=h.escapeLast(X.output,"("),be("parens")}for(;X.braces>0;){if(L.strictBrackets===!0)throw new SyntaxError(H("closing","}"));X.output=h.escapeLast(X.output,"{"),be("braces")}if(L.strictSlashes!==!0&&(B.type==="star"||B.type==="bracket")&&oe({type:"maybe_slash",value:"",output:`${J}?`}),X.backtrack===!0){X.output="";for(const A of X.tokens)X.output+=A.output!=null?A.output:A.value,A.suffix&&(X.output+=A.suffix)}return X},"parse");$.fastpaths=(O,W)=>{const L={...W},G=typeof L.maxLength=="number"?Math.min(R,L.maxLength):R,z=O.length;if(z>G)throw new SyntaxError(`Input length: ${z}, exceeds maximum allowed length: ${G}`);O=f[O]||O;const ae=h.isWindows(W),{DOT_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:P,DOTS_SLASH:m,NO_DOT:C,NO_DOTS:N,NO_DOTS_SLASH:Y,STAR:J,START_ANCHOR:Q}=T.globChars(ae),ne=L.dot?N:C,pe=L.dot?Y:C,q=L.capture?"":"?:",U={negated:!1,prefix:""};let se=L.bash===!0?".*?":J;L.capture&&(se=`(${se})`);const De=a(ce=>ce.noglobstar===!0?se:`(${q}(?:(?!${Q}${ce.dot?m:S}).)*?)`,"globstar"),Ae=a(ce=>{switch(ce){case"*":return`${ne}${P}${se}`;case".*":return`${S}${P}${se}`;case"*.*":return`${ne}${se}${S}${P}${se}`;case"*/*":return`${ne}${se}${k}${P}${pe}${se}`;case"**":return ne+De(L);case"**/*":return`(?:${ne}${De(L)}${k})?${pe}${P}${se}`;case"**/*.*":return`(?:${ne}${De(L)}${k})?${pe}${se}${S}${P}${se}`;case"**/.*":return`(?:${ne}${De(L)}${k})?${S}${P}${se}`;default:{const Se=/^(.*?)\.(\w+)$/.exec(ce);if(!Se)return;const Re=Ae(Se[1]);return Re?Re+S+Se[2]:void 0}}},"create"),re=h.removePrefix(O,U);let M=Ae(re);return M&&L.strictSlashes!==!0&&(M+=`${k}?`),M},Ke.exports=$},5761:(Ke,v,E)=>{"use strict";const T=E(6470),h=E(9826),R=E(3969),p=E(292),K=E(3889),I=a(g=>g&&typeof g=="object"&&!Array.isArray(g),"isObject"),f=a((g,H,$=!1)=>{if(Array.isArray(g)){const k=g.map(m=>f(m,H,$));return a(m=>{for(const C of k){const N=C(m);if(N)return N}return!1},"arrayMatcher")}const O=I(g)&&g.tokens&&g.input;if(g===""||typeof g!="string"&&!O)throw new TypeError("Expected pattern to be a non-empty string");const W=H||{},L=p.isWindows(H),G=O?f.compileRe(g,H):f.makeRe(g,H,!1,!0),z=G.state;delete G.state;let ae=a(()=>!1,"isIgnored");if(W.ignore){const k={...H,ignore:null,onMatch:null,onResult:null};ae=f(W.ignore,k,$)}const S=a((k,P=!1)=>{const{isMatch:m,match:C,output:N}=f.test(k,G,H,{glob:g,posix:L}),Y={glob:g,state:z,regex:G,posix:L,input:k,output:N,match:C,isMatch:m};return typeof W.onResult=="function"&&W.onResult(Y),m===!1?(Y.isMatch=!1,P?Y:!1):ae(k)?(typeof W.onIgnore=="function"&&W.onIgnore(Y),Y.isMatch=!1,P?Y:!1):(typeof W.onMatch=="function"&&W.onMatch(Y),P?Y:!0)},"matcher");return $&&(S.state=z),S},"picomatch");f.test=(g,H,$,{glob:O,posix:W}={})=>{if(typeof g!="string")throw new TypeError("Expected input to be a string");if(g==="")return{isMatch:!1,output:""};const L=$||{},G=L.format||(W?p.toPosixSlashes:null);let z=g===O,ae=z&&G?G(g):g;return z===!1&&(ae=G?G(g):g,z=ae===O),(z===!1||L.capture===!0)&&(L.matchBase===!0||L.basename===!0?z=f.matchBase(g,H,$,W):z=H.exec(ae)),{isMatch:Boolean(z),match:z,output:ae}},f.matchBase=(g,H,$,O=p.isWindows($))=>(H instanceof RegExp?H:f.makeRe(H,$)).test(T.basename(g)),f.isMatch=(g,H,$)=>f(H,$)(g),f.parse=(g,H)=>Array.isArray(g)?g.map($=>f.parse($,H)):R(g,{...H,fastpaths:!1}),f.scan=(g,H)=>h(g,H),f.compileRe=(g,H,$=!1,O=!1)=>{if($===!0)return g.output;const W=H||{},L=W.contains?"":"^",G=W.contains?"":"$";let z=`${L}(?:${g.output})${G}`;g&&g.negated===!0&&(z=`^(?!${z}).*$`);const ae=f.toRegex(z,H);return O===!0&&(ae.state=g),ae},f.makeRe=(g,H={},$=!1,O=!1)=>{if(!g||typeof g!="string")throw new TypeError("Expected a non-empty string");let W={negated:!1,fastpaths:!0};return H.fastpaths!==!1&&(g[0]==="."||g[0]==="*")&&(W.output=R.fastpaths(g,H)),W.output||(W=R(g,H)),f.compileRe(W,H,$,O)},f.toRegex=(g,H)=>{try{const $=H||{};return new RegExp(g,$.flags||($.nocase?"i":""))}catch($){if(H&&H.debug===!0)throw $;return/$^/}},f.constants=K,Ke.exports=f},9826:(Ke,v,E)=>{"use strict";const T=E(292),{CHAR_ASTERISK:h,CHAR_AT:R,CHAR_BACKWARD_SLASH:p,CHAR_COMMA:K,CHAR_DOT:I,CHAR_EXCLAMATION_MARK:f,CHAR_FORWARD_SLASH:g,CHAR_LEFT_CURLY_BRACE:H,CHAR_LEFT_PARENTHESES:$,CHAR_LEFT_SQUARE_BRACKET:O,CHAR_PLUS:W,CHAR_QUESTION_MARK:L,CHAR_RIGHT_CURLY_BRACE:G,CHAR_RIGHT_PARENTHESES:z,CHAR_RIGHT_SQUARE_BRACKET:ae}=E(3889),S=a(m=>m===g||m===p,"isPathSeparator"),k=a(m=>{m.isPrefix!==!0&&(m.depth=m.isGlobstar?1/0:1)},"depth"),P=a((m,C)=>{const N=C||{},Y=m.length-1,J=N.parts===!0||N.scanToEnd===!0,Q=[],ne=[],pe=[];let q=m,U=-1,se=0,De=0,Ae=!1,re=!1,M=!1,ce=!1,Se=!1,Re=!1,X=!1,Je=!1,ke=!1,Be=!1,B=0,V,ee,le={value:"",depth:0,isGlob:!1};const Me=a(()=>U>=Y,"eos"),Ye=a(()=>q.charCodeAt(U+1),"peek"),ve=a(()=>(V=ee,q.charCodeAt(++U)),"advance");for(;U<Y;){ee=ve();let oe;if(ee===p){X=le.backslashes=!0,ee=ve(),ee===H&&(Re=!0);continue}if(Re===!0||ee===H){for(B++;Me()!==!0&&(ee=ve());){if(ee===p){X=le.backslashes=!0,ve();continue}if(ee===H){B++;continue}if(Re!==!0&&ee===I&&(ee=ve())===I){if(Ae=le.isBrace=!0,M=le.isGlob=!0,Be=!0,J===!0)continue;break}if(Re!==!0&&ee===K){if(Ae=le.isBrace=!0,M=le.isGlob=!0,Be=!0,J===!0)continue;break}if(ee===G&&(B--,B===0)){Re=!1,Ae=le.isBrace=!0,Be=!0;break}}if(J===!0)continue;break}if(ee===g){if(Q.push(U),ne.push(le),le={value:"",depth:0,isGlob:!1},Be===!0)continue;if(V===I&&U===se+1){se+=2;continue}De=U+1;continue}if(N.noext!==!0&&(ee===W||ee===R||ee===h||ee===L||ee===f)===!0&&Ye()===$){if(M=le.isGlob=!0,ce=le.isExtglob=!0,Be=!0,ee===f&&U===se&&(ke=!0),J===!0){for(;Me()!==!0&&(ee=ve());){if(ee===p){X=le.backslashes=!0,ee=ve();continue}if(ee===z){M=le.isGlob=!0,Be=!0;break}}continue}break}if(ee===h){if(V===h&&(Se=le.isGlobstar=!0),M=le.isGlob=!0,Be=!0,J===!0)continue;break}if(ee===L){if(M=le.isGlob=!0,Be=!0,J===!0)continue;break}if(ee===O){for(;Me()!==!0&&(oe=ve());){if(oe===p){X=le.backslashes=!0,ve();continue}if(oe===ae){re=le.isBracket=!0,M=le.isGlob=!0,Be=!0;break}}if(J===!0)continue;break}if(N.nonegate!==!0&&ee===f&&U===se){Je=le.negated=!0,se++;continue}if(N.noparen!==!0&&ee===$){if(M=le.isGlob=!0,J===!0){for(;Me()!==!0&&(ee=ve());){if(ee===$){X=le.backslashes=!0,ee=ve();continue}if(ee===z){Be=!0;break}}continue}break}if(M===!0){if(Be=!0,J===!0)continue;break}}N.noext===!0&&(ce=!1,M=!1);let we=q,ye="",ge="";se>0&&(ye=q.slice(0,se),q=q.slice(se),De-=se),we&&M===!0&&De>0?(we=q.slice(0,De),ge=q.slice(De)):M===!0?(we="",ge=q):we=q,we&&we!==""&&we!=="/"&&we!==q&&S(we.charCodeAt(we.length-1))&&(we=we.slice(0,-1)),N.unescape===!0&&(ge&&(ge=T.removeBackslashes(ge)),we&&X===!0&&(we=T.removeBackslashes(we)));const be={prefix:ye,input:m,start:se,base:we,glob:ge,isBrace:Ae,isBracket:re,isGlob:M,isExtglob:ce,isGlobstar:Se,negated:Je,negatedExtglob:ke};if(N.tokens===!0&&(be.maxDepth=0,S(ee)||ne.push(le),be.tokens=ne),N.parts===!0||N.tokens===!0){let oe;for(let Qe=0;Qe<Q.length;Qe++){const Oe=oe?oe+1:se,A=Q[Qe],Z=m.slice(Oe,A);N.tokens&&(Qe===0&&se!==0?(ne[Qe].isPrefix=!0,ne[Qe].value=ye):ne[Qe].value=Z,k(ne[Qe]),be.maxDepth+=ne[Qe].depth),(Qe!==0||Z!=="")&&pe.push(Z),oe=A}if(oe&&oe+1<m.length){const Qe=m.slice(oe+1);pe.push(Qe),N.tokens&&(ne[ne.length-1].value=Qe,k(ne[ne.length-1]),be.maxDepth+=ne[ne.length-1].depth)}be.slashes=Q,be.parts=pe}return be},"scan");Ke.exports=P},292:(Ke,v,E)=>{"use strict";var T=E(6038);const h=E(6470),R=T.platform==="win32",{REGEX_BACKSLASH:p,REGEX_REMOVE_BACKSLASH:K,REGEX_SPECIAL_CHARS:I,REGEX_SPECIAL_CHARS_GLOBAL:f}=E(3889);v.isObject=g=>g!==null&&typeof g=="object"&&!Array.isArray(g),v.hasRegexChars=g=>I.test(g),v.isRegexChar=g=>g.length===1&&v.hasRegexChars(g),v.escapeRegex=g=>g.replace(f,"\\$1"),v.toPosixSlashes=g=>g.replace(p,"/"),v.removeBackslashes=g=>g.replace(K,H=>H==="\\"?"":H),v.supportsLookbehinds=()=>{const g=T.version.slice(1).split(".").map(Number);return g.length===3&&g[0]>=9||g[0]===8&&g[1]>=10},v.isWindows=g=>g&&typeof g.windows=="boolean"?g.windows:R===!0||h.sep==="\\",v.escapeLast=(g,H,$)=>{const O=g.lastIndexOf(H,$);return O===-1?g:g[O-1]==="\\"?v.escapeLast(g,H,O-1):`${g.slice(0,O)}\\${g.slice(O)}`},v.removePrefix=(g,H={})=>{let $=g;return $.startsWith("./")&&($=$.slice(2),H.prefix="./"),$},v.wrapOutput=(g,H={},$={})=>{const O=$.contains?"":"^",W=$.contains?"":"$";let L=`${O}(?:${g})${W}`;return H.negated===!0&&(L=`(?:^(?!${L}).*$)`),L}},6038:Ke=>{var v=Ke.exports={},E,T;function h(){throw new Error("setTimeout has not been defined")}a(h,"defaultSetTimout");function R(){throw new Error("clearTimeout has not been defined")}a(R,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=h}catch(G){E=h}try{typeof clearTimeout=="function"?T=clearTimeout:T=R}catch(G){T=R}}();function p(G){if(E===setTimeout)return setTimeout(G,0);if((E===h||!E)&&setTimeout)return E=setTimeout,setTimeout(G,0);try{return E(G,0)}catch(z){try{return E.call(null,G,0)}catch(ae){return E.call(this,G,0)}}}a(p,"runTimeout");function K(G){if(T===clearTimeout)return clearTimeout(G);if((T===R||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(G);try{return T(G)}catch(z){try{return T.call(null,G)}catch(ae){return T.call(this,G)}}}a(K,"runClearTimeout");var I=[],f=!1,g,H=-1;function $(){!f||!g||(f=!1,g.length?I=g.concat(I):H=-1,I.length&&O())}a($,"cleanUpNextTick");function O(){if(!f){var G=p($);f=!0;for(var z=I.length;z;){for(g=I,I=[];++H<z;)g&&g[H].run();H=-1,z=I.length}g=null,f=!1,K(G)}}a(O,"drainQueue"),v.nextTick=function(G){var z=new Array(arguments.length-1);if(arguments.length>1)for(var ae=1;ae<arguments.length;ae++)z[ae-1]=arguments[ae];I.push(new W(G,z)),I.length===1&&!f&&p(O)};function W(G,z){this.fun=G,this.array=z}a(W,"Item"),W.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function L(){}a(L,"noop"),v.on=L,v.addListener=L,v.once=L,v.off=L,v.removeListener=L,v.removeAllListeners=L,v.emit=L,v.prependListener=L,v.prependOnceListener=L,v.listeners=function(G){return[]},v.binding=function(G){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(G){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},5431:(Ke,v,E)=>{"use strict";Ke.exports=E(7905)},7905:(Ke,v,E)=>{"use strict";var T=E(1417);function h(){return!0}a(h,"_toTrue");function R(){return!1}a(R,"_toFalse");function p(z){return z.then(h,R)}a(p,"pSuccess");function K(z){return z}a(K,"_pass");function I(z){throw z}a(I,"_throw");function f(z){return z.then(K,I)}a(f,"ensurePromise");function g(z,ae){return{result:z,args:ae,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(g,"createCacheObj");function H(z,ae){!z[ae]||(clearTimeout(z[ae].expire_id),clearTimeout(z[ae].prefetch_id),delete z[ae])}a(H,"destroyCacheObj");function $(z,ae){!z[ae]||(z[ae].need_prefetch=!0)}a($,"askPrefetch");function O(z){var ae=z[0],S=z[1],k=z[2],P=z[3];if(!!S[k]){if(ae){if(!P.maxAge)return;S[k].expire_id=setTimeout(H,P.maxAge,S,k),S[k].prefetch_id=setTimeout($,P.maxAge*.7,S,k),S[k].expire_id.unref&&S[k].expire_id.unref(),S[k].prefetch_id.unref&&S[k].prefetch_id.unref();return}if(!P.maxErrorAge){H(S,k);return}S[k].expire_id=setTimeout(H,P.maxErrorAge,S,k),S[k].expire_id.unref&&S[k].expire_id.unref()}}a(O,"_track_proceed");function W(z,ae,S){var k=z[ae].result.constructor;k.all([p(z[ae].result),z,ae,S]).then(O)}a(W,"trackCacheObj");function L(z){var ae=z[0],S=z[1],k=z[2],P=z[3],m=z[4][0];!S[k]||!ae||(S[k].result=m,clearTimeout(S[k].expire_id),W(S,k,P))}a(L,"_prefetch_proceed");function G(z,ae,S){var k=f(S.fn.apply(null,z[ae].args)),P=k.constructor;z[ae].need_prefetch=!1,P.all([p(k),z,ae,S,[k]]).then(L)}a(G,"doPrefetch"),Ke.exports=a(function(ae,S){var k={},P=S||{},m=T(P.resolve),C={fn:ae,maxAge:P.maxAge||0,maxErrorAge:P.maxErrorAge||0};function N(){for(var Y=new Array(arguments.length),J=0;J<Y.length;J++)Y[J]=arguments[J];var Q=m(Y);return k[Q]?k[Q].need_prefetch&&G(k,Q,C):(k[Q]=g(f(C.fn.apply(null,Y)),C.maxAge||C.maxErrorAge?Y:null),W(k,Q,C)),k[Q].result}return a(N,"memoizedFn"),N.clear=function(){var Y=Object.keys(k);return Y.forEach(function(J){H(k,J)}),Y.length},N},"promiseMemoize")},1417:Ke=>{"use strict";var v={simple:function(T){return T.length?T.join(""):""},json:function(T){if(!T.length)return"";for(var h=[],R=T.length-1;R>=0;R--)h.push(JSON.stringify(T[R]));return h.join("")}};function E(T){return T.forEach(function(h){if(typeof h=="string"&&!v.hasOwnProperty(h))throw new Error('promise-memoize: unknown value "'+h+'" in resolve option')}),function(h){var R=Math.min(T.length,h.length);if(!R)return"";for(var p=[],K=0;K<R;K++)typeof T[K]=="string"?p.push(v[T[K]]([h[K]])):p.push(T[K](h[K]));return p.join("")}}a(E,"createFlexResolver"),Ke.exports=a(function(h){if(typeof h=="undefined")return v.simple;if(typeof h=="string"&&v.hasOwnProperty(h))return v[h];if(Array.isArray(h))return E(h);if(Object.prototype.toString.call(h)==="[object Function]")return h;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(Ke,v,E)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const T=E(3338),h=a((S,k,P)=>{if(T(S)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(k===void 0||S===k)return String(S);if(T(k)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let m={relaxZeros:!0,...P};typeof m.strictZeros=="boolean"&&(m.relaxZeros=m.strictZeros===!1);let C=String(m.relaxZeros),N=String(m.shorthand),Y=String(m.capture),J=String(m.wrap),Q=S+":"+k+"="+C+N+Y+J;if(h.cache.hasOwnProperty(Q))return h.cache[Q].result;let ne=Math.min(S,k),pe=Math.max(S,k);if(Math.abs(ne-pe)===1){let Ae=S+"|"+k;return m.capture?`(${Ae})`:m.wrap===!1?Ae:`(?:${Ae})`}let q=z(S)||z(k),U={min:S,max:k,a:ne,b:pe},se=[],De=[];if(q&&(U.isPadded=q,U.maxLen=String(U.max).length),ne<0){let Ae=pe<0?Math.abs(pe):1;De=I(Ae,Math.abs(ne),U,m),ne=U.a=0}return pe>=0&&(se=I(ne,pe,U,m)),U.negatives=De,U.positives=se,U.result=R(De,se,m),m.capture===!0?U.result=`(${U.result})`:m.wrap!==!1&&se.length+De.length>1&&(U.result=`(?:${U.result})`),h.cache[Q]=U,U.result},"toRegexRange");function R(S,k,P){let m=f(S,k,"-",!1,P)||[],C=f(k,S,"",!1,P)||[],N=f(S,k,"-?",!0,P)||[];return m.concat(N).concat(C).join("|")}a(R,"collatePatterns");function p(S,k){let P=1,m=1,C=O(S,P),N=new Set([k]);for(;S<=C&&C<=k;)N.add(C),P+=1,C=O(S,P);for(C=W(k+1,m)-1;S<C&&C<=k;)N.add(C),m+=1,C=W(k+1,m)-1;return N=[...N],N.sort(H),N}a(p,"splitToRanges");function K(S,k,P){if(S===k)return{pattern:S,count:[],digits:0};let m=g(S,k),C=m.length,N="",Y=0;for(let J=0;J<C;J++){let[Q,ne]=m[J];Q===ne?N+=Q:Q!=="0"||ne!=="9"?N+=G(Q,ne,P):Y++}return Y&&(N+=P.shorthand===!0?"\\d":"[0-9]"),{pattern:N,count:[Y],digits:C}}a(K,"rangeToPattern");function I(S,k,P,m){let C=p(S,k),N=[],Y=S,J;for(let Q=0;Q<C.length;Q++){let ne=C[Q],pe=K(String(Y),String(ne),m),q="";if(!P.isPadded&&J&&J.pattern===pe.pattern){J.count.length>1&&J.count.pop(),J.count.push(pe.count[0]),J.string=J.pattern+L(J.count),Y=ne+1;continue}P.isPadded&&(q=ae(ne,P,m)),pe.string=q+pe.pattern+L(pe.count),N.push(pe),Y=ne+1,J=pe}return N}a(I,"splitToPatterns");function f(S,k,P,m,C){let N=[];for(let Y of S){let{string:J}=Y;!m&&!$(k,"string",J)&&N.push(P+J),m&&$(k,"string",J)&&N.push(P+J)}return N}a(f,"filterPatterns");function g(S,k){let P=[];for(let m=0;m<S.length;m++)P.push([S[m],k[m]]);return P}a(g,"zip");function H(S,k){return S>k?1:k>S?-1:0}a(H,"compare");function $(S,k,P){return S.some(m=>m[k]===P)}a($,"contains");function O(S,k){return Number(String(S).slice(0,-k)+"9".repeat(k))}a(O,"countNines");function W(S,k){return S-S%Math.pow(10,k)}a(W,"countZeros");function L(S){let[k=0,P=""]=S;return P||k>1?`{${k+(P?","+P:"")}}`:""}a(L,"toQuantifier");function G(S,k,P){return`[${S}${k-S==1?"":"-"}${k}]`}a(G,"toCharacterClass");function z(S){return/^-?(0+)\d/.test(S)}a(z,"hasPadding");function ae(S,k,P){if(!k.isPadded)return S;let m=Math.abs(k.maxLen-String(S).length),C=P.relaxZeros!==!1;switch(m){case 0:return"";case 1:return C?"0?":"0";case 2:return C?"0{0,2}":"00";default:return C?`0{0,${m}}`:`0{${m}}`}}a(ae,"padZeros"),h.cache={},h.clearCache=()=>h.cache={},Ke.exports=h},7360:function(Ke,v){var E,T,h;(function(R,p){T=[],E=p,h=typeof E=="function"?E.apply(v,T):E,h!==void 0&&(Ke.exports=h)})(this,a(function(){function p(S){var k={single:function(P,m,C){if(!P||(G(P)||(P=k.getPreparedSearch(P)),!m))return null;G(m)||(m=k.getPrepared(m));var N=C&&C.allowTypo!==void 0?C.allowTypo:S&&S.allowTypo!==void 0?S.allowTypo:!0,Y=N?k.algorithm:k.algorithmNoTypo;return Y(P,m,P[0])},go:function(P,m,C){if(!P)return g;P=k.prepareSearch(P);var N=P[0],Y=C&&C.threshold||S&&S.threshold||-9007199254740991,J=C&&C.limit||S&&S.limit||9007199254740991,Q=C&&C.allowTypo!==void 0?C.allowTypo:S&&S.allowTypo!==void 0?S.allowTypo:!0,ne=Q?k.algorithm:k.algorithmNoTypo,pe=0,q=0,U=m.length;if(C&&C.keys)for(var se=C.scoreFn||W,De=C.keys,Ae=De.length,re=U-1;re>=0;--re){for(var M=m[re],ce=new Array(Ae),Se=Ae-1;Se>=0;--Se){var Re=De[Se],X=L(M,Re);if(!X){ce[Se]=null;continue}G(X)||(X=k.getPrepared(X)),ce[Se]=ne(P,X,N)}ce.obj=M;var Je=se(ce);Je!==null&&(Je<Y||(ce.score=Je,pe<J?(ae.add(ce),++pe):(++q,Je>ae.peek().score&&ae.replaceTop(ce))))}else if(C&&C.key)for(var Re=C.key,re=U-1;re>=0;--re){var M=m[re],X=L(M,Re);if(!!X){G(X)||(X=k.getPrepared(X));var ke=ne(P,X,N);ke!==null&&(ke.score<Y||(ke={target:ke.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:ke.score,indexes:ke.indexes,obj:M},pe<J?(ae.add(ke),++pe):(++q,ke.score>ae.peek().score&&ae.replaceTop(ke))))}}else for(var re=U-1;re>=0;--re){var X=m[re];if(!!X){G(X)||(X=k.getPrepared(X));var ke=ne(P,X,N);ke!==null&&(ke.score<Y||(pe<J?(ae.add(ke),++pe):(++q,ke.score>ae.peek().score&&ae.replaceTop(ke))))}}if(pe===0)return g;for(var Be=new Array(pe),re=pe-1;re>=0;--re)Be[re]=ae.poll();return Be.total=pe+q,Be},goAsync:function(P,m,C){var N=!1,Y=new Promise(function(J,Q){if(!P)return J(g);P=k.prepareSearch(P);var ne=P[0],pe=z(),q=m.length-1,U=C&&C.threshold||S&&S.threshold||-9007199254740991,se=C&&C.limit||S&&S.limit||9007199254740991,De=C&&C.allowTypo!==void 0?C.allowTypo:S&&S.allowTypo!==void 0?S.allowTypo:!0,Ae=De?k.algorithm:k.algorithmNoTypo,re=0,M=0;function ce(){if(N)return Q("canceled");var Se=Date.now();if(C&&C.keys)for(var Re=C.scoreFn||W,X=C.keys,Je=X.length;q>=0;--q){for(var ke=m[q],Be=new Array(Je),B=Je-1;B>=0;--B){var V=X[B],ee=L(ke,V);if(!ee){Be[B]=null;continue}G(ee)||(ee=k.getPrepared(ee)),Be[B]=Ae(P,ee,ne)}Be.obj=ke;var le=Re(Be);if(le!==null&&!(le<U)&&(Be.score=le,re<se?(pe.add(Be),++re):(++M,le>pe.peek().score&&pe.replaceTop(Be)),q%1e3==0&&Date.now()-Se>=10)){K?setImmediate(ce):setTimeout(ce);return}}else if(C&&C.key)for(var V=C.key;q>=0;--q){var ke=m[q],ee=L(ke,V);if(!!ee){G(ee)||(ee=k.getPrepared(ee));var Me=Ae(P,ee,ne);if(Me!==null&&!(Me.score<U)&&(Me={target:Me.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Me.score,indexes:Me.indexes,obj:ke},re<se?(pe.add(Me),++re):(++M,Me.score>pe.peek().score&&pe.replaceTop(Me)),q%1e3==0&&Date.now()-Se>=10)){K?setImmediate(ce):setTimeout(ce);return}}}else for(;q>=0;--q){var ee=m[q];if(!!ee){G(ee)||(ee=k.getPrepared(ee));var Me=Ae(P,ee,ne);if(Me!==null&&!(Me.score<U)&&(re<se?(pe.add(Me),++re):(++M,Me.score>pe.peek().score&&pe.replaceTop(Me)),q%1e3==0&&Date.now()-Se>=10)){K?setImmediate(ce):setTimeout(ce);return}}}if(re===0)return J(g);for(var Ye=new Array(re),ve=re-1;ve>=0;--ve)Ye[ve]=pe.poll();Ye.total=re+M,J(Ye)}a(ce,"step"),K?setImmediate(ce):ce()});return Y.cancel=function(){N=!0},Y},highlight:function(P,m,C){if(P===null)return null;m===void 0&&(m="<b>"),C===void 0&&(C="</b>");for(var N="",Y=0,J=!1,Q=P.target,ne=Q.length,pe=P.indexes,q=0;q<ne;++q){var U=Q[q];if(pe[Y]===q){if(++Y,J||(J=!0,N+=m),Y===pe.length){N+=U+C+Q.substr(q+1);break}}else J&&(J=!1,N+=C);N+=U}return N},prepare:function(P){if(!!P)return{target:P,_targetLowerCodes:k.prepareLowerCodes(P),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(P){if(!!P)return{target:P,_targetLowerCodes:k.prepareLowerCodes(P),_nextBeginningIndexes:k.prepareNextBeginningIndexes(P),score:null,indexes:null,obj:null}},prepareSearch:function(P){if(!!P)return k.prepareLowerCodes(P)},getPrepared:function(P){if(P.length>999)return k.prepare(P);var m=I.get(P);return m!==void 0||(m=k.prepare(P),I.set(P,m)),m},getPreparedSearch:function(P){if(P.length>999)return k.prepareSearch(P);var m=f.get(P);return m!==void 0||(m=k.prepareSearch(P),f.set(P,m)),m},algorithm:function(P,m,C){for(var N=m._targetLowerCodes,Y=P.length,J=N.length,Q=0,ne=0,pe=0,q=0;;){var U=C===N[ne];if(U){if(H[q++]=ne,++Q,Q===Y)break;C=P[pe===0?Q:pe===Q?Q+1:pe===Q-1?Q-1:Q]}if(++ne,ne>=J)for(;;){if(Q<=1)return null;if(pe===0){--Q;var se=P[Q];if(C===se)continue;pe=Q}else{if(pe===1)return null;--pe,Q=pe,C=P[Q+1];var se=P[Q];if(C===se)continue}q=Q,ne=H[q-1]+1;break}}var Q=0,De=0,Ae=!1,re=0,M=m._nextBeginningIndexes;M===null&&(M=m._nextBeginningIndexes=k.prepareNextBeginningIndexes(m.target));var ce=ne=H[0]===0?0:M[H[0]-1];if(ne!==J)for(;;)if(ne>=J){if(Q<=0){if(++De,De>Y-2)break;if(P[De]===P[De+1])continue;ne=ce;continue}--Q;var Se=$[--re];ne=M[Se]}else{var U=P[De===0?Q:De===Q?Q+1:De===Q-1?Q-1:Q]===N[ne];if(U){if($[re++]=ne,++Q,Q===Y){Ae=!0;break}++ne}else ne=M[ne]}{if(Ae)var Re=$,X=re;else var Re=H,X=q;for(var Je=0,ke=-1,Be=0;Be<Y;++Be){var ne=Re[Be];ke!==ne-1&&(Je-=ne),ke=ne}Ae?De!==0&&(Je+=-20):(Je*=1e3,pe!==0&&(Je+=-20)),Je-=J-Y,m.score=Je,m.indexes=new Array(X);for(var Be=X-1;Be>=0;--Be)m.indexes[Be]=Re[Be];return m}},algorithmNoTypo:function(P,m,C){for(var N=m._targetLowerCodes,Y=P.length,J=N.length,Q=0,ne=0,pe=0;;){var q=C===N[ne];if(q){if(H[pe++]=ne,++Q,Q===Y)break;C=P[Q]}if(++ne,ne>=J)return null}var Q=0,U=!1,se=0,De=m._nextBeginningIndexes;De===null&&(De=m._nextBeginningIndexes=k.prepareNextBeginningIndexes(m.target));var Ae=ne=H[0]===0?0:De[H[0]-1];if(ne!==J)for(;;)if(ne>=J){if(Q<=0)break;--Q;var re=$[--se];ne=De[re]}else{var q=P[Q]===N[ne];if(q){if($[se++]=ne,++Q,Q===Y){U=!0;break}++ne}else ne=De[ne]}{if(U)var M=$,ce=se;else var M=H,ce=pe;for(var Se=0,Re=-1,X=0;X<Y;++X){var ne=M[X];Re!==ne-1&&(Se-=ne),Re=ne}U||(Se*=1e3),Se-=J-Y,m.score=Se,m.indexes=new Array(ce);for(var X=ce-1;X>=0;--X)m.indexes[X]=M[X];return m}},prepareLowerCodes:function(P){for(var m=P.length,C=[],N=P.toLowerCase(),Y=0;Y<m;++Y)C[Y]=N.charCodeAt(Y);return C},prepareBeginningIndexes:function(P){for(var m=P.length,C=[],N=0,Y=!1,J=!1,Q=0;Q<m;++Q){var ne=P.charCodeAt(Q),pe=ne>=65&&ne<=90,q=pe||ne>=97&&ne<=122||ne>=48&&ne<=57,U=pe&&!Y||!J||!q;Y=pe,J=q,U&&(C[N++]=Q)}return C},prepareNextBeginningIndexes:function(P){for(var m=P.length,C=k.prepareBeginningIndexes(P),N=[],Y=C[0],J=0,Q=0;Q<m;++Q)Y>Q?N[Q]=Y:(Y=C[++J],N[Q]=Y===void 0?m:Y);return N},cleanup:O,new:p};return k}a(p,"fuzzysortNew");var K=typeof window=="undefined",I=new Map,f=new Map,g=[];g.total=0;var H=[],$=[];function O(){I.clear(),f.clear(),H=[],$=[]}a(O,"cleanup");function W(S){for(var k=-9007199254740991,P=S.length-1;P>=0;--P){var m=S[P];if(m!==null){var C=m.score;C>k&&(k=C)}}return k===-9007199254740991?null:k}a(W,"defaultScoreFn");function L(S,k){var P=S[k];if(P!==void 0)return P;var m=k;Array.isArray(k)||(m=k.split("."));for(var C=m.length,N=-1;S&&++N<C;)S=S[m[N]];return S}a(L,"getValue");function G(S){return typeof S=="object"}a(G,"isObj");var z=a(function(){var S=[],k=0,P={};function m(){for(var C=0,N=S[C],Y=1;Y<k;){var J=Y+1;C=Y,J<k&&S[J].score<S[Y].score&&(C=J),S[C-1>>1]=S[C],Y=1+(C<<1)}for(var Q=C-1>>1;C>0&&N.score<S[Q].score;Q=(C=Q)-1>>1)S[C]=S[Q];S[C]=N}return a(m,"n"),P.add=function(C){var N=k;S[k++]=C;for(var Y=N-1>>1;N>0&&C.score<S[Y].score;Y=(N=Y)-1>>1)S[N]=S[Y];S[N]=C},P.poll=function(){if(k!==0){var C=S[0];return S[0]=S[--k],m(),C}},P.peek=function(C){if(k!==0)return S[0]},P.replaceTop=function(C){S[0]=C,m()},P},"fastpriorityqueue"),ae=z();return p()},"UMD"))},6470:(Ke,v,E)=>{"use strict";var T=E(4155);function h(I){if(typeof I!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(I))}a(h,"assertPath");function R(I,f){for(var g="",H=0,$=-1,O=0,W,L=0;L<=I.length;++L){if(L<I.length)W=I.charCodeAt(L);else{if(W===47)break;W=47}if(W===47){if(!($===L-1||O===1))if($!==L-1&&O===2){if(g.length<2||H!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var G=g.lastIndexOf("/");if(G!==g.length-1){G===-1?(g="",H=0):(g=g.slice(0,G),H=g.length-1-g.lastIndexOf("/")),$=L,O=0;continue}}else if(g.length===2||g.length===1){g="",H=0,$=L,O=0;continue}}f&&(g.length>0?g+="/..":g="..",H=2)}else g.length>0?g+="/"+I.slice($+1,L):g=I.slice($+1,L),H=L-$-1;$=L,O=0}else W===46&&O!==-1?++O:O=-1}return g}a(R,"normalizeStringPosix");function p(I,f){var g=f.dir||f.root,H=f.base||(f.name||"")+(f.ext||"");return g?g===f.root?g+H:g+I+H:H}a(p,"_format");var K={resolve:a(function(){for(var f="",g=!1,H,$=arguments.length-1;$>=-1&&!g;$--){var O;$>=0?O=arguments[$]:(H===void 0&&(H=T.cwd()),O=H),h(O),O.length!==0&&(f=O+"/"+f,g=O.charCodeAt(0)===47)}return f=R(f,!g),g?f.length>0?"/"+f:"/":f.length>0?f:"."},"resolve"),normalize:a(function(f){if(h(f),f.length===0)return".";var g=f.charCodeAt(0)===47,H=f.charCodeAt(f.length-1)===47;return f=R(f,!g),f.length===0&&!g&&(f="."),f.length>0&&H&&(f+="/"),g?"/"+f:f},"normalize"),isAbsolute:a(function(f){return h(f),f.length>0&&f.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var f,g=0;g<arguments.length;++g){var H=arguments[g];h(H),H.length>0&&(f===void 0?f=H:f+="/"+H)}return f===void 0?".":K.normalize(f)},"join"),relative:a(function(f,g){if(h(f),h(g),f===g||(f=K.resolve(f),g=K.resolve(g),f===g))return"";for(var H=1;H<f.length&&f.charCodeAt(H)===47;++H);for(var $=f.length,O=$-H,W=1;W<g.length&&g.charCodeAt(W)===47;++W);for(var L=g.length,G=L-W,z=O<G?O:G,ae=-1,S=0;S<=z;++S){if(S===z){if(G>z){if(g.charCodeAt(W+S)===47)return g.slice(W+S+1);if(S===0)return g.slice(W+S)}else O>z&&(f.charCodeAt(H+S)===47?ae=S:S===0&&(ae=0));break}var k=f.charCodeAt(H+S),P=g.charCodeAt(W+S);if(k!==P)break;k===47&&(ae=S)}var m="";for(S=H+ae+1;S<=$;++S)(S===$||f.charCodeAt(S)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+g.slice(W+ae):(W+=ae,g.charCodeAt(W)===47&&++W,g.slice(W))},"relative"),_makeLong:a(function(f){return f},"_makeLong"),dirname:a(function(f){if(h(f),f.length===0)return".";for(var g=f.charCodeAt(0),H=g===47,$=-1,O=!0,W=f.length-1;W>=1;--W)if(g=f.charCodeAt(W),g===47){if(!O){$=W;break}}else O=!1;return $===-1?H?"/":".":H&&$===1?"//":f.slice(0,$)},"dirname"),basename:a(function(f,g){if(g!==void 0&&typeof g!="string")throw new TypeError('"ext" argument must be a string');h(f);var H=0,$=-1,O=!0,W;if(g!==void 0&&g.length>0&&g.length<=f.length){if(g.length===f.length&&g===f)return"";var L=g.length-1,G=-1;for(W=f.length-1;W>=0;--W){var z=f.charCodeAt(W);if(z===47){if(!O){H=W+1;break}}else G===-1&&(O=!1,G=W+1),L>=0&&(z===g.charCodeAt(L)?--L==-1&&($=W):(L=-1,$=G))}return H===$?$=G:$===-1&&($=f.length),f.slice(H,$)}else{for(W=f.length-1;W>=0;--W)if(f.charCodeAt(W)===47){if(!O){H=W+1;break}}else $===-1&&(O=!1,$=W+1);return $===-1?"":f.slice(H,$)}},"basename"),extname:a(function(f){h(f);for(var g=-1,H=0,$=-1,O=!0,W=0,L=f.length-1;L>=0;--L){var G=f.charCodeAt(L);if(G===47){if(!O){H=L+1;break}continue}$===-1&&(O=!1,$=L+1),G===46?g===-1?g=L:W!==1&&(W=1):g!==-1&&(W=-1)}return g===-1||$===-1||W===0||W===1&&g===$-1&&g===H+1?"":f.slice(g,$)},"extname"),format:a(function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return p("/",f)},"format"),parse:a(function(f){h(f);var g={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return g;var H=f.charCodeAt(0),$=H===47,O;$?(g.root="/",O=1):O=0;for(var W=-1,L=0,G=-1,z=!0,ae=f.length-1,S=0;ae>=O;--ae){if(H=f.charCodeAt(ae),H===47){if(!z){L=ae+1;break}continue}G===-1&&(z=!1,G=ae+1),H===46?W===-1?W=ae:S!==1&&(S=1):W!==-1&&(S=-1)}return W===-1||G===-1||S===0||S===1&&W===G-1&&W===L+1?G!==-1&&(L===0&&$?g.base=g.name=f.slice(1,G):g.base=g.name=f.slice(L,G)):(L===0&&$?(g.name=f.slice(1,W),g.base=f.slice(1,G)):(g.name=f.slice(L,W),g.base=f.slice(L,G)),g.ext=f.slice(W,G)),L>0?g.dir=f.slice(0,L-1):$&&(g.dir="/"),g},"parse"),sep:"/",delimiter:":",win32:null,posix:null};K.posix=K,Ke.exports=K},4155:Ke=>{var v=Ke.exports={},E,T;function h(){throw new Error("setTimeout has not been defined")}a(h,"defaultSetTimout");function R(){throw new Error("clearTimeout has not been defined")}a(R,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=h}catch(G){E=h}try{typeof clearTimeout=="function"?T=clearTimeout:T=R}catch(G){T=R}}();function p(G){if(E===setTimeout)return setTimeout(G,0);if((E===h||!E)&&setTimeout)return E=setTimeout,setTimeout(G,0);try{return E(G,0)}catch(z){try{return E.call(null,G,0)}catch(ae){return E.call(this,G,0)}}}a(p,"runTimeout");function K(G){if(T===clearTimeout)return clearTimeout(G);if((T===R||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(G);try{return T(G)}catch(z){try{return T.call(null,G)}catch(ae){return T.call(this,G)}}}a(K,"runClearTimeout");var I=[],f=!1,g,H=-1;function $(){!f||!g||(f=!1,g.length?I=g.concat(I):H=-1,I.length&&O())}a($,"cleanUpNextTick");function O(){if(!f){var G=p($);f=!0;for(var z=I.length;z;){for(g=I,I=[];++H<z;)g&&g[H].run();H=-1,z=I.length}g=null,f=!1,K(G)}}a(O,"drainQueue"),v.nextTick=function(G){var z=new Array(arguments.length-1);if(arguments.length>1)for(var ae=1;ae<arguments.length;ae++)z[ae-1]=arguments[ae];I.push(new W(G,z)),I.length===1&&!f&&p(O)};function W(G,z){this.fun=G,this.array=z}a(W,"Item"),W.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function L(){}a(L,"noop"),v.on=L,v.addListener=L,v.once=L,v.off=L,v.removeListener=L,v.removeAllListeners=L,v.emit=L,v.prependListener=L,v.prependOnceListener=L,v.listeners=function(G){return[]},v.binding=function(G){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(G){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},6529:()=>{},6391:()=>{}},ea={};function En(Ke){var v=ea[Ke];if(v!==void 0)return v.exports;var E=ea[Ke]={id:Ke,loaded:!1,exports:{}};return ya[Ke].call(E.exports,E,E.exports,En),E.loaded=!0,E.exports}a(En,"__webpack_require__"),(()=>{En.n=Ke=>{var v=Ke&&Ke.__esModule?()=>Ke.default:()=>Ke;return En.d(v,{a:v}),v}})(),(()=>{En.d=(Ke,v)=>{for(var E in v)En.o(v,E)&&!En.o(Ke,E)&&Object.defineProperty(Ke,E,{enumerable:!0,get:v[E]})}})(),(()=>{En.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ke){if(typeof window=="object")return window}}()})(),(()=>{En.o=(Ke,v)=>Object.prototype.hasOwnProperty.call(Ke,v)})(),(()=>{En.r=Ke=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ke,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ke,"__esModule",{value:!0})}})(),(()=>{En.nmd=Ke=>(Ke.paths=[],Ke.children||(Ke.children=[]),Ke)})();var Ea={};(()=>{"use strict";En.r(Ea),En.d(Ea,{activate:()=>es});var Ke={};En.r(Ke),En.d(Ke,{max:()=>Nt,min:()=>Pn});const v=require("vscode"),E=new TextDecoder,T=new TextEncoder,h=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function R(n){const e=T.encode(n),t=new Array(e.length);for(let r=0;r<e.length;++r)t[r]=h[e[r]];return t.join("")}a(R,"encodeUtf8Hex");function p(n){const e=n.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(r=>parseInt(r,16)));return E.decode(t)}a(p,"decodeUtf8Hex");const K=/^[0-9a-f]{40}$/i;function I(n){return n!==void 0&&K.test(n)}a(I,"isSha");const f=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function g(n){return f.test(n)}a(g,"isValidBranchName");function H(n){return n===""||n==="~"||n==="HEAD"?n:n.endsWith("^")?`${n.substr(0,7)}^`:n.substr(0,7)}a(H,"shortenRef");const $=47;function O(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,fragment:""}).toString()}a(O,"asKey");function W(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.query&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,query:"",fragment:""}).toString()}a(W,"asFileKey");function L(n,e){return`${(e==null?void 0:e.excludeScheme)?"":`${n.scheme}-`}${n.authority}${n.path.endsWith("/")?n.path.slice(0,-1):n.path}`}a(L,"asFileStorageKey");function G(n){const e=typeof n=="string"?n:n.path;let t=0,r=-1,i=!0;for(let s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===$){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":e.slice(t,r)}a(G,"uris_basename");function z(n){const e=n.path;if(e.length===1)return"/";let t,r=-1,i=!0;for(let s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===$){if(!i){r=s;break}}else i=!1;return r===-1?"/":e.slice(0,r)}a(z,"dirname");function ae(n){const e=n.path.lastIndexOf("/");return e===-1?n.with({path:"/"}):n.with({path:n.path.substring(0,e)})}a(ae,"getParent");function S(n,e){const t=typeof e=="string"?e:e.path;return t.startsWith(n.path)?v.Uri.joinPath(n,t.substr(n.path.length)):v.Uri.joinPath(n,t)}a(S,"joinRelativePath");function k(n,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),P(n,e)&&n.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):P(n,e)&&n.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(k,"isChild");function P(n,e){if(typeof n=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||n.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const t=typeof n=="string"?n:n.path;return e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===n.scheme&&e.authority===n.authority&&(e.path.length===1||n.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(P,"uris_isDescendent");function m(n){return n&&typeof n=="object"&&"scheme"in n}a(m,"isSerializedUri");var C;(function(n){n.authoritySeparator="+",n.scheme="vscode-vfs",n.baseVirtualWorkspaceUri=v.Uri.parse(`${n.scheme}://`);function e(c){const{authority:y}=c,j=y.indexOf(n.authoritySeparator);return j!==-1?y.substr(0,j):y}a(e,"getProviderId"),n.getProviderId=e;function t(c){return c.scheme!==n.scheme?c:c.with({scheme:e(c)})}a(t,"getProviderUri"),n.getProviderUri=t;function r(c,y){const j=new Map,b=v.workspace.textDocuments;if(b.length===0)return j;for(const te of b)te.uri.scheme===c&&y.some(Te=>P(te.uri,Te))&&j.set(O(te.uri),te.uri);return j}a(r,"getOpenUris"),n.getOpenUris=r;function i(c){return c.scheme===n.scheme?c:c.with({scheme:n.scheme})}a(i,"getVirtualUri"),n.getVirtualUri=i;function s(c,y){const[j,b]=c.authority.split(n.authoritySeparator);let te;if(b)try{const Te=JSON.parse(p(b));te=y?y(Te):Te}catch{}return{scheme:j,metadata:te}}a(s,"decodeAuthority"),n.decodeAuthority=s;function o(c,y){const j=y?`${n.authoritySeparator}${R(JSON.stringify(y))}`:"";return`${c}${j}`}a(o,"encodeAuthority"),n.encodeAuthority=o;function u(c){return c.authority.indexOf(n.authoritySeparator)===-1}a(u,"isCanonicalUri"),n.isCanonicalUri=u;function l(){var c,y;return(y=(c=v.workspace.workspaceFolders)==null?void 0:c.every(j=>j.uri.scheme===n.scheme))!=null?y:!1}a(l,"isVirtualWorkspace"),n.isVirtualWorkspace=l})(C||(C={}));var N;(function(n){n[n.Admin=100]="Admin",n[n.Maintain=40]="Maintain",n[n.WriteToPullRequest=31]="WriteToPullRequest",n[n.Write=30]="Write",n[n.Triage=20]="Triage",n[n.Read=10]="Read",n[n.None=0]="None"})(N||(N={}));var Y;(function(n){n[n.Branch=0]="Branch",n[n.RemoteBranch=1]="RemoteBranch",n[n.Tag=2]="Tag",n[n.Commit=3]="Commit"})(Y||(Y={}));var J;(function(n){function e(t){return t!==void 0&&t.type===pe.Active}a(e,"isActive"),n.isActive=e})(J||(J={}));var Q;(function(n){function e(t){const r=C.decodeAuthority(t).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:ne.Latest};if(I(r.idx))return{type:ne.SHA,sha:r.idx}}}a(e,"decode"),n.decode=e})(Q||(Q={}));var ne;(function(n){n[n.Latest=1]="Latest",n[n.SHA=2]="SHA"})(ne||(ne={}));var pe;(function(n){n[n.NotIndexed=0]="NotIndexed",n[n.Indexed=1]="Indexed",n[n.Match=2]="Match",n[n.Active=3]="Active"})(pe||(pe={})),function(n){function e(t){return t!==void 0&&(t===n.Indexed||t===n.Match||t===n.Active)}a(e,"hasIndex"),n.hasIndex=e}(pe||(pe={}));var q;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed",n[n.Merged=2]="Merged"})(q||(q={}));var U;(function(n){n[n.Changed=1]="Changed",n[n.Created=2]="Created",n[n.Deleted=3]="Deleted"})(U||(U={}));var se;(function(n){n.CurrentWindow="currentWindow",n.NewWindow="newWindow",n.AddToWorkspace="addToWorkspace"})(se||(se={}));var De;(function(n){n[n.Branch=0]="Branch",n[n.Tag=1]="Tag",n[n.Commit=2]="Commit",n[n.PullRequest=3]="PullRequest",n[n.Tree=4]="Tree"})(De||(De={}));var Ae;(function(n){n[n.Abort=0]="Abort",n[n.KeepCurrent=1]="KeepCurrent",n[n.DiscardCurrent=2]="DiscardCurrent",n[n.Merge=3]="Merge"})(Ae||(Ae={}));var re;(function(n){n[n.Repository=0]="Repository",n[n.PullRequest=1]="PullRequest",n[n.Branch=2]="Branch",n[n.Commit=3]="Commit",n[n.File=4]="File",n[n.Tag=5]="Tag"})(re||(re={}));var M;(function(n){n.Branch="branch",n.RemoteBranch="remoteBranch",n.PullRequestBranch="pullRequestBranch",n.PullRequestRemoteBranch="pullRequestRemoteBranch",n.Tag="tag",n.Commit="commit"})(M||(M={}));var ce;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(ce||(ce={}));var Se;(function(n){n.Browse="browse",n.Edit="edit"})(Se||(Se={}));var Re;(function(n){n.CommitFailedError="CommitFailedError",n.DetachedHEADError="DetachedHEADError",n.CommitToProtectedBranchError="CommitToProtectedBranchError",n.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",n.InvalidBranchNameError="InvalidBranchNameError",n.InvalidCredentialsError="InvalidCredentialsError",n.MergeConflictError="MergeConflictError",n.NothingToCommitError="NothingToCommitError",n.SyncConflictsError="SyncConflictsError",n.SyncOrFetchError="SyncOrFetchError",n.UnresolvedConflictsError="UnresolvedConflictsError",n.InvalidRepositoryError="InvalidRepositoryError",n.Unknown="Unknown"})(Re||(Re={}));class X extends Error{constructor(e,t,r){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=r}static CommitFailedError(){return new X("Failed to create and push commit",Re.CommitFailedError)}static DetachedHEADError(e){return new X(e,Re.DetachedHEADError)}static CommitToProtectedBranchError(e){return new X(e,Re.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new X(e,Re.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,t=!1){const r=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new X(r,Re.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new X(e,Re.InvalidCredentialsError,t)}static MergeConflictError(e){return new X(e,Re.MergeConflictError)}static NothingToCommitError(e){return new X(e,Re.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new X(t,Re.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new X(e,Re.SyncConflictsError)}static UnresolvedConflictsError(){return new X("You have unresolved merge conflicts.",Re.UnresolvedConflictsError)}static InvalidRepositoryError(){return new X("The current repository is invalid",Re.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:Re.Unknown}}a(X,"VirtualProviderError");const Je=6;var ke;(function(n){n.Off="off",n.Auto="auto",n.Always="always"})(ke||(ke={}));var Be;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(Be||(Be={})),function(n){function e(t){return t===n.None||t===n.Latest||t===n.Match||t===n.TipPlusLatest?t:n.None}a(e,"sanitize"),n.sanitize=e}(Be||(Be={}));var B;(function(n){n.Browse="browse",n.Edit="edit"})(B||(B={})),function(n){function e(r){return r===n.Browse||r===n.Edit?r:n.Edit}a(e,"sanitize"),n.sanitize=e;function t(r){return r===n.Browse?n.Edit:n.Browse}a(t,"toggle"),n.toggle=t}(B||(B={}));var V;(function(n){function e(t,r){return t.display===r.display&&t.index===r.index}a(e,"equals"),n.equals=e})(V||(V={}));var ee;(function(n){const e=new Map([[M.Branch,Be.None],[M.RemoteBranch,Be.None],[M.PullRequestBranch,Be.Match],[M.PullRequestRemoteBranch,Be.Match],[M.Commit,Be.Match],[M.Tag,Be.Match]]),t=new Map([[M.Branch,B.Edit],[M.RemoteBranch,B.Edit],[M.PullRequestBranch,B.Browse],[M.PullRequestRemoteBranch,B.Browse],[M.Commit,B.Browse],[M.Tag,B.Browse]]);function r(s){var o,u;return{display:(o=t.get(s))!=null?o:B.Edit,index:(u=e.get(s))!=null?u:Be.None}}a(r,"getDefault"),n.getDefault=r;function i(s){switch(s){case M.Branch:case M.RemoteBranch:return{display:B.Browse,index:Be.Latest};case M.PullRequestBranch:case M.PullRequestRemoteBranch:return{display:B.Browse,index:Be.Match};case M.Commit:case M.Tag:return{display:B.Browse,index:Be.Match};default:return{display:B.Edit,index:Be.None}}}a(i,"getIndexDefault"),n.getIndexDefault=i})(ee||(ee={}));const le=null;var Me=En(5179),Ye=En.n(Me);const ve="modes",we="indexMemento";class ye{constructor(){this._onDidChange=new v.EventEmitter,this._onDidChangeAny=new v.EventEmitter,this.memoryState=new Map}static configure(e,t){ge.configPrefix=e,ge.state=t.workspaceState,t.subscriptions.push(v.workspace.onDidChangeConfiguration(ge.onConfigurationChanged,ge))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(ve),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(ve,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(we),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,r){const i=this.inspect(e,t);return i===void 0&&r!==void 0?r:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,t,r){return r===void 0?v.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):v.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,r)}getMode(e,t,r){var i;const s=e.toString();let o=this.modes!==void 0?this.modes[s]:void 0;if(o!==void 0)return{display:B.sanitize(o.display),index:Be.sanitize(o.index)};if(o=this.memoryState.get(s),o!==void 0)return o;if(t===M.Branch||t===M.RemoteBranch)switch((i=v.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:B.Edit,index:Be.None};case"latest":return{display:B.Browse,index:Be.Latest};case"tipPlusLatest":return{display:B.Edit,index:Be.TipPlusLatest}}if(!r)return ee.getDefault(t)}setMode(e,t){const r=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,t),Promise.resolve()):(this.modes[r]=t,this._state.update(ve,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(we,this.indexMemento))}getAny(e,t,r){return r===void 0?v.workspace.getConfiguration(void 0,t).get(e):v.workspace.getConfiguration(void 0,t).get(e,r)}changed(e,t,r){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,r))!=null?i:!0}inspect(e,t){return v.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return v.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,r){const i=ge.inspect(e);if(i===void 0)return!1;let s=!1;return i.globalValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,v.ConfigurationTarget.Global),s=!0),i.workspaceValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,v.ConfigurationTarget.Workspace),s=!0),i.workspaceFolderValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,v.ConfigurationTarget.WorkspaceFolder),s=!0),!s&&r.fallbackValue!==void 0&&(await this.update(t,r.fallbackValue,v.ConfigurationTarget.Global),s=!0),s}async migrateIfMissing(e,t,r){const i=ge.inspect(e);if(i===void 0)return;const s=ge.inspect(t);i.globalValue!==void 0&&(s===void 0||s.globalValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,v.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(s===void 0||s.workspaceValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,v.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(s===void 0||s.workspaceFolderValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,v.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,r){return v.workspace.getConfiguration(this.configPrefix).update(e,t,r)}updateAny(e,t,r,i){return v.workspace.getConfiguration(void 0,r===v.ConfigurationTarget.Global?void 0:i).update(e,t,r)}updateEffective(e,t){const r=ge.inspect(e);return r.workspaceFolderValue!==void 0?t===r.workspaceFolderValue?Promise.resolve(void 0):ge.update(e,t,v.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?t===r.workspaceValue?Promise.resolve(void 0):ge.update(e,t,v.ConfigurationTarget.Workspace):r.globalValue===t||r.globalValue===void 0&&t===r.defaultValue?Promise.resolve(void 0):ge.update(e,Ye()(t,r.defaultValue)?void 0:t,v.ConfigurationTarget.Global)}}a(ye,"Configuration");const ge=new ye,be="";var oe;(function(n){n.Off="off",n.Error="error",n.Warn="warn",n.Info="info",n.Debug="debug"})(oe||(oe={}));var Qe;(function(n){n[n.Off=0]="Off",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(Qe||(Qe={}));const Oe="[RemoteHub]",A=a(class{static configure(n,e,t){this._isDebugging=n.extensionMode===v.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=t}static enabled(n){return this.level>=this.toOrderedLevel(n)}static get logLevel(){return this._logLevel}static set logLevel(n){var e,t;this._logLevel=n,this.level=this.toOrderedLevel(n),n===oe.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(t=this.output)!=null?t:v.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(n){switch(n){case oe.Off:return 0;case oe.Error:return 1;case oe.Warn:return 2;case oe.Info:return 3;case oe.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(n,...e){A.isDebugging&&console.log(this.timestamp,Oe,n!=null?n:be,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:be}${this.toLoggableParams(!0,e)}`)}static error(n,e,...t){if(!(this.level<1&&!A.isDebugging)){if(e===void 0){const r=n instanceof Error?n.stack:void 0;if(r){const i=/.*\s*?at\s(.+?)\s/.exec(r);i!==null&&(e=i[1])}}A.isDebugging&&console.error(this.timestamp,Oe,e!=null?e:be,...t,n),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:be}${this.toLoggableParams(!1,t)}
${String(n)}`)}}static log(n,...e){A.isDebugging&&console.log(this.timestamp,Oe,n!=null?n:be,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:be}${this.toLoggableParams(!1,e)}`)}static warn(n,...e){A.isDebugging&&console.warn(this.timestamp,Oe,n!=null?n:be,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:be}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var n;(n=this.output)==null||n.show()}static toLoggable(n,e){if(typeof n!="object")return String(n);if(n instanceof v.Uri)return`Uri(${n.toString(!0)})`;try{return JSON.stringify(n,e)}catch{return"<error>"}}static toLoggableName(n){var e,t,r;let i;if(typeof n=="function"){if(n.prototype===void 0||n.prototype.constructor===void 0)return n.name;i=(e=n.prototype.constructor.name)!=null?e:be}else i=(r=(t=n.constructor)==null?void 0:t.name)!=null?r:be;const s=i.indexOf("_");return s===-1?i:i.substr(s+1)}static get timestamp(){const n=new Date;return`[${n.toISOString().replace(/T/," ").replace(/\..+/,be)}:${`00${n.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(n,e){if(e.length===0||n&&this.level<4&&!A.isDebugging)return be;const t=e.map(r=>this.toLoggable(r)).join(", ");return t.length!==0?` \u2014 ${t}`:be}},"_Logger");let Z=A;Z.level=0,Z._logLevel=oe.Off;class fe{constructor(e){this.provider=e,this._timeout=0,this._disposable=ge.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=ge.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!ge.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await v.window.withProgress({location:v.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(r){Z.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(fe,"AutoFetchService");function He(){}a(He,"Diff"),He.prototype={diff:a(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var s=this;function o(_e){return i?(setTimeout(function(){i(void 0,_e)},0),!0):_e}a(o,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,l=e.length,c=1,y=u+l,j=[{newPos:-1,components:[]}],b=this.extractCommon(j[0],t,e,0);if(j[0].newPos+1>=u&&b+1>=l)return o([{value:this.join(t),count:t.length}]);function te(){for(var _e=-1*c;_e<=c;_e+=2){var Ue=void 0,ct=j[_e-1],pt=j[_e+1],xt=(pt?pt.newPos:0)-_e;ct&&(j[_e-1]=void 0);var Xt=ct&&ct.newPos+1<u,Zt=pt&&0<=xt&&xt<l;if(!Xt&&!Zt){j[_e]=void 0;continue}if(!Xt||Zt&&ct.newPos<pt.newPos?(Ue=dt(pt),s.pushComponent(Ue.components,void 0,!0)):(Ue=ct,Ue.newPos++,s.pushComponent(Ue.components,!0,void 0)),xt=s.extractCommon(Ue,t,e,_e),Ue.newPos+1>=u&&xt+1>=l)return o(Ge(s,Ue.components,t,e,s.useLongestToken));j[_e]=Ue}c++}if(a(te,"execEditLength"),i)a(function _e(){setTimeout(function(){if(c>y)return i();te()||_e()},0)},"exec")();else for(;c<=y;){var Te=te();if(Te)return Te}},"diff"),pushComponent:a(function(e,t,r){var i=e[e.length-1];i&&i.added===t&&i.removed===r?e[e.length-1]={count:i.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},"pushComponent"),extractCommon:a(function(e,t,r,i){for(var s=t.length,o=r.length,u=e.newPos,l=u-i,c=0;u+1<s&&l+1<o&&this.equals(t[u+1],r[l+1]);)u++,l++,c++;return c&&e.components.push({count:c}),e.newPos=u,l},"extractCommon"),equals:a(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function Ge(n,e,t,r,i){for(var s=0,o=e.length,u=0,l=0;s<o;s++){var c=e[s];if(c.removed){if(c.value=n.join(r.slice(l,l+c.count)),l+=c.count,s&&e[s-1].added){var j=e[s-1];e[s-1]=e[s],e[s]=j}}else{if(!c.added&&i){var y=t.slice(u,u+c.count);y=y.map(function(te,Te){var _e=r[l+Te];return _e.length>te.length?_e:te}),c.value=n.join(y)}else c.value=n.join(t.slice(u,u+c.count));u+=c.count,c.added||(l+=c.count)}}var b=e[o-1];return o>1&&typeof b.value=="string"&&(b.added||b.removed)&&n.equals("",b.value)&&(e[o-2].value+=b.value,e.pop()),e}a(Ge,"buildValues");function dt(n){return{newPos:n.newPos,components:n.components.slice(0)}}a(dt,"clonePath");var je=new He;function _t(n,e,t){return je.diff(n,e,t)}a(_t,"diffChars");function at(n,e){if(typeof n=="function")e.callback=n;else if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}a(at,"generateOptions");var Vt=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,qt=/\S/,an=new He;an.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!qt.test(n)&&!qt.test(e)},an.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&Vt.test(e[t])&&Vt.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function Rn(n,e,t){return t=at(t,{ignoreWhitespace:!0}),an.diff(n,e,t)}a(Rn,"diffWords");function Ve(n,e,t){return an.diff(n,e,t)}a(Ve,"diffWordsWithSpace");var Et=new He;Et.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var i=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function Ut(n,e,t){return Et.diff(n,e,t)}a(Ut,"diffLines");function St(n,e,t){var r=at(t,{ignoreWhitespace:!0});return Et.diff(n,e,r)}a(St,"diffTrimmedLines");var Bt=new He;Bt.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};function rt(n,e,t){return Bt.diff(n,e,t)}a(rt,"diffSentences");var Ht=new He;Ht.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function Yt(n,e,t){return Ht.diff(n,e,t)}a(Yt,"diffCss");function kt(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=a(function(e){return typeof e},"_typeof"):kt=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),kt(n)}a(kt,"_typeof");function Ot(n){return cn(n)||Sn(n)||hr(n)||Tn()}a(Ot,"_toConsumableArray");function cn(n){if(Array.isArray(n))return Gn(n)}a(cn,"_arrayWithoutHoles");function Sn(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}a(Sn,"_iterableToArray");function hr(n,e){if(!!n){if(typeof n=="string")return Gn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gn(n,e)}}a(hr,"_unsupportedIterableToArray");function Gn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}a(Gn,"_arrayLikeToArray");function Tn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Tn,"_nonIterableSpread");var Tr=Object.prototype.toString,ar=new He;ar.useLongestToken=!0,ar.tokenize=Et.tokenize,ar.castInput=function(n){var e=this.options,t=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(s,o){return typeof o=="undefined"?t:o}:r;return typeof n=="string"?n:JSON.stringify(Er(n,null,null,i),i,"  ")},ar.equals=function(n,e){return He.prototype.equals.call(ar,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function Or(n,e,t){return ar.diff(n,e,t)}a(Or,"diffJson");function Er(n,e,t,r,i){e=e||[],t=t||[],r&&(n=r(i,n));var s;for(s=0;s<e.length;s+=1)if(e[s]===n)return t[s];var o;if(Tr.call(n)==="[object Array]"){for(e.push(n),o=new Array(n.length),t.push(o),s=0;s<n.length;s+=1)o[s]=Er(n[s],e,t,r,i);return e.pop(),t.pop(),o}if(n&&n.toJSON&&(n=n.toJSON()),kt(n)==="object"&&n!==null){e.push(n),o={},t.push(o);var u=[],l;for(l in n)n.hasOwnProperty(l)&&u.push(l);for(u.sort(),s=0;s<u.length;s+=1)l=u[s],o[l]=Er(n[l],e,t,r,l);e.pop(),t.pop()}else o=n;return o}a(Er,"canonicalize");var mr=new He;mr.tokenize=function(n){return n.slice()},mr.join=mr.removeEmpty=function(n){return n};function Dr(n,e,t){return mr.diff(n,e,t)}a(Dr,"diffArrays");function ie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.split(/\r\n|[\n\v\f\r\x85]/),r=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],s=0;function o(){var c={};for(i.push(c);s<t.length;){var y=t[s];if(/^(\-\-\-|\+\+\+|@@)\s/.test(y))break;var j=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(y);j&&(c.index=j[1]),s++}for(u(c),u(c),c.hunks=[];s<t.length;){var b=t[s];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(b))break;if(/^@@/.test(b))c.hunks.push(l());else{if(b&&e.strict)throw new Error("Unknown line "+(s+1)+" "+JSON.stringify(b));s++}}}a(o,"parseIndex");function u(c){var y=/^(---|\+\+\+)\s+(.*)$/.exec(t[s]);if(y){var j=y[1]==="---"?"old":"new",b=y[2].split("	",2),te=b[0].replace(/\\\\/g,"\\");/^".*"$/.test(te)&&(te=te.substr(1,te.length-2)),c[j+"FileName"]=te,c[j+"Header"]=(b[1]||"").trim(),s++}}a(u,"parseFileHeader");function l(){var c=s,y=t[s++],j=y.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),b={oldStart:+j[1],oldLines:typeof j[2]=="undefined"?1:+j[2],newStart:+j[3],newLines:typeof j[4]=="undefined"?1:+j[4],lines:[],linedelimiters:[]};b.oldLines===0&&(b.oldStart+=1),b.newLines===0&&(b.newStart+=1);for(var te=0,Te=0;s<t.length&&!(t[s].indexOf("--- ")===0&&s+2<t.length&&t[s+1].indexOf("+++ ")===0&&t[s+2].indexOf("@@")===0);s++){var _e=t[s].length==0&&s!=t.length-1?" ":t[s][0];if(_e==="+"||_e==="-"||_e===" "||_e==="\\")b.lines.push(t[s]),b.linedelimiters.push(r[s]||`
`),_e==="+"?te++:_e==="-"?Te++:_e===" "&&(te++,Te++);else break}if(!te&&b.newLines===1&&(b.newLines=0),!Te&&b.oldLines===1&&(b.oldLines=0),e.strict){if(te!==b.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(Te!==b.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1))}return b}for(a(l,"parseHunk");s<t.length;)o();return i}a(ie,"parsePatch");function We(n,e,t){var r=!0,i=!1,s=!1,o=1;return a(function u(){if(r&&!s){if(i?o++:r=!1,n+o<=t)return o;s=!0}if(!i)return s||(r=!0),e<=n-o?-o++:(i=!0,u())},"iterator")}a(We,"distanceIterator");function Ze(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=ie(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=n.split(/\r\n|[\n\v\f\r\x85]/),i=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,o=t.compareLine||function($a,qi,_a,Ei){return qi===Ei},u=0,l=t.fuzzFactor||0,c=0,y=0,j,b;function te($a,qi){for(var _a=0;_a<$a.lines.length;_a++){var Ei=$a.lines[_a],Ha=Ei.length>0?Ei[0]:" ",ts=Ei.length>0?Ei.substr(1):Ei;if(Ha===" "||Ha==="-"){if(!o(qi+1,r[qi],Ha,ts)&&(u++,u>l))return!1;qi++}}return!0}a(te,"hunkFits");for(var Te=0;Te<s.length;Te++){for(var _e=s[Te],Ue=r.length-_e.oldLines,ct=0,pt=y+_e.oldStart-1,xt=We(pt,c,Ue);ct!==void 0;ct=xt())if(te(_e,pt+ct)){_e.offset=y+=ct;break}if(ct===void 0)return!1;c=_e.offset+_e.oldStart+_e.oldLines}for(var Xt=0,Zt=0;Zt<s.length;Zt++){var hn=s[Zt],Fn=hn.oldStart+hn.offset+Xt-1;Xt+=hn.newLines-hn.oldLines;for(var An=0;An<hn.lines.length;An++){var Yn=hn.lines[An],rr=Yn.length>0?Yn[0]:" ",zr=Yn.length>0?Yn.substr(1):Yn,Ni=hn.linedelimiters[An];if(rr===" ")Fn++;else if(rr==="-")r.splice(Fn,1),i.splice(Fn,1);else if(rr==="+")r.splice(Fn,0,zr),i.splice(Fn,0,Ni),Fn++;else if(rr==="\\"){var Zi=hn.lines[An-1]?hn.lines[An-1][0]:null;Zi==="+"?j=!0:Zi==="-"&&(b=!0)}}}if(j)for(;!r[r.length-1];)r.pop(),i.pop();else b&&(r.push(""),i.push(`
`));for(var yi=0;yi<r.length-1;yi++)r[yi]=r[yi]+i[yi];return r.join("")}a(Ze,"applyPatch");function ut(n,e){typeof n=="string"&&(n=ie(n));var t=0;function r(){var i=n[t++];if(!i)return e.complete();e.loadFile(i,function(s,o){if(s)return e.complete(s);var u=Ze(o,i,e);e.patched(i,u,function(l){if(l)return e.complete(l);r()})})}a(r,"processIndex"),r()}a(ut,"applyPatches");function bt(n,e,t,r,i,s,o){o||(o={}),typeof o.context=="undefined"&&(o.context=4);var u=Ut(t,r,o);u.push({value:"",lines:[]});function l(ct){return ct.map(function(pt){return" "+pt})}a(l,"contextLines");for(var c=[],y=0,j=0,b=[],te=1,Te=1,_e=a(function(pt){var xt=u[pt],Xt=xt.lines||xt.value.replace(/\n$/,"").split(`
`);if(xt.lines=Xt,xt.added||xt.removed){var Zt;if(!y){var hn=u[pt-1];y=te,j=Te,hn&&(b=o.context>0?l(hn.lines.slice(-o.context)):[],y-=b.length,j-=b.length)}(Zt=b).push.apply(Zt,Ot(Xt.map(function(yi){return(xt.added?"+":"-")+yi}))),xt.added?Te+=Xt.length:te+=Xt.length}else{if(y)if(Xt.length<=o.context*2&&pt<u.length-2){var Fn;(Fn=b).push.apply(Fn,Ot(l(Xt)))}else{var An,Yn=Math.min(Xt.length,o.context);(An=b).push.apply(An,Ot(l(Xt.slice(0,Yn))));var rr={oldStart:y,oldLines:te-y+Yn,newStart:j,newLines:Te-j+Yn,lines:b};if(pt>=u.length-2&&Xt.length<=o.context){var zr=/\n$/.test(t),Ni=/\n$/.test(r),Zi=Xt.length==0&&b.length>rr.oldLines;!zr&&Zi&&t.length>0&&b.splice(rr.oldLines,0,"\\ No newline at end of file"),(!zr&&!Zi||!Ni)&&b.push("\\ No newline at end of file")}c.push(rr),y=0,j=0,b=[]}te+=Xt.length,Te+=Xt.length}},"_loop"),Ue=0;Ue<u.length;Ue++)_e(Ue);return{oldFileName:n,newFileName:e,oldHeader:i,newHeader:s,hunks:c}}a(bt,"structuredPatch");function Ct(n){var e=[];n.oldFileName==n.newFileName&&e.push("Index: "+n.oldFileName),e.push("==================================================================="),e.push("--- "+n.oldFileName+(typeof n.oldHeader=="undefined"?"":"	"+n.oldHeader)),e.push("+++ "+n.newFileName+(typeof n.newHeader=="undefined"?"":"	"+n.newHeader));for(var t=0;t<n.hunks.length;t++){var r=n.hunks[t];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join(`
`)+`
`}a(Ct,"formatPatch");function In(n,e,t,r,i,s,o){return Ct(bt(n,e,t,r,i,s,o))}a(In,"createTwoFilesPatch");function Dn(n,e,t,r,i,s){return In(n,n,e,t,r,i,s)}a(Dn,"createPatch");function lt(n,e){return n.length!==e.length?!1:vt(n,e)}a(lt,"arrayEqual");function vt(n,e){if(e.length>n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}a(vt,"arrayStartsWith");function Tt(n){var e=Pt(n.lines),t=e.oldLines,r=e.newLines;t!==void 0?n.oldLines=t:delete n.oldLines,r!==void 0?n.newLines=r:delete n.newLines}a(Tt,"calcLineCount");function tt(n,e,t){n=$t(n,t),e=$t(e,t);var r={};(n.index||e.index)&&(r.index=n.index||e.index),(n.newFileName||e.newFileName)&&(Rt(n)?Rt(e)?(r.oldFileName=it(r,n.oldFileName,e.oldFileName),r.newFileName=it(r,n.newFileName,e.newFileName),r.oldHeader=it(r,n.oldHeader,e.oldHeader),r.newHeader=it(r,n.newHeader,e.newHeader)):(r.oldFileName=n.oldFileName,r.newFileName=n.newFileName,r.oldHeader=n.oldHeader,r.newHeader=n.newHeader):(r.oldFileName=e.oldFileName||n.oldFileName,r.newFileName=e.newFileName||n.newFileName,r.oldHeader=e.oldHeader||n.oldHeader,r.newHeader=e.newHeader||n.newHeader)),r.hunks=[];for(var i=0,s=0,o=0,u=0;i<n.hunks.length||s<e.hunks.length;){var l=n.hunks[i]||{oldStart:1/0},c=e.hunks[s]||{oldStart:1/0};if(zt(l,c))r.hunks.push(Gt(l,o)),i++,u+=l.newLines-l.oldLines;else if(zt(c,l))r.hunks.push(Gt(c,u)),s++,o+=c.newLines-c.oldLines;else{var y={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+o,c.oldStart+u),newLines:0,lines:[]};un(y,l.oldStart,l.lines,c.oldStart,c.lines),s++,i++,r.hunks.push(y)}}return r}a(tt,"merge");function $t(n,e){if(typeof n=="string"){if(/^@@/m.test(n)||/^Index:/m.test(n))return ie(n)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return bt(void 0,void 0,e,n)}return n}a($t,"loadPatch");function Rt(n){return n.newFileName&&n.newFileName!==n.oldFileName}a(Rt,"fileNameChanged");function it(n,e,t){return e===t?e:(n.conflict=!0,{mine:e,theirs:t})}a(it,"selectField");function zt(n,e){return n.oldStart<e.oldStart&&n.oldStart+n.oldLines<e.oldStart}a(zt,"hunkBefore");function Gt(n,e){return{oldStart:n.oldStart,oldLines:n.oldLines,newStart:n.newStart+e,newLines:n.newLines,lines:n.lines}}a(Gt,"cloneHunk");function un(n,e,t,r,i){var s={offset:e,lines:t,index:0},o={offset:r,lines:i,index:0};for(wn(n,s,o),wn(n,o,s);s.index<s.lines.length&&o.index<o.lines.length;){var u=s.lines[s.index],l=o.lines[o.index];if((u[0]==="-"||u[0]==="+")&&(l[0]==="-"||l[0]==="+"))sn(n,s,o);else if(u[0]==="+"&&l[0]===" "){var c;(c=n.lines).push.apply(c,Ot(yt(s)))}else if(l[0]==="+"&&u[0]===" "){var y;(y=n.lines).push.apply(y,Ot(yt(o)))}else u[0]==="-"&&l[0]===" "?Un(n,s,o):l[0]==="-"&&u[0]===" "?Un(n,o,s,!0):u===l?(n.lines.push(u),s.index++,o.index++):gn(n,yt(s),yt(o))}en(n,s),en(n,o),Tt(n)}a(un,"mergeLines");function sn(n,e,t){var r=yt(e),i=yt(t);if(Wt(r)&&Wt(i)){if(vt(r,i)&&fn(t,r,r.length-i.length)){var s;(s=n.lines).push.apply(s,Ot(r));return}else if(vt(i,r)&&fn(e,i,i.length-r.length)){var o;(o=n.lines).push.apply(o,Ot(i));return}}else if(lt(r,i)){var u;(u=n.lines).push.apply(u,Ot(r));return}gn(n,r,i)}a(sn,"mutualChange");function Un(n,e,t,r){var i=yt(e),s=Kt(t,i);if(s.merged){var o;(o=n.lines).push.apply(o,Ot(s.merged))}else gn(n,r?s:i,r?i:s)}a(Un,"removal");function gn(n,e,t){n.conflict=!0,n.lines.push({conflict:!0,mine:e,theirs:t})}a(gn,"conflict");function wn(n,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];n.lines.push(r),e.offset++}}a(wn,"insertLeading");function en(n,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];n.lines.push(t)}}a(en,"insertTrailing");function yt(n){for(var e=[],t=n.lines[n.index][0];n.index<n.lines.length;){var r=n.lines[n.index];if(t==="-"&&r[0]==="+"&&(t="+"),t===r[0])e.push(r),n.index++;else break}return e}a(yt,"collectChange");function Kt(n,e){for(var t=[],r=[],i=0,s=!1,o=!1;i<e.length&&n.index<n.lines.length;){var u=n.lines[n.index],l=e[i];if(l[0]==="+")break;if(s=s||u[0]!==" ",r.push(l),i++,u[0]==="+")for(o=!0;u[0]==="+";)t.push(u),u=n.lines[++n.index];l.substr(1)===u.substr(1)?(t.push(u),n.index++):o=!0}if((e[i]||"")[0]==="+"&&s&&(o=!0),o)return t;for(;i<e.length;)r.push(e[i++]);return{merged:r,changes:t}}a(Kt,"collectContext");function Wt(n){return n.reduce(function(e,t){return e&&t[0]==="-"},!0)}a(Wt,"allRemoves");function fn(n,e,t){for(var r=0;r<t;r++){var i=e[e.length-t+r].substr(1);if(n.lines[n.index+r]!==" "+i)return!1}return n.index+=t,!0}a(fn,"skipRemoveSuperset");function Pt(n){var e=0,t=0;return n.forEach(function(r){if(typeof r!="string"){var i=Pt(r.mine),s=Pt(r.theirs);e!==void 0&&(i.oldLines===s.oldLines?e+=i.oldLines:e=void 0),t!==void 0&&(i.newLines===s.newLines?t+=i.newLines:t=void 0)}else t!==void 0&&(r[0]==="+"||r[0]===" ")&&t++,e!==void 0&&(r[0]==="-"||r[0]===" ")&&e++}),{oldLines:e,newLines:t}}a(Pt,"calcOldNewLineCount");function Qt(n){for(var e=[],t,r,i=0;i<n.length;i++)t=n[i],t.added?r=1:t.removed?r=-1:r=0,e.push([r,t.value]);return e}a(Qt,"convertChangesToDMP");function ln(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(_n(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}a(ln,"convertChangesToXML");function _n(n){var e=n;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(_n,"escapeHTML");var jt=/[^a-zA-Z0-9]/,mn=/\s/,Mn=/[\r\n]/,yn=/\n\r?\n$/,kn=/^\r?\n\r?\n/,$e;(function(n){n[n.DIFF_DELETE=-1]="DIFF_DELETE",n[n.DIFF_INSERT=1]="DIFF_INSERT",n[n.DIFF_EQUAL=0]="DIFF_EQUAL"})($e||($e={}));function Pn(n,e){return n<e?n:e}a(Pn,"min");function Nt(n,e){return n>e?n:e}a(Nt,"max");var mt=Ke,On=function(){function n(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(n,"PatchObject"),n.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var r=["@@ -"+e+" +"+t+` @@
`],i,s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case $e.DIFF_INSERT:i="+";break;case $e.DIFF_DELETE:i="-";break;case $e.DIFF_EQUAL:i=" ";break}r[s+1]=i+encodeURI(this.diffs[s][1])+`
`}return r.join("").replace(/%20/g," ")},n}(),vr=function(){function n(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(n,"DiffMatchPatch"),n.prototype.diff_main=function(e,t,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var s=i;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[$e.DIFF_EQUAL,e]]:[];typeof r=="undefined"&&(r=!0);var o=r,u=this.diff_commonPrefix(e,t),l=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var c=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var y=this.diff_compute_(e,t,o,s);return l&&y.unshift([$e.DIFF_EQUAL,l]),c&&y.push([$e.DIFF_EQUAL,c]),this.diff_cleanupMerge(y),y},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,i=mt.min(e.length,t.length),s=i,o=0;r<s;)e.substring(o,s)===t.substring(o,s)?(r=s,o=r):i=s,s=Math.floor((i-r)/2+r);return s},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var r=0,i=mt.min(e.length,t.length),s=i,o=0;r<s;)e.substring(e.length-s,e.length-o)===t.substring(t.length-s,t.length-o)?(r=s,o=r):i=s,s=Math.floor((i-r)/2+r);return s},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],i=0,s=null,o=0,u=0,l=0,c=0,y=0;o<e.length;)e[o][0]===$e.DIFF_EQUAL?(r[i++]=o,u=c,l=y,c=0,y=0,s=e[o][1]):(e[o][0]===$e.DIFF_INSERT?c+=e[o][1].length:y+=e[o][1].length,s&&s.length<=mt.max(u,l)&&s.length<=mt.max(c,y)&&(e.splice(r[i-1],0,[$e.DIFF_DELETE,s]),e[r[i-1]+1][0]=$e.DIFF_INSERT,i--,i--,o=i>0?r[i-1]:-1,u=0,l=0,c=0,y=0,s=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]===$e.DIFF_DELETE&&e[o][0]===$e.DIFF_INSERT){var j=e[o-1][1],b=e[o][1],te=this.diff_commonOverlap_(j,b),Te=this.diff_commonOverlap_(b,j);te>=Te?(te>=j.length/2||te>=b.length/2)&&(e.splice(o,0,[$e.DIFF_EQUAL,b.substring(0,te)]),e[o-1][1]=j.substring(0,j.length-te),e[o+1][1]=b.substring(te),o++):(Te>=j.length/2||Te>=b.length/2)&&(e.splice(o,0,[$e.DIFF_EQUAL,j.substring(0,Te)]),e[o-1][0]=$e.DIFF_INSERT,e[o-1][1]=b.substring(0,b.length-Te),e[o+1][0]=$e.DIFF_DELETE,e[o+1][1]=j.substring(Te),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===$e.DIFF_EQUAL&&e[t+1][0]===$e.DIFF_EQUAL){var r=e[t-1][1],i=e[t][1],s=e[t+1][1],o=this.diff_commonSuffix(r,i);if(o){var u=i.substring(i.length-o);r=r.substring(0,r.length-o),i=u+i.substring(0,i.length-o),s=u+s}for(var l=r,c=i,y=s,j=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var b=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);b>=j&&(j=b,l=r,c=i,y=s)}e[t-1][1]!==l&&(l?e[t-1][1]=l:(e.splice(t-1,1),t--),e[t][1]=c,y?e[t+1][1]=y:(e.splice(t+1,1),t--))}t++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],i=0,s=null,o=0,u=!1,l=!1,c=!1,y=!1;o<e.length;)e[o][0]===$e.DIFF_EQUAL?(e[o][1].length<this.diffEditCost&&(c||y)?(r[i++]=o,u=c,l=y,s=e[o][1]):(i=0,s=null),c=y=!1):(e[o][0]===$e.DIFF_DELETE?y=!0:c=!0,s&&(u&&l&&c&&y||s.length<this.diffEditCost/2&&Number(u)+Number(l)+Number(c)+Number(y)===3)&&(e.splice(r[i-1],0,[$e.DIFF_DELETE,s]),e[r[i-1]+1][0]=$e.DIFF_INSERT,i--,s=null,u&&l?(c=y=!0,i=0):(i--,o=i>0?r[i-1]:-1,c=y=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([$e.DIFF_EQUAL,""]);for(var t=0,r=0,i=0,s="",o="",u;t<e.length;)switch(e[t][0]){case $e.DIFF_INSERT:i++,o+=e[t][1],t++;break;case $e.DIFF_DELETE:r++,s+=e[t][1],t++;break;case $e.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(u=this.diff_commonPrefix(o,s),u!==0&&(t-r-i>0&&e[t-r-i-1][0]===$e.DIFF_EQUAL?e[t-r-i-1][1]+=o.substring(0,u):(e.splice(0,0,[$e.DIFF_EQUAL,o.substring(0,u)]),t++),o=o.substring(u),s=s.substring(u)),u=this.diff_commonSuffix(o,s),u!==0&&(e[t][1]=o.substring(o.length-u)+e[t][1],o=o.substring(0,o.length-u),s=s.substring(0,s.length-u))),t-=r+i,e.splice(t,r+i),s.length&&(e.splice(t,0,[$e.DIFF_DELETE,s]),t++),o.length&&(e.splice(t,0,[$e.DIFF_INSERT,o]),t++),t++):t!==0&&e[t-1][0]===$e.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,r=0,s="",o="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(t=1;t<e.length-1;)e[t-1][0]===$e.DIFF_EQUAL&&e[t+1][0]===$e.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),l=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),l=!0)),t++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var r=0,i=0,s=0,o=0,u;for(u=0;u<e.length&&(e[u][0]!==$e.DIFF_INSERT&&(r+=e[u][1].length),e[u][0]!==$e.DIFF_DELETE&&(i+=e[u][1].length),!(r>t));u++)s=r,o=i;return e.length!==u&&e[u][0]===$e.DIFF_DELETE?o:o+(t-s)},n.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,s=/>/g,o=/\n/g,u=0;u<e.length;u++){var l=e[u][0],c=e[u][1],y=c.replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case $e.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+y+"</ins>";break;case $e.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+y+"</del>";break;case $e.DIFF_EQUAL:t[u]="<span>"+y+"</span>";break}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==$e.DIFF_INSERT&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==$e.DIFF_DELETE&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,s=0;s<e.length;s++){var o=e[s][0],u=e[s][1];switch(o){case $e.DIFF_INSERT:r+=u.length;break;case $e.DIFF_DELETE:i+=u.length;break;case $e.DIFF_EQUAL:t+=mt.max(r,i),r=0,i=0;break}}return t+=mt.max(r,i),t},n.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case $e.DIFF_INSERT:t[r]="+"+encodeURI(e[r][1]);break;case $e.DIFF_DELETE:t[r]="-"+e[r][1].length;break;case $e.DIFF_EQUAL:t[r]="="+e[r][1].length;break}return t.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var r=[],i=0,s=0,o=t.split(/\t/g),u=0;u<o.length;u++){var l=o[u].substring(1);switch(o[u].charAt(0)){case"+":try{r[i++]=[$e.DIFF_INSERT,decodeURI(l)]}catch(j){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var y=e.substring(s,s+=c);o[u].charAt(0)==="="?r[i++]=[$e.DIFF_EQUAL,y]:r[i++]=[$e.DIFF_DELETE,y];break;default:if(o[u])throw new Error("Invalid diff operation in diff_fromDelta: "+o[u])}}if(s!==e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+")");return r},n.prototype.diff_linesToChars=function(e,t){var r=[],i={};r[0]="";var s=this.diff_linesToCharsMunge_(e,r,i,4e4),o=this.diff_linesToCharsMunge_(t,r,i,65535);return{chars1:s,chars2:o,lineArray:r}},n.prototype.diff_charsToLines=function(e,t){for(var r=0;r<e.length;r++){for(var i=e[r][1],s=[],o=0;o<i.length;o++)s[o]=t[i.charCodeAt(o)];e[r][1]=s.join("")}},n.prototype.match_main=function(e,t,r){if(e==null||t==null||r==null)throw new Error("Null input. (match_main)");return r=mt.max(0,mt.min(r,e.length)),e===t?0:e.length?e.substring(r,r+t.length)===t?r:this.match_bitap_(e,t,r):-1},n.prototype.patch_make=function(e,t,r){var i,s;if(typeof e=="string"&&typeof t=="string"&&typeof r=="undefined")i=e,s=this.diff_main(i,t,!0),s.length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof r=="undefined")s=e,i=this.diff_text1(s);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof r=="undefined")i=e,s=t;else if(typeof e=="string"&&typeof t=="string"&&r&&typeof r=="object")i=e,s=r;else throw new Error("Unknown call format to patch_make");if(s.length===0)return[];for(var o=[],u=new On,l=0,c=0,y=0,j=i,b=i,te=0;te<s.length;te++){var Te=s[te][0],_e=s[te][1];switch(!l&&Te!==$e.DIFF_EQUAL&&(u.start1=c,u.start2=y),Te){case $e.DIFF_INSERT:u.diffs[l++]=s[te],u.length2+=_e.length,b=b.substring(0,y)+_e+b.substring(y);break;case $e.DIFF_DELETE:u.length1+=_e.length,u.diffs[l++]=s[te],b=b.substring(0,y)+b.substring(y+_e.length);break;case $e.DIFF_EQUAL:_e.length<=2*this.patchMargin&&l&&s.length!==te+1?(u.diffs[l++]=s[te],u.length1+=_e.length,u.length2+=_e.length):_e.length>=2*this.patchMargin&&l&&(this.patch_addContext_(u,j),o.push(u),u=new On,l=0,j=b,c=y);break}Te!==$e.DIFF_INSERT&&(c+=_e.length),Te!==$e.DIFF_DELETE&&(y+=_e.length)}return l&&(this.patch_addContext_(u,j),o.push(u)),o},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){for(var i=e[r],s=new On,o=0;o<i.diffs.length;o++)s.diffs[o]=[i.diffs[o][0],i.diffs[o][1]];s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,t[r]=s}return t},n.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,s=[],o=0;o<e.length;o++){var u=e[o].start2+i,l=this.diff_text1(e[o].diffs),c=void 0,y=-1;if(l.length>this.matchMaxBits?(c=this.match_main(t,l.substring(0,this.matchMaxBits),u),c!==-1&&(y=this.match_main(t,l.substring(l.length-this.matchMaxBits),u+l.length-this.matchMaxBits),(y===-1||c>=y)&&(c=-1))):c=this.match_main(t,l,u),c===-1)s[o]=!1,i-=e[o].length2-e[o].length1;else{s[o]=!0,i=c-u;var j=void 0;if(y===-1?j=t.substring(c,c+l.length):j=t.substring(c,y+this.matchMaxBits),l===j)t=t.substring(0,c)+this.diff_text2(e[o].diffs)+t.substring(c+l.length);else{var b=this.diff_main(l,j,!1);if(l.length>this.matchMaxBits&&this.diff_levenshtein(b)/l.length>this.patchDeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(b);for(var te=0,Te=0,_e=0;_e<e[o].diffs.length;_e++){var Ue=e[o].diffs[_e];Ue[0]!==$e.DIFF_EQUAL&&(Te=this.diff_xIndex(b,te)),Ue[0]===$e.DIFF_INSERT?t=t.substring(0,c+Te)+Ue[1]+t.substring(c+Te):Ue[0]===$e.DIFF_DELETE&&(t=t.substring(0,c+Te)+t.substring(c+this.diff_xIndex(b,te+Ue[1].length))),Ue[0]!==$e.DIFF_DELETE&&(te+=Ue[1].length)}}}}}return t=t.substring(r.length,t.length-r.length),[t,s]},n.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var s=e[0],o=s.diffs;if(o.length===0||o[0][0]!==$e.DIFF_EQUAL)o.unshift([$e.DIFF_EQUAL,r]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>o[0][1].length){var u=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=u,s.start2-=u,s.length1+=u,s.length2+=u}if(s=e[e.length-1],o=s.diffs,o.length===0||o[o.length-1][0]!==$e.DIFF_EQUAL)o.push([$e.DIFF_EQUAL,r]),s.length1+=t,s.length2+=t;else if(t>o[o.length-1][1].length){var u=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,u),s.length1+=u,s.length2+=u}return r},n.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var i=e[r];e.splice(r--,1);for(var s=i.start1,o=i.start2,u="";i.diffs.length!==0;){var l=new On,c=!0;for(l.start1=s-u.length,l.start2=o-u.length,u!==""&&(l.length1=l.length2=u.length,l.diffs.push([$e.DIFF_EQUAL,u]));i.diffs.length!==0&&l.length1<t-this.patchMargin;){var y=i.diffs[0][0],j=i.diffs[0][1];y===$e.DIFF_INSERT?(l.length2+=j.length,o+=j.length,l.diffs.push(i.diffs.shift()),c=!1):y===$e.DIFF_DELETE&&l.diffs.length===1&&l.diffs[0][0]===$e.DIFF_EQUAL&&j.length>2*t?(l.length1+=j.length,s+=j.length,c=!1,l.diffs.push([y,j]),i.diffs.shift()):(j=j.substring(0,t-l.length1-this.patchMargin),l.length1+=j.length,s+=j.length,y===$e.DIFF_EQUAL?(l.length2+=j.length,o+=j.length):c=!1,l.diffs.push([y,j]),j===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(j.length))}u=this.diff_text2(l.diffs),u=u.substring(u.length-this.patchMargin);var b=this.diff_text1(i.diffs).substring(0,this.patchMargin);b!==""&&(l.length1+=b.length,l.length2+=b.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===$e.DIFF_EQUAL?l.diffs[l.diffs.length-1][1]+=b:l.diffs.push([$e.DIFF_EQUAL,b])),c||e.splice(++r,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split(`
`),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var o=r[i].match(s);if(!o)throw new Error("Invalid patch string: "+r[i]);var u=new On;t.push(u),u.start1=parseInt(o[1],10),o[2]===""?(u.start1--,u.length1=1):o[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(o[2],10)),u.start2=parseInt(o[3],10),o[4]===""?(u.start2--,u.length2=1):o[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(o[4],10)),i++;for(var l=void 0,c=void 0,y=void 0;i<r.length;){l=r[i].charAt(0),y=r[i].substring(1);try{c=decodeURI(y)}catch(j){throw new Error("Illegal escape in patch_fromText: "+y)}if(l==="-")u.diffs.push([$e.DIFF_DELETE,c]);else if(l==="+")u.diffs.push([$e.DIFF_INSERT,c]);else if(l===" ")u.diffs.push([$e.DIFF_EQUAL,c]);else{if(l==="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+c)}i++}}return t},n.prototype.diff_compute_=function(e,t,r,i){var s;if(!e)return[[$e.DIFF_INSERT,t]];if(!t)return[[$e.DIFF_DELETE,e]];var o=e.length>t.length?e:t,u=e.length>t.length?t:e,l=o.indexOf(u);if(l!==-1)return s=[[$e.DIFF_INSERT,o.substring(0,l)],[$e.DIFF_EQUAL,u],[$e.DIFF_INSERT,o.substring(l+u.length)]],e.length>t.length&&(s[0][0]=$e.DIFF_DELETE,s[2][0]=$e.DIFF_DELETE),s;if(u.length===1)return[[$e.DIFF_DELETE,e],[$e.DIFF_INSERT,t]];var c=this.diff_halfMatch_(e,t);if(c){var y=c[0],j=c[1],b=c[2],te=c[3],Te=c[4],_e=this.diff_main(y,b,r,i),Ue=this.diff_main(j,te,r,i);return _e.concat([[$e.DIFF_EQUAL,Te]],Ue)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},n.prototype.diff_lineMode_=function(e,t,r){var i=this.diff_linesToChars(e,t);e=i.chars1,t=i.chars2;var s=i.lineArray,o=this.diff_main(e,t,!1,r);this.diff_charsToLines(o,s),this.diff_cleanupSemantic(o),o.push([$e.DIFF_EQUAL,""]);for(var u=0,l=0,c=0,y="",j="";u<o.length;){switch(o[u][0]){case $e.DIFF_INSERT:c++,j+=o[u][1];break;case $e.DIFF_DELETE:l++,y+=o[u][1];break;case $e.DIFF_EQUAL:if(l>=1&&c>=1){o.splice(u-l-c,l+c),u=u-l-c;for(var b=this.diff_main(y,j,!1,r),te=b.length-1;te>=0;te--)o.splice(u,0,b[te]);u=u+b.length}c=0,l=0,y="",j="";break}u++}return o.pop(),o},n.prototype.diff_bisect_=function(e,t,r){for(var i=e.length,s=t.length,o=Math.ceil((i+s)/2),u=o,l=2*o,c=new Array(l),y=new Array(l),j=0;j<l;j++)c[j]=-1,y[j]=-1;c[u+1]=0,y[u+1]=0;for(var b=i-s,te=b%2!=0,Te=0,_e=0,Ue=0,ct=0,pt=0;pt<o&&!(Date.now()>r);pt++){for(var xt=-pt+Te;xt<=pt-_e;xt+=2){var Xt=u+xt,Zt=void 0;xt===-pt||xt!==pt&&c[Xt-1]<c[Xt+1]?Zt=c[Xt+1]:Zt=c[Xt-1]+1;for(var hn=Zt-xt;Zt<i&&hn<s&&e.charAt(Zt)===t.charAt(hn);)Zt++,hn++;if(c[Xt]=Zt,Zt>i)_e+=2;else if(hn>s)Te+=2;else if(te){var Fn=u+b-xt;if(Fn>=0&&Fn<l&&y[Fn]!==-1){var An=i-y[Fn];if(Zt>=An)return this.diff_bisectSplit_(e,t,Zt,hn,r)}}}for(var Yn=-pt+Ue;Yn<=pt-ct;Yn+=2){var Fn=u+Yn,An=void 0;Yn===-pt||Yn!==pt&&y[Fn-1]<y[Fn+1]?An=y[Fn+1]:An=y[Fn-1]+1;for(var rr=An-Yn;An<i&&rr<s&&e.charAt(i-An-1)===t.charAt(s-rr-1);)An++,rr++;if(y[Fn]=An,An>i)ct+=2;else if(rr>s)Ue+=2;else if(!te){var Xt=u+b-Yn;if(Xt>=0&&Xt<l&&c[Xt]!==-1){var Zt=c[Xt],hn=u+Zt-Xt;if(An=i-An,Zt>=An)return this.diff_bisectSplit_(e,t,Zt,hn,r)}}}}return[[$e.DIFF_DELETE,e],[$e.DIFF_INSERT,t]]},n.prototype.diff_bisectSplit_=function(e,t,r,i,s){var o=e.substring(0,r),u=t.substring(0,i),l=e.substring(r),c=t.substring(i),y=this.diff_main(o,u,!1,s),j=this.diff_main(l,c,!1,s);return y.concat(j)},n.prototype.diff_linesToCharsMunge_=function(e,t,r,i){for(var s="",o=0,u=-1,l=t.length;u<e.length-1;){u=e.indexOf(`
`,o),u===-1&&(u=e.length-1);var c=e.substring(o,u+1);(r.hasOwnProperty?r.hasOwnProperty(c):r[c]!==void 0)?s+=String.fromCharCode(r[c]):(l===i&&(c=e.substring(o),u=e.length),s+=String.fromCharCode(l),r[c]=l,t[l++]=c),o=u+1}return s},n.prototype.diff_commonOverlap_=function(e,t){var r=e.length,i=t.length;if(r===0||i===0)return 0;r>i?e=e.substring(r-i):r<i&&(t=t.substring(0,r));var s=mt.min(r,i);if(e===t)return s;for(var o=0,u=1;;){var l=e.substring(s-u),c=t.indexOf(l);if(c===-1)return o;u+=c,(c===0||e.substring(s-u)===t.substring(0,u))&&(o=u,u++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;var s=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),o=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),u;if(!s&&!o)return null;o?s?u=s[4].length>o[4].length?s:o:u=o:u=s;var l,c,y,j,b=u[4];return e.length>t.length?(l=u[0],c=u[1],y=u[2],j=u[3]):(y=u[0],j=u[1],l=u[2],c=u[3]),[l,c,y,j,b]},n.prototype.diff_halfMatchI_=function(e,t,r){for(var i=e.substring(r,r+Math.floor(e.length/4)),s="",o,u,l,c,y=t.indexOf(i,0);y!==-1;){var j=this.diff_commonPrefix(e.substring(r),t.substring(y)),b=this.diff_commonSuffix(e.substring(0,r),t.substring(0,y));s.length<b+j&&(s=t.substring(y-b,y)+t.substring(y,y+j),o=e.substring(0,r-b),u=e.substring(r+j),l=t.substring(0,y-b),c=t.substring(y+j)),y=t.indexOf(i,y+1)}return s.length*2>=e.length?[o,u,l,c,s]:null},n.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),s=r.match(jt),o=i.match(jt),u=s&&r.match(mn),l=o&&i.match(mn),c=u&&r.match(Mn),y=l&&i.match(Mn),j=c&&e.match(yn),b=y&&t.match(kn);return j||b?5:c||y?4:s&&!u&&l?3:u||l?2:s||o?1:0},n.prototype.match_bitap_=function(e,t,r){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),s=this.matchThreshold,o=e.indexOf(t,r);o!==-1&&(s=mt.min(this.match_bitapScore_(0,o,t,r),s),o=e.lastIndexOf(t,r+t.length),o!==-1&&(s=mt.min(this.match_bitapScore_(0,o,t,r),s)));var u=1<<t.length-1;o=-1;for(var l,c,y=t.length+e.length,j,b=0;b<t.length;b++){for(l=0,c=y;l<c;)this.match_bitapScore_(b,r+c,t,r)<=s?l=c:y=c,c=Math.floor((y-l)/2+l);y=c;var te=mt.max(1,r-c+1),Te=mt.min(r+c,e.length)+t.length,_e=Array(Te+2);_e[Te+1]=(1<<b)-1;for(var Ue=Te;Ue>=te;Ue--){var ct=i[e.charAt(Ue-1)];if(b===0?_e[Ue]=(_e[Ue+1]<<1|1)&ct:_e[Ue]=(_e[Ue+1]<<1|1)&ct|((j[Ue+1]|j[Ue])<<1|1)|j[Ue+1],_e[Ue]&u){var pt=this.match_bitapScore_(b,Ue-1,t,r);if(pt<=s)if(s=pt,o=Ue-1,o>r)te=mt.max(1,2*r-o);else break}}if(this.match_bitapScore_(b+1,r,t,r)>s)break;j=_e}return o},n.prototype.match_bitapScore_=function(e,t,r,i){var s=e/r.length,o=Math.abs(i-t);return this.matchDistance?s+o/this.matchDistance:o?1:s},n.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(var r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},n.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var s=t.substring(e.start2-i,e.start2);s&&e.diffs.unshift([$e.DIFF_EQUAL,s]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push([$e.DIFF_EQUAL,o]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},n}();function Bn(n,e){let t={};for(let s=0;s<e.length;s++){const o=e[s];t[o]?t[o].push(s):t[o]=[s]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let s=0;s<n.length;s++){const o=n[s],u=t[o]||[];let l=0,c=i[0];for(let y=0;y<u.length;y++){const j=u[y];let b;for(b=l;b<i.length&&!(i[b].buffer2index<j&&(b===i.length-1||i[b+1].buffer2index>j));b++);if(b<i.length){const te={buffer1index:s,buffer2index:j,chain:i[b]};if(l===i.length?i.push(c):i[l]=c,l=b+1,c=te,l===i.length)break}}i[l]=c}return i[i.length-1]}a(Bn,"LCS");function Jn(n,e){const t=Bn(n,e);let r=[],i=n.length,s=e.length,o={common:[]};function u(){o.common.length&&(o.common.reverse(),r.push(o),o={common:[]})}a(u,"processCommon");for(let l=t;l!==null;l=l.chain){let c={buffer1:[],buffer2:[]};for(;--i>l.buffer1index;)c.buffer1.push(n[i]);for(;--s>l.buffer2index;)c.buffer2.push(e[s]);(c.buffer1.length||c.buffer2.length)&&(u(),c.buffer1.reverse(),c.buffer2.reverse(),r.push(c)),i>=0&&o.common.push(n[i])}return u(),r.reverse(),r}a(Jn,"diffComm");function $n(n,e){const t=Bn(n,e);let r=[],i=n.length,s=e.length;for(let o=t;o!==null;o=o.chain){const u=i-o.buffer1index-1,l=s-o.buffer2index-1;i=o.buffer1index,s=o.buffer2index,(u||l)&&r.push({buffer1:[i+1,u],buffer1Content:n.slice(i+1,i+1+u),buffer2:[s+1,l],buffer2Content:e.slice(s+1,s+1+l)})}return r.reverse(),r}a($n,"diffIndices");function br(n,e){const t=Bn(n,e);let r=[],i=n.length,s=e.length;function o(u,l,c){let y=[];for(let j=0;j<c;j++)y.push(u[l+j]);return{offset:l,length:c,chunk:y}}a(o,"chunkDescription");for(let u=t;u!==null;u=u.chain){const l=i-u.buffer1index-1,c=s-u.buffer2index-1;i=u.buffer1index,s=u.buffer2index,(l||c)&&r.push({buffer1:o(n,u.buffer1index+1,l),buffer2:o(e,u.buffer2index+1,c)})}return r.reverse(),r}a(br,"diffPatch");function Qn(n,e,t){let r=[];function i(l,c){r.push({ab:c,oStart:l.buffer1[0],oLength:l.buffer1[1],abStart:l.buffer2[0],abLength:l.buffer2[1]})}a(i,"addHunk"),$n(e,n).forEach(l=>i(l,"a")),$n(e,t).forEach(l=>i(l,"b")),r.sort((l,c)=>l.oStart-c.oStart);let s=[],o=0;function u(l){l>o&&(s.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:l-o,bufferContent:e.slice(o,l)}),o=l)}for(a(u,"advanceTo");r.length;){let l=r.shift(),c=l.oStart,y=l.oStart+l.oLength,j=[l];for(u(c);r.length;){const b=r[0],te=b.oStart;if(te>y)break;y=Math.max(y,te+b.oLength),j.push(r.shift())}if(j.length===1){if(l.abLength>0){const b=l.ab==="a"?n:t;s.push({stable:!0,buffer:l.ab,bufferStart:l.abStart,bufferLength:l.abLength,bufferContent:b.slice(l.abStart,l.abStart+l.abLength)})}}else{let b={a:[n.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;j.length;){l=j.shift();const pt=l.oStart,xt=pt+l.oLength,Xt=l.abStart,Zt=Xt+l.abLength;let hn=b[l.ab];hn[0]=Math.min(Xt,hn[0]),hn[1]=Math.max(Zt,hn[1]),hn[2]=Math.min(pt,hn[2]),hn[3]=Math.max(xt,hn[3])}const te=b.a[0]+(c-b.a[2]),Te=b.a[1]+(y-b.a[3]),_e=b.b[0]+(c-b.b[2]),Ue=b.b[1]+(y-b.b[3]);let ct={stable:!1,aStart:te,aLength:Te-te,aContent:n.slice(te,Te),oStart:c,oLength:y-c,oContent:e.slice(c,y),bStart:_e,bLength:Ue-_e,bContent:t.slice(_e,Ue)};s.push(ct)}o=y}return u(e.length),s}a(Qn,"diff3MergeRegions");function xn(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=typeof n=="string",o=typeof e=="string",u=typeof t=="string";s&&(n=n.split(r.stringSeparator)),o&&(e=e.split(r.stringSeparator)),u&&(t=t.split(r.stringSeparator));let l=[];const c=Qn(n,e,t);let y=[];function j(){y.length&&l.push({ok:y}),y=[]}a(j,"flushOk");function b(te,Te){if(te.length!==Te.length)return!1;for(let _e=0;_e<te.length;_e++)if(te[_e]!==Te[_e])return!1;return!0}return a(b,"isFalseConflict"),c.forEach(te=>{te.stable?y.push(...te.bufferContent):r.excludeFalseConflicts&&b(te.aContent,te.bContent)?y.push(...te.aContent):(j(),l.push({conflict:{a:te.aContent,aIndex:te.aStart,o:te.oContent,oIndex:te.oStart,b:te.bContent,bIndex:te.bStart}}))}),j(),l}a(xn,"diff3Merge");function Nr(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const s=xn(n,e,t,r);let o=!1,u=[];return s.forEach(l=>{l.ok?u=u.concat(l.ok):l.conflict&&(o=!0,u.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),u=u.concat(l.conflict.a),u.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),u=u.concat(l.conflict.o),u.push("======="),u=u.concat(l.conflict.b),u.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:o,result:u}}a(Nr,"mergeDiff3");function sr(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=xn(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const c=s[l];c.ok?u=u.concat(c.ok):(o=!0,u=u.concat([`
<<<<<<<<<
`],c.conflict.a,[`
=========
`],c.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:o,result:u}}a(sr,"node_diff3_merge");function or(n,e,t,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const s=xn(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const c=s[l];if(c.ok)u=u.concat(c.ok);else{const y=Jn(c.conflict.a,c.conflict.b);for(let j=0;j<y.length;j++){let b=y[j];b.common?u=u.concat(b.common):(o=!0,u=u.concat([`
<<<<<<<<<
`],b.buffer1,[`
=========
`],b.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:o,result:u}}a(or,"mergeDigIn");function gr(n,e){let t=[],r=0;function i(s){for(;r<s;)t.push(n[r]),r++}a(i,"advanceTo");for(let s=0;s<e.length;s++){let o=e[s];i(o.buffer1.offset);for(let u=0;u<o.buffer2.chunk.length;u++)t.push(o.buffer2.chunk[u]);r+=o.buffer1.length}return i(n.length),t}a(gr,"patch");function ur(n){return n.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(ur,"stripPatch");function Kr(n){return n.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(Kr,"invertPatch");const lr=new vr;lr.diffTimeout=0;function cr(n,e,t){return ge.get("experimental.useDiffMatchPatch")===!0?lr.patch_toText(lr.patch_make(e,t)):Dn(n,e,t)}a(cr,"diffs_createPatch");function Ur(n,e,t,r){const i=`diff --git a/${n} b/${n}`;switch(r){case"modify":return cr(n,e,t);case"add":{let s;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?s=`
\\ No newline at end of file`:s="";const o=/\r?\n/g,u=t.split(o),l=t.match(o)||[],c=u.length,y=[];for(let j=0;j<c;j+=1)(j<u.length-1||j===u.length-1&&u[j]!=="")&&y.push("+"),y.push(u[j]),j<l.length&&y.push(l[j]);return t=y.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${n}
@@ -0,0 +1,${c} @@
${t}${s}`}case"delete":{let s=0;return e=e.replace(/\r?\n/g,o=>(s++,`${o}-`)),`${i}
deleted file mode 100644
--- a/${n}
+++ /dev/null
@@ -1,${s} +0,0 @@
-${e}`}}}a(Ur,"createPatch2");function Sr(n,e,t){return Ze(n,e,t)}a(Sr,"diffs_applyPatch");function kr(n,e){const t=[];for(const r of ie(n,e))t.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(s=>s[0]==="-"?`+${s.slice(1)}`:s[0]==="+"?`-${s.slice(1)}`:s)}))}),t.push(r);return t}a(kr,"reversePatch");function Lr(n,e,t,r){let i=`
`;const s=n.match(/(?:\r?\n)/g);if(s!==null&&s.length!==0){const c=s.filter(y=>y===`\r
`).length;i=c>s.length-c?`\r
`:`
`}const o=sr(n,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=o.result;let l=o.conflict;for(let c=0;c<u.length;c+=1)u[c]===`
<<<<<<<<<
`?u[c]="<<<<<<< HEAD":u[c]===`
=========
`?u[c]="=======":u[c]===`
>>>>>>>>>
`&&(u[c]=`>>>>>>> ${r}`);return{conflicts:l,mergedContent:u.join(i)}}a(Lr,"diffs_merge");function pr(n){return n!==void 0&&typeof n.then=="function"}a(pr,"isPromise");const Fr="";function _r(...n){if(n.length===1){const e=n[0];return e===void 0?Fr:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof v.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}a(_r,"defaultResolver");function Cn(n){return(e,t,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const s=`$gate$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:_r)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];if(l===void 0){let c;try{if(c=i.apply(this,o),c==null||!pr(c))return c;this[u]=l=c.then(y=>(this[u]=void 0,y)).catch(y=>{throw this[u]=void 0,y})}catch(y){throw this[u]=void 0,y}}return l}}}a(Cn,"gate");function Nn(n){const e=performance.now()*.001;let t=Math.floor(e),r=Math.floor(e%1*1e9);return n!==void 0&&(t=t-n[0],r=r-n[1],r<0&&(t--,r+=1e9)),[t,r]}a(Nn,"hrtime");let pn=0;function me(){return pn===Number.MAX_SAFE_INTEGER&&(pn=0),++pn}a(me,"getNextInstanceId");const _=a(class{constructor(n,e,...t){this.context=n,this.instance=`[${me().toString().padStart(5)}] `;var r,i,s,o,u,l;let c;if(typeof(e==null?void 0:e.log)=="boolean"?c=e.log?{}:void 0:c=(r=e==null?void 0:e.log)!=null?r:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:oe.Info,this.time=Nn(),c){if(!Z.enabled(this.logLevel))return;t.length?ue(this.logLevel,`${this.instance}${(s=c.prefix)!=null?s:""}${n}${(o=c.message)!=null?o:""}`,...t):ue(this.logLevel,`${this.instance}${(u=c.prefix)!=null?u:""}${n}${(l=c.message)!=null?l:""}`)}}log(n){this.logCore(this.context,n,!1)}logStep(n,e){(!n||e)&&this.logCore(this.context,e,!1),this.step=n?{time:Nn(),label:n}:void 0}restart(n){this.logCore(this.context,n,!0),this.step=void 0,this.time=Nn()}stop(n){this.restart(n)}logCore(n,e,t){var r,i,s,o,u,l,c;if(!Z.enabled(this.logLevel))return;let y="";if(this.step){const[Te,_e]=Nn(this.step.time),Ue=Te*1e3+Math.floor(_e/1e6);y=`${this.step.label?`${this.step.label} took `:""}${Ue} ms`}if(!t){ue(this.logLevel,`${this.instance}${(r=e==null?void 0:e.prefix)!=null?r:""}${n}${(i=e==null?void 0:e.message)!=null?i:""}${y?` ${y}`:""}${(s=e==null?void 0:e.suffix)!=null?s:""}`);return}const[j,b]=Nn(this.time),te=j*1e3+Math.floor(b/1e6);ue(te>500?oe.Warn:this.logLevel,`${this.instance}${(o=e==null?void 0:e.prefix)!=null?o:""}${n}${(u=e==null?void 0:e.message)!=null?u:""}${(l=e==null?void 0:e.took)!=null?l:" took "}${te} ms${y?` (${y})`:""}${(c=e==null?void 0:e.suffix)!=null?c:""}`)}static start(n,e,...t){var r;(r=_.watches.get(n))==null||r.log(),_.watches.set(n,new _(n,e,...t))}static log(n,e){var t;(t=_.watches.get(n))==null||t.log(e)}static stop(n,e){var t;(t=_.watches.get(n))==null||t.stop(e),_.watches.delete(n)}},"_Stopwatch");let x=_;x.watches=new Map;function ue(n,e,...t){switch(n){case oe.Warn:Z.warn(e,...t);break;case oe.Info:Z.log(e,...t);break;default:Z.debug(e,...t);break}}a(ue,"log");let Fe=0;function ft(){return Fe===Number.MAX_SAFE_INTEGER&&(Fe=0),String(++Fe)}a(ft,"getNextLockId");class Xe{constructor(){this.id=ft()}async synchronize(e){let t;const r=this.promise;this.promise=new Promise(i=>t=i),await r;try{return await e()}finally{t()}}}a(Xe,"Lock");class he{constructor(e){this.lock=new Xe,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let r;const i=new x(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:oe.Debug});let s;await this.lock.synchronize(async()=>{this.writer&&await this.writer,s=new Promise(o=>r=o),this.readers.add(s)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),s!==void 0&&this.readers.delete(s),r()}}async synchronizeWrite(e,t){let r;const i=new x(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:oe.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const s=[...this.readers];this.readers.clear(),await Promise.all(s)}this.writer=new Promise(s=>r=s)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),r(),this.writer=void 0}}}a(he,"ReaderWriterLock");class Ce{constructor(){this.locks=new Map}async synchronizeRead(e,t,r){let i=this.locks.get(e);return i===void 0&&(i=new he(String(e)),this.locks.set(e,i)),i.synchronizeRead(t,r)}async synchronizeWrite(e,t,r){let i=this.locks.get(e);return i===void 0&&(i=new he(String(e)),this.locks.set(e,i)),i.synchronizeWrite(t,r)}}a(Ce,"KeyedReaderWriterLock");const Pe=new TextDecoder,ze=new TextEncoder;async function qe(n){const e=typeof n=="string"?ze.encode(n):n;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const r=new It;r.update(e),t=r.digest()}return globalThis.btoa(encodeURIComponent(Pe.decode(t)))}a(qe,"sha1");async function nt(n){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},n);return R(Pe.decode(e))}a(nt,"sha256");var Dt;(function(n){n[n.BLOCK_SIZE=64]="BLOCK_SIZE"})(Dt||(Dt={}));function wt(n,e,t=32){const r=t-e,i=~((1<<r)-1);return(n<<e|(i&n)>>>r)>>>0}a(wt,"leftRotate");function Lt(n,e=0,t=n.byteLength,r=0){for(let i=0;i<t;i++)n[e+i]=r}a(Lt,"fill");const zn=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(n){const e=this._buff;let t=this._buffLen,r=0;const i=n.byteLength;for(;r<i;){const s=Math.min(64-t,i-r);for(let o=0;o<s;o++)e[t++]=n[r++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const n=new ArrayBuffer(20),e=new DataView(n);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),n}_wrapUp(){this._buff[this._buffLen++]=128,Lt(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Lt(this._buff));const n=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(n/4294967296),!1),this._buffDV.setUint32(60,n%4294967296,!1),this._step()}_step(){const n=zn._bigBlock32,e=this._buffDV;for(let y=0;y<64;y+=4)n.setUint32(y,e.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)n.setUint32(y,wt(n.getUint32(y-12,!1)^n.getUint32(y-32,!1)^n.getUint32(y-56,!1)^n.getUint32(y-64,!1),1),!1);let t=this._h0,r=this._h1,i=this._h2,s=this._h3,o=this._h4,u,l,c;for(let y=0;y<80;y++)y<20?(u=r&i|~r&s,l=1518500249):y<40?(u=r^i^s,l=1859775393):y<60?(u=r&i|r&s|i&s,l=2400959708):(u=r^i^s,l=3395469782),c=wt(t,5)+u+o+l+n.getUint32(y*4,!1)&4294967295,o=s,s=i,i=wt(r,30),r=t,t=c;this._h0=this._h0+t&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+o&4294967295}},"_SHA1Computer");let It=zn;It._bigBlock32=new DataView(new ArrayBuffer(320));function Xn(n){const e=globalThis.atob(n),t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r}a(Xn,"fromBase64");const{fromCharCode:Kn}=String;function Hn(n){let e;if(typeof n=="string")e=n;else{e="";for(let t=0,{length:r}=n;t<r;t++)e+=Kn(n[t])}return globalThis.btoa(e)}a(Hn,"toBase64");function fr(n,e){if(n===e)return-1;let t=0;for(;n[t]===e[t];)t++;return t}a(fr,"indexOfDifference");function qr(n){return n.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(qr,"strings_escapeRegExpCharacters");var Si=Object.defineProperty,fi=Object.getOwnPropertyDescriptor,ei=a((n,e,t,r)=>{for(var i=r>1?void 0:r?fi(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Si(e,t,i),i},"__decorateClass");const ti=v.FileSystemError.FileNotFound().code,wi=`===================================================================
`,ir=new TextDecoder,di=new TextEncoder;function ni(n){return n&&"type"in n&&"uri"in n&&"uri"in n&&"fileType"in n&&"revision"in n&&"timestamp"in n}a(ni,"isOperation");function Br(n,e,t){return{type:n.type,rootUri:e,uri:t!=null?t:n.uri}}a(Br,"toEvent");const Mr=a(class{constructor(n,e,t,r,i,s){this.providerService=n,this.storageService=e,this.fileStorageService=t,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new v.EventEmitter,this.cache=new Map,this.lock=new Ce,this.scopedStores=new Map,s===void 0&&(this.disposable=v.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var n;(n=this.disposable)==null||n.dispose()}async exportDebugInfo(n){var e;async function t(r){const i=await v.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void v.window.showTextDocument(i)}if(a(t,"exportCore"),n===void 0)for(const r of(e=v.workspace.workspaceFolders)!=null?e:[])await t.call(this,r.uri);else return t.call(this,n)}async getWorkspacesWithChanges(){var n;const e=new x("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const r of(n=v.workspace.workspaceFolders)!=null?n:[])r.uri.scheme===C.scheme&&await this.hasChanges(r.uri)&&t.push(r.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(n,e){const t=`ChangeStore.acceptAll(${n.toString()}, ${e==null?void 0:e.staged})`;Z.log(t);const r=[];await this.lock.synchronizeWrite(O(n),async()=>{const i=await this.getWorkingOperations(n),s=[];let o=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(l=>l.staged));for(const l of i){if(u&&!l.staged){o.push(l);continue}l.fileType===v.FileType.File&&await this.discardWorkingContent(n,l.uri);let c;if(l.type===U.Created&&l.fileType===v.FileType.Directory&&(i.some(y=>k(y.uri,l.uri))||(c={type:U.Deleted,rootUri:n,uri:l.uri})),r.push(c!=null?c:Br(l,n)),l.type===U.Created){let y=l.uri;for(;;){const{parent:j}=this.findParent(y,i,b=>b.type===U.Created);if(j){s.push(j),y=j.uri;continue}break}}}o.length>0&&s.length>0&&(o=o.filter(l=>s.includes(l)?(r.push(Br(l,n)),!1):!0)),await this.saveWorkingOperations(n,o)},t),r.length!==0&&this._onDidChange.fire(r)}async discard(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.discard(${n.toString()})`;Z.log(t);const r=[];await this.lock.synchronizeWrite(O(e),async()=>this.discardCore(e,n,r),t),r.length!==0&&this._onDidChange.fire(r)}async discardCore(n,e,t){Z.debug(`ChangeStore.discardCore(${e.toString()})`);let r=await this.getWorkingOperations(n);if(r.length===0)return;const i=W(e),s=r.findIndex(l=>W(l.uri)===i);if(s===-1)return;const[o]=r.splice(s,1);let u;switch(o.type){case U.Created:u=U.Deleted;break;case U.Deleted:u=U.Created;break;default:u=o.type;break}if(t.push({type:u,rootUri:n,uri:e}),o.type===U.Created){let l=o.uri;for(;;){const{parent:c,parentIndex:y}=this.findNewParentWithOnlyChild(l,r);if(c){r.splice(y,1),t.push({type:U.Deleted,rootUri:n,uri:c.uri}),l=c.uri;continue}break}}else if(o.type===U.Deleted){let l=o.uri;const c=this.findDeletedParents(l,r);let y=[...r];c.forEach(({parent:j,parentIndex:b})=>{y[b]=void 0,t.push({type:U.Created,rootUri:n,uri:j.uri})}),r=y.filter(j=>j!==void 0)}await this.saveWorkingOperations(n,r),o.fileType===v.FileType.File&&await this.discardWorkingContent(n,e)}async discardAll(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).discardAll(n,e);const r=`ChangeStore.discardAll(${n.toString()}, ${e==null?void 0:e.staged})`;Z.log(r);const i=[];await this.lock.synchronizeWrite(O(n),async()=>{const s=await this.getWorkingOperations(n),o=[];let u=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!s.some(c=>c.staged));for(const c of s){if(l&&!c.staged){u.push(c);continue}c.fileType===v.FileType.File&&await this.discardWorkingContent(n,c.uri);let y;switch(c.type){case U.Created:y=U.Deleted;break;case U.Deleted:y=U.Created;break;default:y=c.type;break}if(i.push({type:y,rootUri:n,uri:c.uri}),c.type===U.Created){let j=c.uri;for(;;){const{parent:b}=this.findNewParentWithOnlyChild(j,s);if(b){o.push(b),j=b.uri;continue}break}}}u.length>0&&o.length>0&&(u=u.filter(c=>o.includes(c)?(i.push({type:U.Deleted,rootUri:n,uri:c.uri}),!1):!0)),await this.saveWorkingOperations(n,u)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.stage(${n.toString()})`;Z.log(t);const r=[];await this.lock.synchronizeWrite(O(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);i!==void 0&&await this.stageCore(e,n,i,r,s)},t),r.length!==0&&this._onDidChange.fire(r)}async stageAll(n){const e=`ChangeStore.stageAll(${n.toString()})`;Z.log(e);const t=[];await this.lock.synchronizeWrite(O(n),async()=>{const r=(await this.getWorkingOperations(n)).filter(i=>!i.staged);if(r.length!==0)for(const i of r){const{index:s}=await this.getWorkingOperation(i.uri,n);if(!await this.stageCore(n,i.uri,i,t,s))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(n,e,t,r,i){if(t.conflicts){if(!t.conflicts.status.includes(U.Deleted)){const o=v.l10n.t("Yes");if(await v.window.showWarningMessage(v.l10n.t("Are you sure you want to stage {0} with merge conflicts?",G(e)),{modal:!0},o)!==o)return!1}const[,s]=t.conflicts.status;switch(s){case U.Changed:switch(t.type){case U.Created:return!1;case U.Changed:return await this.spliceOperation(e,i,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case U.Deleted:const o=v.l10n.t("Keep Their Version"),u=v.l10n.t("Delete File"),l=await v.window.showInformationMessage(v.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,G(e)),{modal:!0},o,u);return l===o?(await this.discardCore(n,e,r),!0):l===u?(await this.spliceOperation(e,i,{...t,type:U.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case U.Created:switch(t.type){case U.Changed:case U.Deleted:return!1;case U.Created:return await this.spliceOperation(e,i,{...t,type:U.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},r),!0}case U.Deleted:switch(t.type){case U.Created:case U.Changed:{const o=v.l10n.t("Keep Our Version"),u=v.l10n.t("Delete File"),l=await v.window.showInformationMessage(v.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,G(e)),{modal:!0},o,u);return l===o?(await this.spliceOperation(e,i,{...t,type:U.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):l===u?(await this.discardCore(n,e,r),!0):!1}case U.Deleted:return await this.discardCore(n,e,r),!0}}}return await this.spliceOperation(e,i,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.unstage(${n.toString()})`;Z.log(t);const r=[];await this.lock.synchronizeWrite(O(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);i!==void 0&&await this.spliceOperation(n,s,{...i,staged:!1,timestamp:Date.now()},r)},t),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(n){const e=`ChangeStore.unstageAll(${n.toString()})`;Z.log(e);const t=[];await this.lock.synchronizeWrite(O(n),async()=>{const r=(await this.getWorkingOperations(n)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(n,r),t.push(...r.map(i=>Br(i,n))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).hasChanges(n);const t=O(n),r=this.cache.get(t);return r!==void 0?r.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(n)).length!==0,`ChangeStore.hasChanges(${n.toString()})`)}maybeHasChanges(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).maybeHasChanges(n,e);const r=O(n),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const s=W(e);return i.some(o=>W(o.uri)===s)}async hasMergeConflicts(n){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${n.toString()})`)}async hasStagedChanges(n){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${n.toString()})`)}async hasWorkingChanges(n){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${n.toString()})`)}async getChange(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).getChange(n);const t=this.providerService.getVirtualRootUri(n);if(t!==void 0)return this.lock.synchronizeRead(O(t),async()=>{const{operation:r}=await this.getWorkingOperation(n,t);return r},`ChangeStore.getChange(${n.toString()})`)}async getChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getChanges(n,e):this.lock.synchronizeRead(O(n),async()=>{let r=await this.getWorkingOperations(n);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:s}=e;r=r.filter(o=>{var u;return(!i||o.conflicts===void 0)&&((u=s==null?void 0:s(o))!=null?u:!0)})}return r},`ChangeStore.getChanges(${n.toString()})`)}async getGroupedChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getGroupedChanges(n,e):this.lock.synchronizeRead(O(n),async()=>{var r,i;const s=await this.getWorkingOperations(n),o={conflicts:[],staged:[],working:[]};for(const u of s)!((i=(r=e==null?void 0:e.predicate)==null?void 0:r.call(e,u))!=null?i:!0)||(u.conflicts?o.conflicts.push(u):u.staged?o.staged.push(u):o.working.push(u));return o},`ChangeStore.getChangesByType(${n.toString()})`)}async getContent(n){const e=this.providerService.getVirtualRootUri(n);if(e===void 0)throw new Error(`Unable to find content for ${n.toString()}; Repository not found`);const t=O(e),r=this.cache.get(t);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${n.toString()}`);return this.lock.synchronizeRead(t,async()=>{const i=ir.decode(await this.getWorkingContent(e,n));if(i!==void 0)return i;throw new Error(`Unable to find content for ${n.toString()}`)},`ChangeStore.getContent(${n.toString()}}`)}async getMergeConflicts(n,e){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return r.conflicts!==void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getMergeConflicts(${n.toString()})`)}async getStagedChanges(n,e){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return r.staged&&r.conflicts===void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getStagedChanges(${n.toString()})`)}async getWorkingChanges(n,e){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return!r.staged&&r.conflicts===void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getWorkingChanges(${n.toString()})`)}async applyChangeset(n,e,t,r){var i;let s;ni(t)?s=t:r=r!=null?r:t,Z.log(`ChangeStore.applyChangeset${n.toString()}`,e.workspaceId,e.uri,s==null?void 0:s.uri,r==null?void 0:r.save);const o=this.getScopedChangeStore(e.workspaceId),u=(i=e.patch)!=null?i:await o.createPatch(e.uri,s==null?void 0:s.uri);await this.applyPatchCore(n,u,{...r,getIncomingContent:async l=>{const c=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,l),e.workspaceId);return ir.decode(await v.workspace.fs.readFile(c))},merge:async(l,c,y)=>{try{const j=C.getProviderUri(l),b=ir.decode(await v.workspace.fs.readFile(j)),te=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId),Te=ir.decode(await v.workspace.fs.readFile(te)),_e=await this.providerService.getMetadata(te);return{...Lr(y,b,Te,_e.HEAD.sha),baseUri:j,incomingUri:te}}catch(j){throw new Error(`Unable to apply patch to ${c}: ${String(j)}`)}}})}async applyPatch(n,e,t){if(Z.log(`ChangeStore.applyPatch(${n.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(n,e,t)}async applyPatchCore(n,e,t={}){const r=`ChangeStore.applyPatchCore(${n.toString()})`;Z.debug(r,t==null?void 0:t.save);const i=new v.WorkspaceEdit,s=[],o=new Map;async function u(b){var te;const Te=O(b),_e=v.workspace.textDocuments.find(Ue=>O(Ue.uri)===Te);return(te=_e==null?void 0:_e.getText())!=null?te:ir.decode(await v.workspace.fs.readFile(b))}a(u,"getContent");async function l(b){try{const te=await v.workspace.fs.stat(b);return Boolean(te)}catch{return!1}}a(l,"exists");async function c(b,te,Te){let _e=Sr("",Te,{fuzzFactor:0});if(_e===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${te}`);_e=await t.getIncomingContent(te)}i.createFile(b,{overwrite:!0}),i.replace(b,new v.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),_e)}a(c,"applyCreate");async function y(b,te,Te,_e){const Ue=await u(b);let ct=Sr(Ue,Te,{fuzzFactor:1});if(ct===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${te}; Resulted in conflicts`);const pt={title:v.l10n.t("Merge")},xt={title:v.l10n.t("Skip File"),isCloseAffordance:!0};if(await v.window.showWarningMessage(v.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,te),{modal:!0},pt,xt)!==pt)return;const Zt=await t.merge(b,te,Ue);ct=Zt.mergedContent,Zt.conflicts&&o.set(O(b),{type:_e,baseUri:Zt.baseUri,incomingUri:Zt.incomingUri})}i.replace(b,new v.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),ct)}a(y,"applyModification");const j=(t==null?void 0:t.reverse)?kr(e,{}):ie(e,{});for(const b of j)if(b.oldFileName==="/dev/null"){if(!b.newFileName)continue;const te=b.newFileName.startsWith("b/")?b.newFileName.substr(2):b.newFileName,Te=this.providerService.createRelativeVirtualUri(n,te);s.push(O(Te)),!await l(Te)?await c(Te,te,b):await y(Te,te,b,U.Created)}else if(b.newFileName==="/dev/null"){if(!b.oldFileName)continue;const te=b.oldFileName.startsWith("a/")?b.oldFileName.substr(2):b.oldFileName,Te=this.providerService.createRelativeVirtualUri(n,te);await l(Te)&&i.deleteFile(Te)}else if(b.oldFileName===b.newFileName){if(!b.newFileName)continue;const te=this.providerService.createRelativeVirtualUri(n,b.newFileName);s.push(O(te)),!await l(te)?await c(te,b.newFileName,b):await y(te,b.newFileName,b,U.Changed)}else throw new Error(`Unable to apply patch to ${b.oldFileName}; Renames aren't currently supported`);if(await v.workspace.applyEdit(i),t.save&&s.length)for(const b of s){const te=v.workspace.textDocuments.find(Te=>O(Te.uri)===b);await(te==null?void 0:te.save())}o.size&&setTimeout(async()=>{const b=[];await this.lock.synchronizeWrite(O(n),async()=>{const te=await this.getWorkingOperations(n);if(te.length===0)return;let Te=-1;for(const _e of te){Te++;const Ue=o.get(O(_e.uri));Ue!==void 0&&await this.spliceOperation(_e.uri,Te,{..._e,conflicts:{baseUri:Ue.baseUri,incomingUri:Ue.incomingUri,status:[_e.type,Ue.type]},timestamp:Date.now()},b)}},r),b.length!==0&&this._onDidChange.fire(b)},0)}async createChangeset(n){Z.log(`ChangeStore.createChangeset${n.toString()})`);const e=await this.createPatch(n);return e?{workspaceId:this.workspaceId,uri:n,patch:e}:void 0}async createPatch(n,e,t){if(Z.log(`ChangeStore.createPatch${n.toString()})`,e),e===void 0){let s=await this.getWorkingOperations(n);if((t==null?void 0:t.staged)&&(s=s.filter(u=>u.staged)),s.length===0)return"";const o=[];for(const u of s){const l=await this.createPatchCore(n,u);o.push(l)}return o.join("")}const{operation:r}=await this.getWorkingOperation(e,n);if(r===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&r.staged?"":await this.createPatchCore(n,r)}async createPatchCore(n,e){if(e.fileType!==v.FileType.File)return"";const t=this.providerService.getRelativeFilePath(n,e.uri),r=`diff --git a/${t} b/${t}`;if(e.type===U.Created){let l=await this.getContent(e.uri);return Ur(t,"",l,"add")}if(e.type===U.Deleted){let l=ir.decode(await v.workspace.fs.readFile(C.getProviderUri(e.uri)));return Ur(t,l,"","delete")}const i=await this.getContent(e.uri),s=ir.decode(await v.workspace.fs.readFile(C.getProviderUri(e.uri))),o=cr(t,s,i),u=o.indexOf(wi);return`${r}
${o.substr(u+wi.length)}`}async keep(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=`ChangeStore.keep(${n.toString()})`;Z.log(r,e);const i=[];await this.lock.synchronizeWrite(O(t),async()=>{const{operation:s,index:o}=await this.getWorkingOperation(n,t);if(s===void 0)return;if(e===void 0&&s.conflicts){const[,l]=s.conflicts.status;switch(l){case U.Changed:switch(s.type){case U.Changed:case U.Created:case U.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break}break;case U.Created:switch(s.type){case U.Changed:case U.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break;case U.Created:await this.spliceOperation(n,o,{...s,type:U.Changed,size:s.size,hash:s.hash,originalHash:s.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case U.Deleted:switch(s.type){case U.Deleted:await this.discardCore(t,n,i);break;case U.Changed:await this.spliceOperation(n,o,{...s,type:U.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case U.Created:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case U.Changed:switch(s.type){case U.Deleted:await this.spliceOperation(n,o,{...s,type:U.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case U.Created:break;case U.Changed:break}break;case U.Created:switch(s.type){case U.Changed:case U.Deleted:return;case U.Created:break}break;case U.Deleted:switch(s.type){case U.Deleted:return this.discardCore(t,n,i);case U.Changed:await this.spliceOperation(n,o,{...s,type:U.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case U.Created:return}}const u=e!==void 0?await v.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(n,o,{...s,type:U.Changed,originalHash:u!==void 0?await qe(u):s.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(n,e,t){const r=this.providerService.getVirtualWorkspaceUri(n);if(r===void 0)return;const i=`ChangeStore.merge(${n.toString()})`;Z.log(i,e,t);const s=[];await this.lock.synchronizeWrite(O(r),async()=>{const{operation:o,index:u}=await this.getWorkingOperation(n,r);if(o===void 0)return;switch(e.type){case U.Changed:switch(o.type){case U.Deleted:await this.spliceOperation(n,u,{...o,type:U.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case U.Created:break;case U.Changed:break}break;case U.Created:switch(o.type){case U.Deleted:case U.Changed:return;case U.Created:const te=await v.workspace.fs.readFile(e.providerUri);await this.spliceOperation(n,u,{...o,originalHash:te!==void 0?await qe(te):o.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},type:U.Changed,timestamp:Date.now()},s);break}break;case U.Deleted:switch(o.type){case U.Deleted:return this.discardCore(r,n,s);case U.Changed:await this.spliceOperation(n,u,{...o,type:U.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case U.Created:return}}const l=await this.providerService.getMetadata(e.providerUri),c=await this.getWorkingContent(r,n),y=o.type===U.Created?new Uint8Array(0):await v.workspace.fs.readFile(t.providerUri),j=await v.workspace.fs.readFile(e.providerUri),b=Lr(ir.decode(c),ir.decode(y),ir.decode(j),l.HEAD.sha);await this.writeFileCore(r,n,s,di.encode(b.mergedContent),j!=null?j:new Uint8Array(0),b.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]}:void 0)},i),s.length!==0&&this._onDidChange.fire(s)}async resolveDiffCommand(n,e,t,r){let i;const s=this.providerService.getVirtualRootUri(n);return s!==void 0&&({operation:i}=await this.getWorkingOperation(n,s)),(i==null?void 0:i.type)===U.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===U.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,n,t,r]})}resolveOpenCommand(n,e){return{command:"vscode.open",title:"Open File",arguments:[n,e]}}getScopedUri(n,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?n:n.with({fragment:t})}getUriScope(n){return n.fragment||void 0}getScopedChangeStore(n){const e=typeof n=="string"?n:n.workspaceId;Z.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new Mr.ScopedChangeStore(this,e,this.workspaceId):new Mr.ScopedChangeStore(new Mr(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).stat(n);const t=this.providerService.getVirtualRootUri(n);if(t===void 0)return;const r=O(t),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var s;const{operation:o}=await this.getWorkingOperation(n,t);if(o!==void 0){if(o.type===U.Deleted)throw v.FileSystemError.FileNotFound(`The ${o.fileType===v.FileType.Directory?"folder":"file"} has been deleted.`);return{type:o.fileType,size:(s=o.size)!=null?s:0,ctime:0,mtime:o.timestamp}}},`ChangeStore.stat(${n.toString()}`)}async readFile(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).readFile(n);const t=new x(`ChangeStore.readFile(${n.toString()})`);try{const r=this.providerService.getVirtualRootUri(n);if(r===void 0)return;const i=O(r),s=this.cache.get(i);return(s==null?void 0:s.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const o=this.cache.get(i);if((o==null?void 0:o.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,n)},t.context)}finally{t.stop()}}async createDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new x(`ChangeStore.createDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(O(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e),o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,i===void 0?{type:U.Created,uri:n,fileType:v.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async deleteDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new x(`ChangeStore.deleteDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(O(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);if((i==null?void 0:i.type)===U.Created)return this.discardCore(e,n,r);const o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,{type:U.Deleted,uri:n,fileType:v.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async updateDirectoryEntries(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return e;const r=new x(`ChangeStore.updateDirectoryEntries(${n.toString()})`,{},e.length);try{const i=O(t),s=this.cache.get(i);return(s==null?void 0:s.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:o}=S(t,n),u=await this.getWorkingOperations(t);for(const l of u)switch(l.type){case U.Changed:break;case U.Created:{if(k(l.uri,o)){const c=this.providerService.getRelativeFilePath(n,l.uri);e.push([c,l.fileType])}break}case U.Deleted:{if(k(l.uri,o)){const c=this.providerService.getRelativeFilePath(n,l.uri),y=e.findIndex(([j])=>j===c);y!==-1&&e.splice(y,1)}break}}return e},r.context)}finally{r.stop()}}async writeFile(n,e,t,r){const i=this.providerService.getVirtualWorkspaceUri(n);if(i===void 0)return;const s=new x(`ChangeStore.writeFile(${n.toString()})`,{},e.length,r);try{const o=[];if(await this.lock.synchronizeWrite(O(i),async()=>this.writeFileCore(i,n,o,e,t,r),s.context),o.length===0)return;this._onDidChange.fire(o)}finally{s.stop()}}async writeFileCore(n,e,t,r,i,s){const o=new x(`ChangeStore.writeFileCore(${e.toString()})`,{},r.length,s);try{const[{operation:u,index:l},c,y]=await Promise.all([this.getWorkingOperation(e,n),qe(r),qe(i)]);if(c===y&&(!u||(u==null?void 0:u.type)===U.Changed))return this.discardCore(n,e,t);if(c===(u==null?void 0:u.hash)&&y===(u==null?void 0:u.originalHash))return;const[{HEAD:j}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(n,e,r)]);await this.spliceOperation(e,l,u===void 0?{type:U.Changed,uri:e,fileType:v.FileType.File,revision:j.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:y,conflicts:s,staged:!1}:{...u,revision:j.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:y,conflicts:s,staged:!1},t)}finally{o.stop()}}async createFile(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=new x(`ChangeStore.createFile(${n.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(O(t),async()=>{const[{operation:s,index:o},u,l]=await Promise.all([this.getWorkingOperation(n,t),qe(e),this.providerService.getMetadata(n),this.saveWorkingContent(t,n,e)]);await this.spliceOperation(n,o,s===void 0?{type:U.Created,uri:n,fileType:v.FileType.File,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:s.type===U.Deleted?{...s,type:U.Changed,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u}:{...s,type:U.Created,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new x(`ChangeStore.deleteFile(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(O(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);if((i==null?void 0:i.type)===U.Created)return this.discardCore(e,n,r);const[o]=await Promise.all([this.providerService.getMetadata(n),this.discardWorkingContent(e,n)]);await this.spliceOperation(n,s,{type:U.Deleted,uri:n,fileType:v.FileType.File,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}findParent(n,e,t){const r=ae(n),{operation:i,index:s}=this.findWorkingOperation(r,e);return i!==void 0&&t(i,e)?{parent:i,parentIndex:s}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(n,e){const t=W(n);return this.findParent(n,e,(r,i)=>r.type===U.Created&&!i.some(s=>k(s.uri,r.uri)&&W(s.uri)!==t))}findDeletedParents(n,e){const t=[];for(let r=0;r<e.length;r+=1){const i=e[r];i.type===U.Deleted&&P(n,i.uri)&&t.push({parent:i,parentIndex:r})}return t}async getWorkingOperation(n,e){return this.findWorkingOperation(n,await this.getWorkingOperations(e))}findWorkingOperation(n,e){if(e.length===0)return{operation:void 0,index:-1};const t=W(n);let r=-1;const i=e.find((s,o)=>W(s.uri)!==t?!1:(r=o,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(n){const e=O(n);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(n,e){Z.debug(`ChangeStore.saveWorkingOperations(${n.toString()})`,e.length);const t=O(n);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(r){throw this.cache.delete(t),Z.error(r,`Failed to save repository changes for ${t}`),r}}getOperationsStorageKey(n){return`operations/${n}`}async getWorkingContent(n,e){try{return await this.fileStorageService.get(this.getFileStorageKey(n,e))}catch(t){throw Z.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(n,e){Z.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(n,e))}catch(t){if(t instanceof v.FileSystemError&&t.code===ti)return;throw Z.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(n,e,t){Z.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(n,e),t)}catch(r){throw Z.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(n,e){return`changestore/${L(e)}`}async spliceOperation(n,e,t,r){const i=this.providerService.getVirtualWorkspaceUri(n);if(i===void 0)return;const s=await this.getWorkingOperations(i);e!==-1?s.splice(e,1,t):s.push(t),await this.saveWorkingOperations(i,s),r.push(Br(t,i,n))}fromStorage(n){if(!n)return[];try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?typeof r=="string"?v.Uri.parse(r):v.Uri.from(r):r);return Array.isArray(e)?e:e.operations}catch(e){throw Z.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(n){const e={schemaVersion:Mr.operationsStorageSchemaVersion,operations:n};return JSON.stringify(e)}},"_ChangeStore");let Ar=Mr;Ar.operationsStorageSchemaVersion=1,Ar.ScopedChangeStore=class{constructor(n,e,t){this.changeStore=n,this.scope=e,this.workspaceId=t}createPatch(n,e,t){return this.changeStore.createPatch(this.stripUriScope(n),this.stripUriScope(e),t)}discardAll(n,e){return this.changeStore.discardAll(this.stripUriScope(n),e)}getChange(n){return this.changeStore.getChange(this.stripUriScope(n))}getChanges(n,e){return this.changeStore.getChanges(this.stripUriScope(n),e)}async getGroupedChanges(n,e){return this.changeStore.getGroupedChanges(this.stripUriScope(n),e)}hasChanges(n){return this.changeStore.hasChanges(this.stripUriScope(n))}maybeHasChanges(n,e){return this.changeStore.maybeHasChanges(this.stripUriScope(n),this.stripUriScope(e))}async stat(n){const t=this.changeStore.getUriScope(n)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(n));return r!==void 0&&t&&(r.permissions=v.FilePermission.Readonly),r}readFile(n){return this.changeStore.readFile(this.stripUriScope(n))}resolveDiffCommand(n,e,t,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(n,this.scope),this.changeStore.getScopedUri(e,this.scope),t,r)}stripUriScope(n){return n===void 0||!n.fragment?n:n.with({fragment:""})}},ei([Cn()],Ar.prototype,"getWorkingOperations",1);function Ci(n){switch(n){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(Ci,"getStatusText");function ri(n){const[e,t]=n;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(ri,"getConflictStatusText");const hi=a(class{constructor(n){this.storageService=n,this._onDidChange=new v.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(n){const e=O(n),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(r){throw Z.error(r,`Failed to delete repository metadata for ${e}`),r}!t||setTimeout(()=>this._onDidChange.fire({uri:n}),0)}async get(n){this.assertMatchingScheme(n);const e=O(n),t=this.cache.get(e);if(t!==void 0)return t;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw Z.error(i,`Failed to get repository metadata for ${e}`),i}return r?this.cache.set(e,{revision:r}):this.cache.delete(e),{revision:r}}async set(n,e,t,r){this.assertMatchingScheme(n);const i=(await this.get(n)).revision!==e?"revision":void 0,s=O(n);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${n.toString()}`);const o={revision:e,cachedMetadata:t};this.cache.set(s,o);try{await this.storageService.store(this.getStorageKey(s),this.toStorage(e))}catch(u){throw this.cache.delete(s),Z.error(u,`Failed to save repository metadata for ${s}`),u}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:n,reason:i}),0)}refresh(){this.cache.clear()}validate(n){var e,t,r,i,s,o,u,l;return typeof n.version=="number"&&n.version>=hi.schemaVersion&&typeof n.timestamp=="number"&&typeof((e=n.provider)==null?void 0:e.id)=="string"&&typeof n.provider.name=="string"&&typeof n.name=="string"&&n.repo&&typeof n.accessLevel=="number"&&typeof((t=n.HEAD)==null?void 0:t.type)=="number"&&typeof((r=n.HEAD)==null?void 0:r.name)=="string"&&typeof((i=n.HEAD)==null?void 0:i.sha)=="string"&&(typeof((s=n.HEAD.detached)==null?void 0:s.name)=="string"&&typeof((o=n.HEAD.detached)==null?void 0:o.type)=="number"||typeof((u=n.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((l=n.defaultBranch)==null?void 0:l.name)=="string"&&typeof n.defaultBranch.sha=="string"}assertMatchingScheme(n){if(n.scheme!==C.scheme)throw new Error(`Uri scheme '${n.scheme}' must match configured scheme '${C.scheme}'; uri=${n.toString()}`)}getStorageKey(n){return`metadata/${n}`}fromStorage(n){if(!n)return;const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?v.Uri.from(r):r);return e==null?void 0:e.revision}toStorage(n){const e={schemaVersion:hi.storageSchemaVersion,revision:n};return JSON.stringify(e)}},"_MetadataStore");let $r=hi;$r.schemaVersion=Je,$r.storageSchemaVersion=1;class Zn{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new v.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new x(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{r.stop()}}async getKeys(e){const t=this.getScoped(e),r=new x(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:oe.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const s=this.scope.length+1;i=i.map(o=>o.substr(s))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(r=>r.startsWith(e))),t}async store(e,t){const r=this.getScoped(e),i=new x(`MementoStorage.store(${e}): scopedKey=${r}`,{logLevel:oe.Debug});try{return await this.storeCore(e,r,t)}finally{i.stop()}}async storeCore(e,t,r){await this.memento.update(t,r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new x(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await this.storeCore(e,t,void 0)}finally{r.stop()}}async deleteKeys(e){const t=this.getScoped(e),r=new x(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:oe.Debug});try{const i=[],s=this.scope!==void 0?this.scope.length+1:0,o=this.getKeysCore(t);for(const u of o){const l=s!==0?u.substr(s):u;Z.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${l}, scopedKey=${u}`);try{await this.storeCore(l,u,void 0)}catch(c){Z.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${l}, scopedKey=${u}`),i.push(l)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(e){return new Zn(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(Zn,"MementoStorageService");class vi{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new v.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new x(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await v.workspace.fs.readFile(v.Uri.joinPath(this.storageUri,t))}catch(i){return}finally{r.stop()}}async store(e,t){const r=this.getScoped(e),i=new x(`ExtFileStorageService.store(${e}): scopedKey=${r}`,{logLevel:oe.Debug});try{return await this.storeCore(e,r,t)}finally{i.stop()}}async storeCore(e,t,r){await v.workspace.fs.writeFile(v.Uri.joinPath(this.storageUri,t),r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new x(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await v.workspace.fs.delete(v.Uri.joinPath(this.storageUri,t))}finally{r.stop()}}with(e){return new vi(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(vi,"ExtFileStorageService");const Li=a(async(n,e,t)=>{const r=await Promise.resolve().then(En.bind(En,5326)),i=await Promise.resolve().then(En.bind(En,9865)),s=new r.AppInsightsCore,o=new i.PostChannel,u={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){u.extensionConfig={};const y={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[o.identifier]=y}const c=e.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(u,[]),s.addTelemetryInitializer(y=>{var j,b;!c||(y.ext=(j=y.ext)!=null?j:{},y.ext.utc=(b=y.ext.utc)!=null?b:{},y.ext.utc.flags=8462029)}),s},"getAICore"),gi=a(async(n,e,t)=>{const r=await Li(n,e,t);return{logEvent:(s,o)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{r==null||r.unload()}catch(s){throw new Error(`Failed to flush app insights!
`+s.message)}}}},"oneDataSystemClientFactory");var on;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(on||(on={}));class jr{constructor(e,t){this._instantiationStatus=on.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==on.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==on.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===on.NOT_INSTANTIATED&&(this._instantiationStatus=on.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=on.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=on.INSTANTIATED}))}}a(jr,"BaseTelemetrySender");class Fi{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}internalSendTelemetryException(e,t,r,i){i?this.telemetrySender.sendErrorData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!1)}sendDangerousTelemetryException(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Fi,"BaseTelemetryReporter");class Rr{static applyReplacements(e,t){for(const r of Object.keys(e))for(const i of t)i.lookup.test(r)&&(i.replacementString!==void 0?e[r]=i.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.4-preview"}}static getInstance(){return Rr._instance||(Rr._instance=new Rr),Rr._instance}}a(Rr,"TelemetryUtil");const Ti=a(async(n,e)=>{let t;try{const i=await Promise.resolve().then(En.bind(En,5783));t=new i.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(i){return Promise.reject(i)}return{logEvent:(i,s)=>{const o={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};(e==null?void 0:e.length)&&Rr.applyReplacements(o,e),t==null||t.track({name:i,data:o})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");class Hr extends Fi{constructor(e,t){let r=a(o=>Ti(o,t),"clientFactory");Rr.shouldUseOneDataSystemSDK(e)&&(r=a(o=>gi(o,v),"clientFactory"));const i={release:navigator.appVersion,platform:"web",architecture:"web"},s=new jr(e,r);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(s,v,{additionalCommonProperties:Rr.getAdditionalCommonProperties(i)})}}a(Hr,"TelemetryReporter");const ta="Type of classified event does not match event properties",Yr=a(class{constructor(n){this.context=n,this.sharedProperties={},Yr._instance=this,this.reporter=new Hr(Yr.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(n,e){e!==ta&&this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e})}sendEvent(n,e,t){this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e},t)}sendErrorEvent(n,e,t){this.reporter.sendTelemetryErrorEvent(n,{...this.sharedProperties,...e},t)}sendException(n,e,t){this.reporter.sendTelemetryException(n,{...this.sharedProperties,...e},t)}setSharedProperty(n,e){this.sharedProperties[n]=e}reportWorkbenchLoadResult(n){const e="_codespaces.webeditor.connectWorkspace";v.env.appHost==="github.dev"&&(Z.debug(`Executing ${e}`),n={...n,errorDetail:n.errorDetail instanceof Error?n.errorDetail.name:void 0},v.commands.executeCommand(e,n).then(t=>{},t=>{Z.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let Mi=Yr;Mi.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function xi(n,e){const t=v.l10n.t("Report Issue"),r=v.l10n.t("Reload");v.window.showErrorMessage(v.l10n.t("The {0} extension failed to activate.",n.extension.packageJSON.displayName),{modal:!0,detail:v.l10n.t("Please try reloading the window, or report an issue.")},r,t).then(i=>{i===t?v.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:n.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===r&&v.commands.executeCommand("workbench.action.reloadWindow")})}a(xi,"handleExtensionActivationError");let ii;var ai;(function(n){function e(t){const r=Sa(t);return ii=v.env.uiKind===v.UIKind.Web,Z.warn(`Running on the ${ii?"web":"desktop"}${t.extensionRuntime!==v.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${t.globalStorageUri.toString(!0)}`),r}a(e,"configure"),n.configure=e})(ai||(ai={}));const na=/\/workspaceStorage\/(?<id>[^/]+)/i;function Sa(n){var e;if(n.storageUri===void 0)return"";const t=na.exec(n.storageUri.path);let r;if((e=t==null?void 0:t.groups)==null?void 0:e.id)r=t.groups.id;else{r=n.storageUri.path;const i=fr(n.globalStorageUri.path,r),s=`/${n.extension.id}`;r.endsWith(s)?r=r.slice(i,-s.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}a(Sa,"getWorkspaceId");function Ir(n,e){return n.reduce((r,i)=>{const s=e(i),o=r.get(s);return o===void 0?r.set(s,[i]):o.push(i),r},new Map)}a(Ir,"groupBy");function ra(n){let e=0;for(const t of n){if(t===0)return!0;if(e++,e>8e3)break}return!1}a(ra,"isBinary");function Di(n,e,t=r=>r){return[...n.reduce((i,s)=>{const o=e(s),u=i.get(o);if(u===void 0)i.set(o,s);else{const l=t(u,s);l!==void 0&&i.set(o,l)}return i},new Map).values()]}a(Di,"uniqueBy");const xr=a(class{constructor(n,e,t,r,i){this.providerService=n,this.storageService=e,this.changeStore=t,this.workspaceId=r,this.context=i,this._onDidChange=new v.EventEmitter,this.cache=new Map,this.lock=new he("WorkspaceRepositories"),this.disposable=v.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),ge.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const n=await v.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void v.window.showTextDocument(n)}onConfigurationChanged(n){if(!ge.changed(n,"experimental.syncRecentList"))return;const e=ge.get("experimental.syncRecentList")===!0?[xr.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(n){const e=Di(n.map(t=>t.rootUri),t=>O(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(n){this.addOrUpdate(n.added)}onRepositoryChanged(n){this.addOrUpdate([n.repository])}async get(n){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(n){const t=O(n);e=e.filter(r=>O(r.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(xr.storageKey))}async getRecents(n=10){return(await this.get()).slice(0,n)}async getRemoteWorkspaceSourceProvider(n){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===n)}refresh(){this.cache.clear()}async remove(n){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${n.workspaceId}/${O(n.uri)}`,r=e.get(t);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),s=await i.getChanges(r.uri);if(s.length!==0){const o={title:v.l10n.t("Yes")},u={title:v.l10n.t("No"),isCloseAffordance:!0};if(await v.window.showWarningMessage(s.length===1?v.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):v.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,s.length),{modal:!0},o,u)!==o)return;await i.discardAll(r.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(xr.storageKey,this.toStorage(e))}catch(o){throw Z.error(o,"Failed to save workspace repositories"),o}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(n){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of n){const[{HEAD:r,pullRequest:i},s]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),o=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${O(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:r.type,name:r.name},idx:(s==null?void 0:s.type)&&pe.hasIndex(s.type)?{type:s.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:aa(o),timestamp:Date.now()})}try{await this.storageService.store(xr.storageKey,this.toStorage(e))}catch(t){throw Z.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(n){if(!n)return new Map;try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?v.Uri.from(r):r);return new Map(e.workspaceRepositories)}catch(e){return Z.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(n){const e={schemaVersion:xr.storageSchemaVersion,workspaceRepositories:[...n]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Ui=xr;Ui.storageKey="workspaceRepositories",Ui.storageSchemaVersion=1;function si(n){return n!==void 0&&(n.added!==0||n.changed!==0||n.deleted!==0)}a(si,"hasChanges");function ia(n){return si(n.changes)}a(ia,"hasUncommittedChanges");function aa(n){let e=0,t=0,r=0;for(const i of n)switch(i.type){case U.Created:e++;break;case U.Changed:t++;break;case U.Deleted:r++;break}return e||t||r?{added:e,changed:t,deleted:r,timestamp:Date.now()}:void 0}a(aa,"toChangesSummary");function wa(n,{compact:e=!0,preamble:t,separator:r=", ",short:i=!1,single:s=!1}={}){if(!si(n))return l10n.t("Everything up to date");const{added:o,changed:u,deleted:l}=n;if(s){const y=o+u+l;return y===1?l10n.t("{0} change",y):l10n.t("{0} changes",y)}let c=`${t!=null?t:""}`;return(o||!e)&&(c+=i?`+${o}`:o===1?l10n.t("{0} file added",o):l10n.t("{0} files added",o),(u||l||!e)&&(c+=r)),(u||!e)&&(c+=i?`~${u}`:u===1?l10n.t("{0} file changed",u):l10n.t("{0} files changed",u),(l||!e)&&(c+=r)),(l||!e)&&(c+=i?`-${l}`:l===1?l10n.t("{0} file deleted",l):l10n.t("{0} files deleted",l)),c}a(wa,"formatChangesSummary");const oi=globalThis.fetch;async function sa(n,e,t){const r=new AbortController;t.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(n,{...e,signal:r.signal})}catch(i){throw t.isCancellationRequested?new v.CancellationError:i}}a(sa,"fetchWithCancellation");async function oa(n,e,t,r,i){if(t===0)throw new v.CancellationError;const s=new v.CancellationTokenSource;r.onCancellationRequested(()=>s.cancel());try{const o=await sa(n,e,s.token);if(o.body){const u=[];let l=0;const c=o.body.getReader();let y=3;for(;;){let{done:j,value:b}=await c.read();if(j){const Te=u.reduce((ct,pt)=>ct+pt.length,0),_e=new Uint8Array(Te);let Ue=0;for(const ct of u)_e.set(ct,Ue),Ue+=ct.length;return _e}b&&(u.push(b),l+=b.length);const te=Math.floor(l/(1024*1024));if(y<te){y=te;const Te={message:te+" MB"};i.report(Te)}if(t!==void 0&&l>t)throw c.cancel(),s.cancel(),new Error("LIMIT_HIT")}}}catch(o){throw r.isCancellationRequested?new v.CancellationError:o}throw new v.CancellationError}a(oa,"fetchUInt8ArrayWithMaxSizeAndCancellation");var ki=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,bn=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Ln(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&ki(e,t,i),i},"messages_decorateClass");class wr{async showStatus401Message(e){if(!e)return void v.window.showErrorMessage(v.l10n.t("The provided credentials are either invalid or expired."),v.l10n.t("OK"));const t=v.l10n.t("Reauthenticate");await v.window.showErrorMessage(v.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus403Message(e){if(!e)return void v.window.showErrorMessage(v.l10n.t("The provided credentials do not have the required access."),v.l10n.t("OK"));const t=v.l10n.t("Reauthenticate");await v.window.showErrorMessage(v.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?"),t)===t&&e()}async showRepositoryEmptyMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const r=v.l10n.t("Open Pull Request");await v.window.showErrorMessage(v.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),r)===r&&v.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){const r=v.l10n.t("OK");await v.window.showWarningMessage(v.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,t),r)}async showRepositoryForbiddenMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository?",e),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}async showRepositoryNotFoundMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}}a(wr,"Messages"),bn([Cn(()=>"")],wr.prototype,"showStatus401Message",1),bn([Cn(()=>"")],wr.prototype,"showStatus403Message",1),bn([Cn()],wr.prototype,"showRepositoryEmptyMessage",1),bn([Cn()],wr.prototype,"showPullRequestNotFoundMessage",1),bn([Cn()],wr.prototype,"showPullRequestHeadNotFoundMessage",1),bn([Cn()],wr.prototype,"showRepositoryForbiddenMessage",1),bn([Cn()],wr.prototype,"showRepositoryNotFoundMessage",1),bn([Cn()],wr.prototype,"showUnableToOpenRepositoryMessage",1);const jn=new wr,Wa="microsoft",Gr=null;class Wr{constructor(e){this.authService=e,this.apiVersion="7.0",this.apiPageSize=100}async getAccounts(){var e;try{const t=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"profile/profiles/me"});if(t===void 0)throw new Error("Profile information could not be read.");const r={memberId:t.publicAlias},i=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"accounts",query:r});return(e=i==null?void 0:i.value)==null?void 0:e.map(s=>s.accountName).sort((s,o)=>s.localeCompare(o))}catch(t){Z.error(t);return}}async getProjects(e){let t=0,r=0;const i=[],s={};do{s.$top=this.apiPageSize,s.$skip=r*this.apiPageSize;const o=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"projects",query:s});if(!o)break;t=o.value.length,i.push(...o.value),r++}while(t===this.apiPageSize);return i.sort((o,u)=>o.name.localeCompare(u.name))}async createPullRequest(e,t,r,i){const s={supportsIterations:!0};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pullrequests",query:s,method:"POST",body:JSON.stringify(i)})}async createPushes(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pushes",method:"POST",body:JSON.stringify(i)})}async getBlob(e,t,r,i){return await this.sendRequestBuffer({baseUrl:this.getGitBaseUrl(e,t,r),url:`blobs/${i}`})}async getBranchStats(e,t,r,i){try{const s={name:i};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"stats/branches",query:s})}catch(s){Z.error(s);return}}async getCommit(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`commits/${i}`})}async getCommits(e,t,r,i){var s,o,u,l;const c={"searchCriteria.$top":(s=i==null?void 0:i.limit)!=null?s:this.apiPageSize,"searchCriteria.itemPath":(o=i==null?void 0:i.path)!=null?o:"/","searchCriteria.itemVersion.version":(l=(u=i==null?void 0:i.cursor)!=null?u:i==null?void 0:i.ref)!=null?l:"","searchCriteria.itemVersion.versionType":"commit"},y=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"commits",query:c});return y==null?void 0:y.value}async getDiffs(e,t,r,i,s){var o,u,l;const c={diffCommonCommit:!1,baseVersion:i,baseVersionType:"commit",targetVersion:s,targetVersionType:"commit"};let y=0;const j=[];let b;do{if(c.$top=this.apiPageSize,c.$skip=y*this.apiPageSize,b=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"diffs/commits",query:c}),b==null)break;j.push(...(o=b.changes)!=null?o:[]),y++}while(!b.allChangesIncluded);return{ahead:(u=b==null?void 0:b.aheadCount)!=null?u:0,behind:(l=b==null?void 0:b.behindCount)!=null?l:0,changes:j}}async getItem(e,t,r,i,s,o){const u={path:o===void 0||o===""?"/":o,recursionLevel:"none","versionDescriptor.version":i,"versionDescriptor.versionType":s};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:u})}async getItems(e,t,r,i,s,o,u){const l={scopePath:u===void 0||u===""?"/":u,recursionLevel:o,"versionDescriptor.version":i,"versionDescriptor.versionType":s},c=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:l});return c==null?void 0:c.value}async getPullRequest(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`pullrequests/${i}`})}async getRefs(e,t,r,i){var s,o,u;try{const l={filter:i.filter,filterContains:(s=i.filterContains)!=null?s:"",$top:(o=i.top)!=null?o:this.apiPageSize},c=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",query:l});return(u=c==null?void 0:c.value)!=null?u:[]}catch(l){return Z.error(l),[]}}async getRepositories(e,t){try{const r=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t)});return r==null?void 0:r.value.filter(i=>i.defaultBranch&&!i.isDisabled).sort((i,s)=>i.name.localeCompare(s.name))}catch(r){Z.error(r);return}}async getRepository(e,t,r){try{const i=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r)});if(i===void 0)throw new Error(`Repository '${r}' does not exist in Azure DevOps organization/project '${e}/${t}'.`);return i}catch(i){throw Z.error(i),i}}async getTree(e,t,r,i,s){const o={recursive:s};return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`trees/${i}`,query:o})}async updateRefs(e,t,r,i){return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",method:"POST",body:JSON.stringify(i)})}async getSearchableBranches(e,t,r){try{return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:`search/status/repositories/${r}`,method:"GET"})}catch(i){Z.error(i);return}}async searchCode(e,t,r,i,s){try{const o={searchText:s,$skip:0,$top:1e3,filters:{Project:[t],Repository:[r],Branch:[i],Path:["/"]},$orderBy:[{field:"filename",sortOrder:"ASC"}],includeSnippet:!0};return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:"search/codesearchresults",method:"POST",body:JSON.stringify(o)})}catch(o){Z.error(o);return}}async getGitSecurityNamespace(e){try{const t="2e9eb7ed-3c0a-47d4-87c1-0ffdd275fd87",r=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:`securitynamespaces/${t}`,method:"GET"});return(r==null?void 0:r.count)===1?r.value[0]:void 0}catch(t){Z.error(t);return}}async getSecurityPermissionEvaluation(e,t,r){try{const i=t.actions.map(o=>({securityNamespaceId:t.namespaceId,token:r,permissions:o.bit})),s=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"security/permissionevaluationbatch",method:"POST",body:JSON.stringify({alwaysallowadministrators:!1,evaluations:i})});return s==null?void 0:s.evaluations}catch(i){Z.error(i);return}}getGitBaseUrl(e,t,r){return`https://dev.azure.com/${e}/${t}/_apis/git/repositories${r?`/${r}`:""}`}getOrganizationBaseUrl(e){return`https://dev.azure.com/${e}/_apis`}getQueryParameters(e={}){return e={...e,"api-version":this.apiVersion},Object.entries(e).map(([t,r])=>`${t}=${r}`).join("&")}async sendRequest(e){e={...e,headers:{Accept:"application/json","Content-Type":"application/json"}};const t=await this._sendRequest(e);if(t===void 0)return;const r=await t.json();return r!=null?r:void 0}async sendRequestBuffer(e){e={...e,headers:{Accept:"application/octet-stream"}};const t=await this._sendRequest(e);if(t!==void 0)return t.arrayBuffer()}async _sendRequest(e){var t;const r=`${e.baseUrl}${e.url?`/${e.url}`:""}?${this.getQueryParameters(e.query)}`;try{const i=await this.authService.getBase64AuthenticationSessionToken();if(!i)throw X.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate());const s={...e.headers,Authorization:`Basic ${i}`},o=await oi(r,{method:(t=e.method)!=null?t:"GET",body:e.body,headers:s});if(o.status===401)throw X.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate());if(o.status===403)throw X.CommitToProtectedBranchError(o.statusText);return o.status===404?void 0:o}catch(i){throw Z.error(i),X.asVirtualProviderErrorCode(i)===Re.InvalidCredentialsError&&jn.showStatus401Message(i.action),i}}}a(Wr,"AdoClient");var Vr=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,Ca=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Jr(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Vr(e,t,i),i},"authentication_decorateClass");const Qr="microsoft",ui=["499b84ac-1321-427f-aa17-267ca6975798/.default","offline_access"];class Bi{async ensureAuthenticated(e=!1){const t=new x("AzDO.ensureAuthenticated");try{if(this._session===void 0){async function r(){try{return e?await v.authentication.getSession(Qr,ui,{forceNewSession:e}):await v.authentication.getSession(Qr,ui,{createIfNone:!0})}catch{try{const s=await v.authentication.getSession(Qr,ui,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function o(){const l=await v.authentication.getSession(Qr,ui,{createIfNone:!0});l!==void 0&&s(l)}a(o,"getSession");const u=v.authentication.onDidChangeSessions(async l=>{l.provider.id===Qr&&(u.dispose(),await o())})})}}a(r,"waitUntilAuthenticated"),this._session=await r();const i=v.authentication.onDidChangeSessions(async s=>{if(this._session===void 0){i.dispose();return}s.provider.id===Qr&&(await v.authentication.getSession(Qr,ui,{silent:!0})||(this.clearAuthenticationSession(),i.dispose()))})}return this._session}finally{t.stop()}}getBase64AuthenticationSessionToken(e){if(this._sessionTokenBase64===void 0){if(e===void 0)return this.ensureAuthenticated().then(t=>(this._sessionTokenBase64=Hn(`PAT:${t.accessToken}`),this._sessionTokenBase64));this._sessionTokenBase64=Hn(`PAT:${e.accessToken}`)}return this._sessionTokenBase64}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}clearAuthenticationSession(){this._session=void 0,this._sessionTokenBase64=void 0}}a(Bi,"AdoAuthenticationService"),Ca([Cn()],Bi.prototype,"ensureAuthenticated",1);var $i=En(7360),Ta=En(919),bi=En.n(Ta),ua,qn;(function(n){n.None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last})(qn||(qn={}));class la{constructor(){this[ua]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=qn.None){const r=this._map.get(e);if(!!r)return t!==qn.None&&this.touch(r,t),r.value}set(e,t,r=qn.None){let i=this._map.get(e);if(i)i.value=t,r!==qn.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case qn.None:this.addItemLast(i);break;case qn.First:this.addItemFirst(i);break;case qn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const r=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.key,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}values(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.value,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:[t.key,t.value],done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}[(ua=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==qn.First&&t!==qn.Last)){if(t===qn.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===qn.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(const[t,r]of e)this.set(t,r)}}a(la,"LinkedMap");class Hi extends la{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=qn.AsNew){return super.get(e,t)}peek(e){return super.get(e,qn.None)}set(e,t){return super.set(e,t,qn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(Hi,"LRUCache");function Da(n,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(n);let r;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(o=>`${o}/**`)]),s=bi()(n,[...i],{dot:!0,nocase:!0});r=new Set(s)}if(t==null?void 0:t.length){const i=new Set([...t,...t.map(s=>`${s}/**`)]);if(r===void 0){const s=bi().not(n,[...i],{dot:!0,nocase:!0});r=new Set(s)}else bi()(n,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}a(Da,"globFilter");function ba(n,e={}){if(!n)return d;if(typeof n=="string"||Mt(n)){const t=F(n,e);if(t===D)return d;const r=a(function(i,s){return!!t(i,s)},"resultPattern");return t.allBasenames&&(r.allBasenames=t.allBasenames),t.allPaths&&(r.allPaths=t.allPaths),r}return Wn(n,e)}a(ba,"parse");function Aa(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}a(Aa,"equals");function Wi(n){return!!n&&typeof n.then=="function"}a(Wi,"isThenable");function za(){return Object.create(null)}a(za,"getEmptyExpression");const Ai="**",ca="/",yr="[/\\\\]",Ri="[^/\\\\]",zi=/\//g;function Ki(n,e){switch(n){case 0:return"";case 1:return`${Ri}*?`;default:return`(?:${yr}|${Ri}+${yr}${e?`|${yr}${Ri}+`:""})*?`}}a(Ki,"starsToRegExp");function fa(n,e){if(!n)return[];const t=[];let r=!1,i=!1,s="";for(const o of n){switch(o){case e:if(!r&&!i){t.push(s),s="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1;break}s+=o}return s&&t.push(s),t}a(fa,"splitGlobAware");function ji(n){if(!n)return"";let e="";const t=fa(n,ca);if(t.every(r=>r===Ai))e=".*";else{let r=!1;t.forEach((i,s)=>{if(i===Ai){if(r)return;e+=Ki(2,s===t.length-1)}else{let o=!1,u="",l=!1,c="";for(const y of i){if(y!=="}"&&o){u+=y;continue}if(l&&(y!=="]"||!c)){let j;y==="-"?j=y:(y==="^"||y==="!")&&!c?j="^":y===ca?j="":j=escapeRegExpCharacters(y),c+=j;continue}switch(y){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${fa(u,",").map(te=>ji(te)).join("|")})`,o=!1,u="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=Ri;continue;case"*":e+=Ki(1);continue;default:e+=escapeRegExpCharacters(y)}}s<t.length-1&&(t[s+1]!==Ai||s+2<t.length)&&(e+=yr)}r=i===Ai})}return e}a(ji,"parseRegExp");const da=/^\*\*\/\*\.[\w\.-]+$/,Yi=/^\*\*\/([\w\.-]+)\/?$/,Ii=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Ra=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Ia=/^\*\*((\/[\w\.-]+)+)\/?$/,Pa=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,w=new Hi(1e4),d=a(function(){return!1},"FALSE"),D=a(function(){return null},"NULL");function F(n,e){if(!n)return D;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const r=`${t}_${!!e.trimForExclusions}`;let i=w.get(r);if(i)return Ee(i,n);let s;return da.test(t)?i=xe(t.substr(4),t):(s=Yi.exec(Ne(t,e)))?i=st(s[1],t):(e.trimForExclusions?Ra:Ii).test(t)?i=ot(t,e):(s=Ia.exec(Ne(t,e)))?i=gt(s[1].substr(1),t,!0):(s=Pa.exec(Ne(t,e)))?i=gt(s[1],t,!1):i=Ft(t),w.set(r,i),Ee(i,n)}a(F,"parsePattern");function de(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let r=0;for(;n.indexOf(e,r)===r;)r=r+t;return n.substring(r)}a(de,"ltrim");function Ee(n,e){if(typeof e=="string")return n;const t=a(function(r,i){return isDescendent(r,e.base)?n(de(r.substr(e.base.length),"/"),i):null},"wrappedPattern");return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}a(Ee,"wrapRelativePattern");function Ne(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}a(Ne,"trimForExclusions");function xe(n,e){return function(t,r){return typeof t=="string"&&t.endsWith(n)?e:null}}a(xe,"trivia1");function st(n,e){const t=`/${n}`,r=`\\${n}`,i=a(function(o,u){return typeof o!="string"?null:u?u===n?e:null:o===n||o.endsWith(t)||o.endsWith(r)?e:null},"parsedPattern"),s=[n];return i.basenames=s,i.patterns=[e],i.allBasenames=s,i}a(st,"trivia2");function ot(n,e){const t=Xr(n.slice(1,-1).split(",").map(u=>F(u,e)).filter(u=>u!==D),n),r=t.length;if(!r)return D;if(r===1)return t[0];const i=a(function(u,l){for(let c=0,y=t.length;c<y;c++)if(t[c](u,l))return n;return null},"parsedPattern"),s=t.find(u=>!!u.allBasenames);s&&(i.allBasenames=s.allBasenames);const o=t.reduce((u,l)=>l.allPaths?u.concat(l.allPaths):u,[]);return o.length&&(i.allPaths=o),i}a(ot,"trivia3");function gt(n,e,t){const r="/"+n;let i;return t?i=a(function(s,o){return typeof s=="string"&&s.endsWith(r)?e:null},"parsedPattern"):i=a(function(s,o){return null},"parsedPattern"),i.allPaths=[(t?"*/":"./")+n],i}a(gt,"trivia4and5");function Ft(n){try{const e=new RegExp(`^${ji(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch(e){return D}}a(Ft,"toRegExp");function Jt(n,e,t){return!n||typeof e!="string"?!1:ba(n)(e,void 0,t)}a(Jt,"match");function Mt(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(Mt,"isRelativePattern");function tn(n){return n.allBasenames||[]}a(tn,"getBasenameTerms");function nn(n){return n.allPaths||[]}a(nn,"getPathTerms");function Le(n){let e=-1,t=0,r=-1,i=!0,s=0;for(let o=n.length-1;o>=0;--o){const u=n.charCodeAt(o);if(u===47){if(!i){t=o+1;break}continue}r===-1&&(i=!1,r=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)}a(Le,"extname");function Wn(n,e){const t=Xr(Object.getOwnPropertyNames(n).map(u=>Cr(u,n[u],e)).filter(u=>u!==D)),r=t.length;if(!r)return D;if(!t.some(u=>!!u.requiresSiblings)){if(r===1)return t[0];const u=a(function(y,j){let b;for(let te=0,Te=t.length;te<Te;te++){const _e=t[te](y,j);if(typeof _e=="string")return _e;Wi(_e)&&(b||(b=[]),b.push(_e))}return b?(async()=>{for(const te of b){const Te=await te;if(typeof Te=="string")return Te}return null})():null},"resultExpression2"),l=t.find(y=>!!y.allBasenames);l&&(u.allBasenames=l.allBasenames);const c=t.reduce((y,j)=>j.allPaths?y.concat(j.allPaths):y,[]);return c.length&&(u.allPaths=c),u}const i=a(function(u,l,c){let y,j;for(let b=0,te=t.length;b<te;b++){const Te=t[b];Te.requiresSiblings&&c&&(l||(l=basename(u)),y||(y=l.substr(0,l.length-Le(u).length)));const _e=Te(u,l,y,c);if(typeof _e=="string")return _e;Wi(_e)&&(j||(j=[]),j.push(_e))}return j?(async()=>{for(const b of j){const te=await b;if(typeof te=="string")return te}return null})():null},"resultExpression"),s=t.find(u=>!!u.allBasenames);s&&(i.allBasenames=s.allBasenames);const o=t.reduce((u,l)=>l.allPaths?u.concat(l.allPaths):u,[]);return o.length&&(i.allPaths=o),i}a(Wn,"parsedExpression");function Cr(n,e,t){if(e===!1)return D;const r=F(n,t);if(r===D)return D;if(typeof e=="boolean")return r;if(e){const i=e.when;if(typeof i=="string"){const s=a((o,u,l,c)=>{if(!c||!r(o,u))return null;const y=i.replace("$(basename)",()=>l),j=c(y);return Wi(j)?j.then(b=>b?n:null):j?n:null},"result");return s.requiresSiblings=!0,s}}return r}a(Cr,"parseExpressionPattern");function Xr(n,e){const t=n.filter(u=>!!u.basenames);if(t.length<2)return n;const r=t.reduce((u,l)=>{const c=l.basenames;return c?u.concat(c):u},[]);let i;if(e){i=[];for(let u=0,l=r.length;u<l;u++)i.push(e)}else i=t.reduce((u,l)=>{const c=l.patterns;return c?u.concat(c):u},[]);const s=a(function(u,l){if(typeof u!="string")return null;if(!l){let y;for(y=u.length;y>0;y--){const j=u.charCodeAt(y-1);if(j===47||j===92)break}l=u.substr(y)}const c=r.indexOf(l);return c!==-1?i[c]:null},"aggregate");s.basenames=r,s.patterns=i,s.allBasenames=r;const o=n.filter(u=>!u.basenames);return o.push(s),o}a(Xr,"aggregateBasenameMatches");function pi(n,e){return Aa(n,e,(t,r)=>typeof t=="string"&&typeof r=="string"?t===r:typeof t!="string"&&typeof r!="string"?t.base===r.base&&t.pattern===r.pattern:!1)}a(pi,"patternsEquals");const Oa=new TextDecoder,ha=new TextEncoder;function mi(n){const e=Oa.decode(n).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const t={};for(const u of e){const[l,c]=u.split(" ");t[l]=c}if(!("oid"in t)||!("version"in t)||!("size"in t))return{oid:void 0,size:void 0,version:void 0};let{oid:r,size:i,version:s}=t;const o="sha256:";return r.startsWith(o)&&(r=r.substring(o.length)),{oid:r,size:Number(i),version:s}}a(mi,"parseLfsFile");function li(n,e){const t=n.getAttributesFor(e);return(t==null?void 0:t.filter)==="lfs"}a(li,"isLfsTrackedFile");function Na(n,e,t="https://git-lfs.github.com/spec/v1"){return Hn(ha.encode(`version ${t}
oid sha256:${n}
size ${e.toString()}
`))}a(Na,"createLfsPointerFile");async function La(n){const e=await nt(n),t=n.byteLength;return{oid:e,size:t}}a(La,"getLfsOperation");const va="";function Gi(...n){if(n.length===1){const e=n[0];return e===void 0?va:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof v.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}a(Gi,"serialize_defaultResolver");function _i(n){return(e,t,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const s=`$serialize$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:Gi)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];const c=a(()=>i.apply(this,o),"run");return l===void 0?l=c():l=l.then(c,c),this[u]=l,l}}}a(_i,"serialize");function ga(n){const e=n.path.startsWith("/")?n.path.slice(1):n.path,[t,r,i]=e.split("/");return{organization:t,project:r,name:i}}a(ga,"getRepositoryDescriptor");var Vi=Object.defineProperty,Ji=Object.getOwnPropertyDescriptor,Pi=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Ji(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Vi(e,t,i),i},"fs_decorateClass");const Qi=v.FileSystemError.FileNotFound().code,pa=/(\/|\\)/g;class ci{constructor(e,t,r,i){this.providerService=e,this.changeStore=t,this.azdo=r,this.adoClient=i,this._onDidChangeFile=new v.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=v.Disposable.from(v.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),v.workspace.registerFileSearchProvider(this.scheme,this),v.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.azdo.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>C.getProviderId(t)===this.scheme).map(t=>C.getProviderUri(t)),e.length!==0){Z.log(`AzDOFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,r]of[...this.pendingUriRequests])e.some(i=>P(r.uri,i))&&(this.pendingUriRequests.delete(t),r.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=C.getOpenUris(this.scheme,e);for(const[i,s]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(o=>P(s,o))&&(this.implicitlyWatchedUris.delete(i),t.set(i,s));Z.debug(`AzDOFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${t.size}`);for(const i of e)t.set(O(i),i);const r=[...t.values()].map(i=>({type:v.FileChangeType.Changed,uri:i}));setTimeout(()=>{Z.debug(`AzDOFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(e,t){const r=O(e);return this.watchedUris.set(r,e),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(e){var t;const r=O(e);this.implicitlyWatchedUris.set(r,e);const i=this.azdo.getProviderRootUri(e),{organization:s,project:o,name:u}=ga(e),l=this.providerService.getRelativeFilePath(i,e),c={uri:e,outdated:!1};if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s&&o&&u)try{this.pendingUriRequests.set(`stat:${r}`,c);const y=await this.azdo.getFileTree(e),j=await y.get(l);if(j==null?void 0:j.stat){if(j.stat.type===v.FileType.File&&ge.get("experimental.lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&li(await this.azdo.getGitAttributes(i),l)){const b=await this.azdo.getFileContent(e),te=mi(b).size;j.stat.size=te!=null?te:j.stat.size}return j.stat}if(this.implicitlyWatchedUris.delete(r),e.query==="~")return{type:v.FileType.File,size:0,ctime:0,mtime:(t=y.timestamp)!=null?t:Date.now(),permissions:v.FilePermission.Readonly};throw v.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${r}`),(c==null?void 0:c.outdated)&&setTimeout(()=>{Z.log(`AzDOFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:v.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}return{type:v.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:v.FilePermission.Readonly}}async readDirectory(e,t){var r,i,s;this.implicitlyWatchedUris.set(O(e),e);const{organization:o,project:u,name:l}=ga(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o&&u&&l){const c=await this.azdo.getFileTree(e),y=this.providerService.getVirtualRootUri(e),j=this.providerService.getRelativeFilePath(y,e),b=(await c.getChildren(j,t)).map(([te,{stat:{type:Te}}])=>[te,Te]);return j===""&&x.stop("Time to root directory"),b}else if(o){if(o&&!u)return((i=await this.adoClient.getProjects(o))!=null?i:[]).map(c=>[c.name,v.FileType.Directory]);if(o&&u&&!l)return((s=await this.adoClient.getRepositories(o,u))!=null?s:[]).map(c=>[c.name,v.FileType.Directory])}else return((r=await this.adoClient.getAccounts())!=null?r:[]).map(c=>[c,v.FileType.Directory]);throw v.FileSystemError.FileNotFound(e)}createDirectory(e){throw v.FileSystemError.NoPermissions()}async readFile(e){const t=O(e);this.implicitlyWatchedUris.set(t,e);const r={uri:e,outdated:!1};try{this.pendingUriRequests.set(t,r);const i=await this.azdo.getFileContent(e);if(!ge.get("experimental.lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const s=this.azdo.getProviderRootUri(e),o=await this.azdo.getGitAttributes(s);return li(o,e.path)?this.azdo.getLfsContent(s,i):i}catch(i){if(this.implicitlyWatchedUris.delete(t),i instanceof v.FileSystemError&&i.code===Qi&&e.query==="~")return new Uint8Array(0);throw i}finally{this.pendingUriRequests.delete(t),(r==null?void 0:r.outdated)&&setTimeout(()=>{Z.log(`AzDOFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:v.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,r){throw v.FileSystemError.NoPermissions()}delete(e,t){throw v.FileSystemError.NoPermissions()}rename(e,t,r){throw v.FileSystemError.NoPermissions()}copy(e,t,r){throw v.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:r,includes:i,excludes:s},o){const u=`${O(t)}|${JSON.stringify({includes:i,excludes:s})}`;let l=this.fileSearchCache.get(u);if(l===void 0){const y=await this.providerService.getMetadata(t),j=await this.azdo.getRepoItems(y,"",!0);let b=[];for(const te of j)te.isFolder||b.push(te.path);if(b.length===0||o.isCancellationRequested)return[];((i==null?void 0:i.length)||(s==null?void 0:s.length))&&(b=[...Da(b,i,s)]),l=b.map(te=>$i.prepareSlow(te)),this.fileSearchCache.set(u,l)}let c;return e.pattern===""?c=l.map(y=>v.Uri.joinPath(t,y.target)):(c=$i.go(e.pattern.replace(pa,"/"),l,{allowTypo:!0,limit:r}).map(y=>v.Uri.joinPath(t,y.target)),$i.cleanup()),r!==void 0&&r!==0&&r<c.length&&(c=c.slice(0,r)),c}async provideTextSearchResults(e,t,r,i){const s=[],o=await this.providerService.getMetadata(t.folder);if(o.HEAD.type!==Y.Branch)return s.push({text:v.l10n.t("Code search is only supported on branches. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:v.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};if(!(await this.azdo.getSearchableBranches(o)).includes(o.HEAD.name))return s.push({text:v.l10n.t("The current branch has not been configured for code search. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:v.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};(e.isCaseSensitive||e.isRegExp||e.isWordMatch)&&s.push({text:v.l10n.t("Search flags are not supported."),type:v.TextSearchCompleteMessageType.Warning});const l=await this.azdo.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(l.warnings&&l.warnings.forEach(y=>{s.push({text:y,type:v.TextSearchCompleteMessageType.Warning})}),l===void 0)return{limitHit:!0,message:s};let c;for(const y of l.matches)c=v.Uri.joinPath(t.folder,y.path),r.report({uri:c,ranges:y.ranges,preview:{text:y.preview,matches:y.matches}});return{limitHit:!1,message:s}}}a(ci,"AzDOFS"),Pi([_i()],ci.prototype,"stat",1),Pi([_i()],ci.prototype,"readDirectory",1),Pi([_i()],ci.prototype,"readFile",1);var Fa=En(6470),ma;(function(n){n[n.Force=0]="Force",n[n.ForceWithLease=1]="ForceWithLease"})(ma||(ma={}));var Oi;(function(n){n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag"})(Oi||(Oi={}));var Xi;(function(n){n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Xi||(Xi={}));var Ie;(function(n){n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.PermissionDenied="PermissionDenied",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n.NoPathFound="NoPathFound",n.UnknownPath="UnknownPath"})(Ie||(Ie={}));class et{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var t;const r=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const s of r){const o=(t=s.attrs)!=null?t:{};for(const u of Object.keys(o))i[u]=o[u]}return i}rulesForPath(e){const t=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const r of this.rules){if(!r.pattern)continue;const i=r.pattern[0]==="/"?`${r.pattern}`:`**/${r.pattern}`;bi().isMatch(e,i)&&t.push(r)}return t}parse(e,t=!1,r=!1){const i=e.split(/\r\n|\r|\n/g);for(const s of i){const o=this.parseRule(s,t,r);o&&this.rules.push(o)}}parseRule(e,t=!1,r=!1){if(e=e.trim(),!e)return r?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return t?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,s;if(e[0]==='"'){const o=/^"(?:[^"\\]|\\.)*"/.exec(e);if(o){try{i=JSON.parse(o[0])}catch(u){i=i.replace(/\\(.)/g,"\\1")}s=e.substr(o[0].length+1).trim()}else i=o==null?void 0:o[0],s=void 0}else{const o=/\s+/g.exec(e);i=o?e.substr(0,o.index):e,s=o?e.substr(o.index+o[0].length):void 0}return{pattern:i,attrs:s?this.parseAttributes(s):{},comment:void 0}}parseAttributes(e){const t={};for(const r of e.split(/\s+/g)){if(r==="=")continue;let i=r,s;if(r.startsWith("-"))i=r.substr(1),s=!1;else if(r.includes("=")){const o=r.indexOf("=");i=r.substr(0,o),s=r.substr(o+1)}else s=!0;t[i]=s,i==="binary"&&s?t.diff=!1:i==="crlf"&&s===!0?t.text=!0:i==="crlf"&&s===!1?t.text=!1:i==="crlf"&&s==="input"&&(t.eol="lf")}return t}}a(et,"GitAttributes");function*ht(n,e){for(const t of n)yield*e(t)}a(ht,"flatMap");function*At(n,e){for(const t of n)e(t)&&(yield t)}a(At,"filter");function*rn(n,e){for(const t of n){const r=e(t);r!=null&&(yield r)}}a(rn,"filterMap");function dn(n,e){for(const t of n)if(e(t))return t}a(dn,"find");function vn(n,e){let t="";const r=n[Symbol.iterator]();let i=r.next();if(i.done)return t;for(;;){const s=i.value.toString();if(i=r.next(),i.done){t+=s;break}t+=s,t+=e}return t}a(vn,"join");function*er(n,e){for(const t of n)yield e(t)}a(er,"map");function tr(n,e){for(const t of n)if(e(t))return!0;return!1}a(tr,"some");function*nr(...n){for(const e of n)for(const t of e)yield t}a(nr,"union");function*dr(n){const e=new Set;for(const t of n)e.has(t)||(e.add(t),yield t)}a(dr,"unique");class Pr{constructor(e,t){this.path=e,this.relativePath=t}}a(Pr,"TrieNode");class Vn{constructor(){this.root=new Pr("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return;r=s}return r.path===e?r.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;if(e)for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return[];r=s}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;const i=[];if(e)for(const s of e.split("/")){const o=(t=r.children)==null?void 0:t.get(s);if(o===void 0)return i;r=o}if(r.children!==void 0){let s=a(function(o,u,l){for(const c of o.values()){const y=`${u?`${u}/`:""}${c.relativePath}`;c.data&&l.push([y,c.data]),c.children!==void 0&&s(c.children,y,l)}},"getDescendantsCore");s(r.children,"",i)}return i}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return!1;r=s}return r.path===e}set(e,t){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,s="";for(const o of e.split("/")){let u=(r=i.children)==null?void 0:r.get(o);s=`${s?`${s}/`:""}${o}`,u===void 0&&(i.children===void 0&&(i.children=new Map),u=new Pr(s,o),i.children.set(o,u)),i=u}i.data=t}}a(Vn,"Trie");var Ma=En(5431),xa=En.n(Ma);class Ua{constructor(e,t,r,i,s){if(this.rootUri=e,this.sha=t,this.timestamp=r,this.provider=i,this.trie=new Vn,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const o=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&o.push(i.onDidTriggerContentCaching(u=>{(!u||O(u.rootUri)===O(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(l=>this._isContentCached=l,()=>this._isContentCached=!0)})),this._loading=this.load(s==null?void 0:s.path,s==null?void 0:s.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var l;return void((l=i.tryCachingContent)==null?void 0:l.call(i,this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(s==null?void 0:s.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=v.Disposable.from(...o)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:v.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(e);return r!==void 0||(await this.ensureLoaded(e),r=this.trie.get(e)),r}async getChildren(e,t){await this.ensureLoaded(e,!0);const r=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?r:r.filter(([,i])=>i.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(t)i=this.preloading.get(e);else{const s=dn(this.preloading,([o])=>e.startsWith(o)&&e.lastIndexOf("/")===(o?o.length:-1));i=s==null?void 0:s[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let r=this.trie.get(e);if(r)return t&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),r=this.trie.get(e),t&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(e,t=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new x(`FileTree.load(${this.sha}:${e})`);let s;try{i.logStep("Tree query");const o=await this.provider.getTree(e,t);if(o.truncated){Z.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${o.sha};`,suffix:" \u2022 Fixing directories..."});for(const[l,c]of this.trie.getDescendants(""))c.stat.type===v.FileType.Directory&&(c.loadChildren=xa()(()=>this.load(l).then(()=>c.loadChildren=void 0)));return s=` \u2022 Tree=${o.sha} \u2022 Truncated`,{sha:o.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${o.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:l,item:c}of o.tree)if(l!==void 0){switch(l=e?`${e}/${l}`:l,c.stat.permissions=u,c.stat.type){case v.FileType.File:c.getContent=xa()(()=>this.provider.getContent(c,l));break;case v.FileType.Directory:t||(c.loadChildren=xa()(()=>this.load(l).then(()=>c.loadChildren=void 0)));break}this.trie.set(l,c)}return s=` \u2022 Tree=${o.sha}`,{sha:o.sha,recursive:t,success:!0}}catch(o){return s=`\u2022 Loading for path=${e} failed; ${String(o)}`,{error:o,success:!1}}finally{i.stop(s?{suffix:s}:void 0)}}}a(Ua,"FileTree");const Ga=/^https?:\/\/dev\.azure\.com(?:\/defaultcollection)?\/(?<organization>[^/]+)(?:\/(?<project>[^_/][^/]*))?(?:\/_git)?\/(?<repo>[^/?#]+)(?:\/commit\/(?<commit>[0-9a-f]{40})|\/pullrequest\/(?<pull>\d+))?/i,Ka=1,ka=Object.freeze({id:"azurerepos",name:"Azure Repos"});function Va(n){return(n.query.includes("&")?n.query:decodeURIComponent(n.query)).split("&").reduce((t,r)=>{const i=r.split("=");return t[i[0]]=i[1],t},{})}a(Va,"parseQuery");function Zr(n){const{scheme:e,metadata:t}=C.decodeAuthority(n),[,r,i,s,...o]=n.path.split("/");return{scheme:e,provider:ka,name:`${r}/${i}/${s}`,repo:{organization:r,project:i,name:s},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}a(Zr,"getAzDOMetadata");function Ja(n,e){const{repo:t}=e!=null?e:Zr(n);return n.with({path:`/${t.organization}/${t.project}/${t.name}`,query:"",fragment:""})}a(Ja,"getAzDORootUri");function Ba(n,e,t){const{repo:{organization:r,name:i}}=n instanceof v.Uri?Zr(n):n;return v.Uri.parse(`azurerepos://${C.encodeAuthority("azurerepos",{v:Ka,ref:{type:De.Commit,id:e}})}/${r}/${i}/${t}`)}a(Ba,"getAzDORevisionUri");function ja(n){var e,t,r,i,s,o;const u=Ga.exec(n);if((u==null?void 0:u.groups)===void 0)return;const{organization:l,project:c,repo:y,commit:j,pull:b}=u.groups,te=Va(v.Uri.parse(n)),Te=/^GB(?<branchName>.+)/i.exec((e=te.version)!=null?e:""),_e=/^GT(?<tagName>.+)/i.exec((t=te.version)!=null?t:""),Ue=/^GC(?<commit>[0-9a-f]{40})/i.exec((r=te.version)!=null?r:""),ct=te.path&&te.path!=="/"?te.path:void 0;return{organization:l,project:c,repo:y,branch:(i=Te==null?void 0:Te.groups)==null?void 0:i.branchName,tag:(s=_e==null?void 0:_e.groups)==null?void 0:s.tagName,commit:j!=null?j:(o=Ue==null?void 0:Ue.groups)==null?void 0:o.commit,pull:b,path:ct}}a(ja,"parseAzureReposUrl");const Qa=new TextDecoder;class Ya{constructor(e,t,r,i){this.providerService=e,this.authService=t,this.metadataStore=r,this.adoClient=i,this.fileTreeCache=new Map,this.gitAttributes=new Map,this.disposable=v.Disposable.from(e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s))),ii&&(this.lfsProxyEndpoint=this.getLfsProxyEndpoint())}get scheme(){return"azurerepos"}get repositories(){return[...this.providerService.getRepositories(ka.id)]}dispose(){this.disposable.dispose()}getRemoteSourceProviders(){return[{name:"Azure Repos",icon:"azure-devops",supportsQuery:!1,placeholder:v.l10n.t("Choose a repository"),label:v.l10n.t("Open Repository from {0}","Azure Repos"),getRemoteSources:async e=>{var t,r,i;const s=(t=await this.getOrganizations())==null?void 0:t.label;if(!s)return;const o=(r=await this.getProjects(s))==null?void 0:r.label;return o?((i=await this.adoClient.getRepositories(s,o))!=null?i:[]).map(l=>({providerId:"azurerepos",name:l.name,icon:"repo",detail:void 0,url:l.webUrl})):void 0}}]}canOpenRemoteUrl(e){const t=ja(e);if(t===void 0)return;const{branch:r,tag:i,commit:s,path:o,pull:u}=t;return u?re.PullRequest:o?re.File:r?re.Branch:i?re.Tag:s?re.Commit:re.Repository}async compareCommits(e,t){const r=await this.getMetadata(e),i=await this.getAheadBehindState(e,r,{base:t.base,head:t.compare});return i==null?void 0:i.incomingChanges}async createAndPushCommit(e,t,r,i,s,o){var u,l,c;const y=new x(`AzureRepos.createAndPushCommit(${e.toString()}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);if(r=r.filter(b=>b.fileType===v.FileType.File),r.length===0)throw y.stop({message:"Aborted; No changes to commit"}),X.NothingToCommitError("No changes to commit");let j;try{const b=await this.getMetadata(e);let te;if(i!==void 0)te=i;else{if(b.HEAD.detached&&!b.HEAD.branch)throw X.DetachedHEADError("Unable to commit; no current branch");te=b.HEAD.branch.name}const Te=[],_e=[],Ue=await this.getGitAttributes(e);for(const xt of r){const Xt=Za(xt);if(Xt===void 0)throw new Error("Unknown commit operation type.");switch(xt.type){case U.Created:case U.Changed:{try{const Zt=await xt.content;if(ge.get("experimental.lfs.write.enabled")&&li(Ue,xt.path)){const hn=await La(Zt);_e.push({...hn,path:xt.path,binaryContent:Zt})}else Te.push({changeType:Xt,item:{path:xt.path},newContent:{content:Hn(Zt),contentType:"base64Encoded"}})}catch(Zt){throw Z.error(Zt),X.CommitFailedError()}break}case U.Deleted:Te.push({changeType:Xt,item:{path:xt.path}});break}}const ct=await this.uploadLfsFiles(e,_e);Te.push(...ct);const pt=await this.adoClient.createPushes(b.repo.organization,b.repo.project,b.repo.name,{commits:[{changes:Te,comment:t}],refUpdates:[{name:`refs/heads/${te}`,oldObjectId:(l=(u=b.HEAD.branch)==null?void 0:u.sha)!=null?l:""}]});if(j=((c=pt==null?void 0:pt.refUpdates)==null?void 0:c.length)===1?pt.refUpdates[0].newObjectId:void 0,j===void 0)throw X.CommitFailedError();return i===void 0&&!b.HEAD.detached&&j!==void 0&&await this.fastForwardTo(e,j,b),j}catch(b){const{statusCode:te}=b;throw te===409?X.MergeConflictError(b):(Z.error(b),b)}finally{y.stop(j?{message:`: Created and pushed commit ${j}`}:void 0)}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,t){var r,i,s,o;const u=this.getBatchApiUrl(e),l=(await this.getAuthentication(e)).session.accessToken,c=[],y=await oi(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${l}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:t.map(j=>({oid:j.oid,size:j.size}))})});if(y.ok){const j=await y.json();if(j.objects.length!==t.length)throw X.CommitFailedError();for(let b=0;b<t.length;b++){const te=j.objects[b],Te=t[b];if((i=(r=te.actions)==null?void 0:r.upload)==null?void 0:i.href){const{href:_e,header:Ue}=te.actions.upload;if((await oi(_e,{method:"PUT",body:Te.binaryContent,headers:{Authorization:`Bearer ${l}`,...Ue}})).ok&&((o=(s=te.actions)==null?void 0:s.verify)==null?void 0:o.href)&&!(await oi(te.actions.verify.href,{method:"POST",headers:{Authorization:`Bearer ${l}`,...te.actions.verify.header}})).ok)throw X.CommitFailedError()}c.push({changeType:"add",item:{path:Te.path},newContent:{content:Na(Te.oid,Te.size),contentType:"base64Encoded"}})}}return c}async createBranch(e,t,r,i){try{const{repo:s}=await this.getMetadata(e);t.startsWith("refs/heads/")||(t=`refs/heads/${t}`);const o=await this.adoClient.updateRefs(s.organization,s.project,s.name,[{name:t,newObjectId:r,oldObjectId:"0000000000000000000000000000000000000000",repositoryId:s.name}]);if(!o||o.value.length!==1)throw new Error("Branch creation has failed. Unknown error.");const u=o.value[0];if(!u.success)throw u.updateStatus==="staleOldObjectId"?X.InvalidBranchNameError(t.substring(11),!0):X.InvalidBranchNameError(t.substring(11),!1);return u.name.substring(11)}catch(s){throw Z.error(s),s}}async createMetadata(e,t){var r,i,s,o;const u=new x(`AzDO.createMetadata(${e.toString()}, ${t})`);let l;try{let{provider:c,name:y,repo:{organization:j,project:b,name:te},ref:Te}=Zr(e);if(!Te||Te.type===De.Commit&&/HEAD/i.test(Te.id))Te={type:De.Commit,id:"HEAD"};else if((Te.type===De.Branch||Te.type===De.Tag)&&(Te=await this.validateBranchOrTagCasing(j,b,te,Te.id,Te.type),Te===void 0))throw new Error(`Cannot get metadata for Uri(${e.toString(!0)}); Unable to find the specified branch or tag`);const _e=await this.getRepositoryInfo(j,b,te,Te);if(_e===void 0)throw l=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Ue;if(t)Ue=t;else if(Te.type===De.Commit&&Te.id!=="HEAD")Ue=Te.id;else if(Ue=(i=(r=_e.ref)==null?void 0:r.sha)!=null?i:_e.defaultBranch.sha,Ue===void 0)throw l=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let ct;((s=_e.ref)==null?void 0:s.prefix)==="refs/heads/"?ct={type:Y.Branch,name:_e.ref.name,sha:Ue,branch:{name:_e.ref.name,sha:_e.ref.sha}}:((o=_e.ref)==null?void 0:o.prefix)==="refs/tags/"?ct={type:Y.Tag,name:_e.ref.name,sha:Ue,detached:{type:Y.Tag,name:_e.ref.name}}:ct={type:Y.Commit,name:H(Ue),sha:Ue,detached:{type:Y.Commit,name:H(Ue)}};const pt={version:Je,timestamp:Date.now(),provider:c,name:y,repo:_e.repo,accessLevel:_e.accessLevel,HEAD:ct,defaultBranch:_e.defaultBranch,pullRequest:_e.pullRequest,cloneUrl:_e.cloneUrl};return l=` \u2022 HEAD=${ct.sha}`,pt}finally{u.stop(l?{suffix:l}:void 0)}}async createPullRequest(e,t,r,i,s,o){var u,l;const c=new x(`GitHub.createPullRequest(${e.toString()}, ${t}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);try{const{repo:{organization:y,project:j,name:b},HEAD:{branch:te},defaultBranch:Te}=await this.getMetadata(e),_e=await this.adoClient.createPullRequest(y,j,b,{title:r,description:i,sourceRefName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`,targetRefName:`refs/heads/${(u=te==null?void 0:te.name)!=null?u:Te.name}`,isDraft:(l=s==null?void 0:s.draft)!=null?l:!1});if(_e===void 0)throw new Error("Pull request creation failed. Unknown error.");const Ue=_e.pullRequestId.toString();return{id:Ue,uri:v.Uri.parse(`${_e.repository.webUrl}/pullrequest/${Ue}`)}}catch(y){throw Z.error(y),y}finally{c.stop()}}createVirtualUri(e,{repo:t,ref:r,idx:i},s){if((r==null?void 0:r.type)===De.Tree)throw new Error(`Invalid ref type '${r.type}'`);const o=r!==void 0||i!==void 0?{v:Ka}:void 0;return o&&(r&&(o.ref={type:r.type,id:r.id}),i&&(o.idx=i)),e.with({authority:C.encodeAuthority("azurerepos",o),path:`/${t.organization}/${t.project}/${t.name}${(s==null?void 0:s.startsWith("/"))?s:`/${s!=null?s:""}`}`})}async createWorkspaceForRemoteUrl(e,t=se.CurrentWindow){const r=ja(e);if(r===void 0)return;const{organization:i,project:s,repo:o,branch:u,tag:l,commit:c,path:y,pull:j}=r;let b;u?b={type:De.Branch,id:u}:l?b={type:De.Tag,id:l}:c?b={type:De.Commit,id:c}:j&&(b={type:De.PullRequest,id:j});const te=this.createVirtualUri(C.baseVirtualWorkspaceUri,{repo:{organization:i,project:s!=null?s:o,name:o},ref:b}),{name:Te}=Zr(C.getVirtualUri(this.getProviderRootUri(te)));return{name:Te,uri:te,location:t,filesToOpen:y?[y]:void 0}}async fetch(e,t){const{fetched:r,metadata:i}=await this.fetchCore(e,!1,t);r&&await this.metadataStore.set(C.getVirtualUri(e),i.HEAD.sha,i)}async getAuthentication(e){const t=await this.authService.ensureAuthenticated();return{provider:ka,session:t,getRichNavigationHeaders:()=>({"X-Git-AzureDevOps":`Basic ${this.authService.getBase64AuthenticationSessionToken(t)}`})}}async getBranch(e,t){const{branches:r}=await this.getBranches(e,{query:t,limit:1});return r[0]}async getBranches(e,t){const{repo:{organization:r,project:i,name:s}}=Zr(e);return{branches:(await this.adoClient.getRefs(r,i,s,{filter:"heads/",filterContains:t.query,top:t.limit})).map(u=>({type:Oi.Head,name:u.name.substring(11),commit:u.objectId,commitUrl:u.url,locked:u.isLocked}))}}async getCommit(e,t){var r,i;try{const{repo:{organization:s,project:o,name:u}}=await this.getMetadata(e),l=await this.adoClient.getCommit(s,o,u,t);return l===void 0?void 0:{hash:l.commitId,message:(r=l.comment)!=null?r:"",parents:(i=l.parents)!=null?i:[],authorDate:new Date(l.author.date),authorEmail:l.author.email,authorName:l.author.name,commitDate:new Date(l.committer.date)}}catch(s){return}}async getCommits(e,t){var r;try{const{repo:{organization:i,project:s,name:o}}=await this.getMetadata(e),u=(r=t==null?void 0:t.limit)!=null?r:100,l=await this.adoClient.getCommits(i,s,o,{...t,limit:u+1});if(l===void 0)return;const c=l.map((j,b)=>({hash:j.commitId,message:j.comment,parents:l[b+1]?[l[b+1].commitId]:[],authorDate:new Date(j.author.date),authorEmail:j.author.email,authorName:j.author.name,commitDate:new Date(j.committer.date)}));let y;return c.length>u&&(c.splice(c.length-1,1),y={cursor:c[c.length-1].hash,more:!0}),{commits:c,paging:y}}catch(i){return}}async getFileContent(e,t,r){try{let i;const s=this.getProviderRootUri(e);if(t&&r&&!this.hasFileTree(e,t)){r.startsWith("/")&&(r=r.slice(1));let o=(0,Fa.dirname)(r);(o==="."||o==="/")&&(o=""),i=await(await this.getFileTree(s,t,{path:o,cache:!1,recursive:!1})).get(r)}else{const[o,{path:u}]=await Promise.all([this.getFileTree(e,t),r?{path:void 0}:this.providerService.getMetadata(e)]);i=await o.get(r!=null?r:u)}if((i==null?void 0:i.sha)===void 0)throw v.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw Z.logLevel===oe.Debug&&Z.error(i),i}}async getLfsProxyEndpoint(){try{return v.commands.executeCommand("_remotehub.getLfsProxyEndpoint").then(e=>e==null?void 0:e["dev.azure.com"])}catch(e){return}}async getLfsContent(e,t){var r;const{oid:i,size:s}=mi(t),o=this.getBatchApiUrl(e),u=(await this.getAuthentication(e)).session.accessToken;try{const l=await oi(o,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${u}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:i,size:Number(s)}]})});if(l.ok){const y=(r=(await l.json()).objects[0].actions)==null?void 0:r.download,j=y==null?void 0:y.href;if(ii){const b=await this.lfsProxyEndpoint;if(b!==void 0)return v.window.withProgress({location:v.ProgressLocation.Window},(te,Te)=>oa(b,{method:"POST",headers:{"Content-Type":"application/json","x-proxy-authorization":`Bearer ${u}`},body:JSON.stringify({fetchUrl:y.href,header:y.header})},void 0,Te,te))}return v.window.withProgress({location:v.ProgressLocation.Window},(b,te)=>oa(j,{method:"GET",headers:{Authorization:`Bearer ${u}`,...y.header}},void 0,te,b))}return t}catch(l){return Z.error(l),t}}async getIncomingChanges(e){var t,r;return(r=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?r:[]}async getModeRefType(e,t){const{HEAD:r,pullRequest:i}=await(t!=null?t:this.getMetadata(e));switch(r.type){case Y.Branch:return i!==void 0?M.PullRequestBranch:M.Branch;case Y.RemoteBranch:return i!==void 0?M.PullRequestRemoteBranch:M.RemoteBranch;case Y.Tag:return M.Tag;case Y.Commit:return M.Commit}}async getGitAttributes(e){const t=e.toString(),r=this.gitAttributes.get(t);if(r)return r;const i=this.providerService.createRelativeUri(e,".gitattributes"),s=this.getFileContent(i).then(o=>new et(Qa.decode(o))).catch(o=>{if(o instanceof v.FileSystemError&&o.code===v.FileSystemError.FileNotFound().code)return new et("");throw o});return this.gitAttributes.set(t,s),s}getProviderRootUri(e){return e=C.getProviderUri(e),Ja(e)}getRelativeFilePath(e,t){let{path:r}=Zr(e);const{path:i}=Zr(S(e,t));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getRemoteUri(e){const t=`https://dev.azure.com/${e.repo.organization}/${e.repo.project}/_git/${e.repo.name}`,r=e.path?`&path=/${e.path}`:"";return e.pullRequest?v.Uri.parse(`${t}/pullrequest/${e.pullRequest.id}`):e.branch?v.Uri.parse(`${t}?version=GB${e.branch}${r}`):e.tag?v.Uri.parse(`${t}?version=GT${e.tag}${r}`):e.sha?v.Uri.parse(`${t}?version=GC${e.sha}${r}`):v.Uri.parse(t)}async getTags(e,t){const{repo:{organization:r,project:i,name:s}}=Zr(e);return{tags:(await this.adoClient.getRefs(r,i,s,{filter:"tags/",filterContains:t.query,top:t.limit})).map(u=>({type:Oi.Tag,name:u.name.substring(10),commit:u.objectId,commitUrl:u.url}))}}getVirtualUriMetadata(e){const{provider:t,name:r,repo:i,ref:s}=Zr(e);return{provider:t,name:r,repo:i,ref:s}}async switchTo(e,t,r){const{name:i,repo:s,HEAD:{branch:o}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?t.startsWith("refs/heads/")?u={type:De.Branch,id:t.substr(11)}:t.startsWith("refs/tags/")?u={type:De.Tag,id:t.substr(10)}:u={type:De.Branch,id:t}:u={...t,type:t.type===De.Tree?De.Branch:t.type},(o==null?void 0:o.name)===u.id)))return{name:i,uri:this.createVirtualUri(e,{repo:s,ref:u}),location:(r==null?void 0:r.openInNewWindow)?se.NewWindow:se.CurrentWindow}}async sync(e,t,r){var i,s,o,u,l,c;const y=new x(`AzDO.sync(${e.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let j;try{const{metadata:b}=await this.fetchCore(e,!0,{to:r.to});if(b.HEAD.detached){j=" \u2022 Skipped; detached HEAD";return}if(((s=(i=b==null?void 0:b.state)==null?void 0:i.behind)!=null?s:0)>0&&await t.hasChanges(e)){y.logStep("Fetching upstream changes");const te=[],Te=(u=(o=b.state)==null?void 0:o.incomingChanges)!=null?u:[];if(Te.length>0){const _e=await t.getChanges(e);for(const Ue of _e){const ct=this.getRelativeFilePath(e,Ue.uri),pt=Te.find(xt=>xt.uri.path===Ue.uri.path);if(pt!==void 0){te.push({path:ct,current:Ue,incomingType:pt.type});break}}}if(te.length>0)switch(r.conflictResolution){case Ae.KeepCurrent:y.logStep("Syncing (keep) upstream changes",{message:`: ${te.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const _e of te)await t.keep(_e.current.uri,{type:_e.incomingType,providerUri:Ba(b,b.HEAD.branch.sha,_e.path)});break;case Ae.DiscardCurrent:y.logStep("Syncing (discard) upstream changes",{message:`: ${te.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const _e of te)await t.discard(_e.current.uri);break;case Ae.Merge:y.logStep("Syncing (merge) upstream changes",{message:`: ${te.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const _e of te)await t.merge(_e.current.uri,{type:_e.incomingType,providerUri:Ba(b,b.HEAD.branch.sha,_e.path)},{providerUri:Ba(b,b.HEAD.sha,_e.path)});break;case Ae.Abort:default:throw y.logStep("Syncing (abort) upstream changes",{message:`: ${te.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.metadataStore.set(C.getVirtualUri(e),b.HEAD.sha,b),X.SyncOrFetchError()}}j=` \u2022 to=${(l=r.to)!=null?l:b.HEAD.branch.sha}`,await this.fastForwardTo(e,(c=r.to)!=null?c:b.HEAD.branch.sha,b)}finally{y.stop(j?{suffix:j}:void 0)}}async fork(e){throw new Error("Forks are currently not supported")}async getFork(e){throw new Error("Forks are currently not supported")}async getObjectDetails(e,t,r){throw new Error("Not able to get object detail")}async getPullRequest(e,t){throw new Error("PRs are currently not supported")}async getTarGz(e,t,r){throw new Error("Getting zip is currently not supported")}async loadWorkspaceContents(e){return!1}async fastForwardTo(e,t,r){if(r.HEAD.detached)throw X.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===t&&r.state===void 0)return;const i=this.asFileTreeKey(e,r.HEAD.sha),s=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),s==null||s.dispose(),Z.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.metadataStore.set(C.getVirtualUri(e),t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:t},state:t!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),t!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(e,!1,{to:t})}async fetchCore(e,t,r){var i,s,o,u,l,c,y,j;const{force:b,to:te}={...r,force:t||(r==null?void 0:r.force)},Te=new x(`AzDO.fetch(${e.toString()}, force=${b}, to=${te})`);let _e;try{const Ue=await this.getMetadata(e);if(Ue.HEAD.detached)return _e=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Ue};if(Ue.HEAD.type===Y.RemoteBranch)return _e=" \u2022 Skipped; remote branch",{fetched:!1,metadata:Ue};const ct=await this.getBranchTips(e);if(!ct)throw _e=" \u2022 Unable to fetch branch tips",X.SyncOrFetchError(t);if(!b&&!te&&((i=ct.defaultBranch)==null?void 0:i.sha)!==void 0&&ct.defaultBranch.sha===Ue.defaultBranch.sha&&((s=ct.branch)==null?void 0:s.sha)!==void 0&&ct.branch.sha===Ue.HEAD.branch.sha)return _e=" \u2022 No changes detected",{fetched:!1,metadata:Ue};let pt;if(((o=ct.defaultBranch)==null?void 0:o.sha)!==void 0&&ct.defaultBranch.sha!==Ue.defaultBranch.sha&&(pt={defaultBranch:{...Ue.defaultBranch,sha:ct.defaultBranch.sha}}),((u=ct.branch)==null?void 0:u.sha)===void 0){if(_e=" \u2022 Unable to find branch tip",b)throw X.SyncOrFetchError(t);return pt!==void 0?{fetched:!0,metadata:{...Ue,...pt}}:{fetched:!1,metadata:Ue}}if(ct.branch.sha!==Ue.HEAD.branch.sha&&(pt={...pt,HEAD:{...Ue.HEAD,branch:{...Ue.HEAD.branch,sha:ct.branch.sha},detached:void 0}}),ct.branch.sha===Ue.HEAD.sha)return _e=" \u2022 Up to date",Ue.state!==void 0||pt!==void 0?{fetched:!0,metadata:{...Ue,...pt,state:void 0}}:{fetched:!1,metadata:Ue};Te.logStep("Fetching upstream changes");try{const xt=await this.getAheadBehindState(e,Ue,{base:(l=r==null?void 0:r.to)!=null?l:Ue.HEAD.sha,head:(j=(y=(c=pt==null?void 0:pt.HEAD)==null?void 0:c.branch)==null?void 0:y.sha)!=null?j:Ue.HEAD.branch.sha});return _e=` \u2022 Changes detected; ${xt==null?void 0:xt.behind} commits behind`,{fetched:!0,metadata:{...Ue,...pt,state:xt?{ahead:xt.ahead,behind:xt.behind,incomingChanges:xt.incomingChanges}:void 0}}}catch(xt){if(_e=` \u2022 Failed fetching upstream changes; ${String(xt)}`,b)throw X.SyncOrFetchError(t);return pt!==void 0?{fetched:!0,metadata:{...Ue,...pt}}:{fetched:!1,metadata:Ue}}}finally{Te.stop(_e?{suffix:_e}:void 0)}}async getAheadBehindState(e,t,r){var i,s,o,u,l;const{base:c,head:y}={base:t.HEAD.sha,head:(i=t.HEAD.branch)==null?void 0:i.sha,...r},j=new x(`AzureRepos.getAheadBehindState(${e.toString()}, base=${c}, head=${y})`);let b,te;try{if(!y){b=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const Te=await this.adoClient.getDiffs(t.repo.organization,t.repo.project,t.repo.name,c,y),_e=[];for(const Ue of(s=Te==null?void 0:Te.changes)!=null?s:[])switch(Ue.changeType){case"add":_e.push({uri:v.Uri.joinPath(e,Ue.item.path),type:U.Created});break;case"delete":_e.push({uri:v.Uri.joinPath(e,Ue.item.path),type:U.Deleted});break;case"edit":_e.push({uri:v.Uri.joinPath(e,Ue.item.path),type:U.Changed});break;case"rename":case"targetRename":_e.push({uri:v.Uri.joinPath(e,Ue.item.path),type:U.Created});break;case"sourceRename":_e.push({uri:v.Uri.joinPath(e,Ue.item.path),type:U.Deleted});break;default:Z.warn(`AzureRepos.getAheadBehindState(${e.toString()}, base=${c}, head=${y}): Unknown file status encountered '${Ue.changeType}'`);break}return te={ahead:(o=Te==null?void 0:Te.ahead)!=null?o:0,behind:(u=Te==null?void 0:Te.behind)!=null?u:0,incomingChanges:_e},te}catch(Te){throw b=` \u2022 Failed; ${String(Te)}`,Z.error(Te),Te}finally{j.stop({suffix:b!=null?b:` \u2022 ${(l=te==null?void 0:te.behind)!=null?l:0} commits behind`})}}async getBranchTips(e,t){try{const{repo:{organization:r,project:i,name:s},HEAD:{branch:o}}=await this.getMetadata(e);t===void 0?t=o?`heads/${o.name}`:"":t.startsWith("refs/")&&(t=t.slice(5));const l=(await this.adoClient.getRefs(r,i,s,{filter:t})).find(te=>te.name===`refs/${t}`);if(l===void 0)return;const c=await this.adoClient.getRepository(r,i,s),y=c.defaultBranch.startsWith("refs/")?c.defaultBranch.slice(5):c.defaultBranch,b=(await this.adoClient.getRefs(r,i,s,{filter:y})).find(te=>te.name===`refs/${y}`);return b===void 0?void 0:{branch:l.objectId?{sha:l.objectId}:void 0,defaultBranch:b.objectId?{sha:b.objectId}:void 0}}catch(r){return}}async getRepositoryAccessLevel(e,t,r){var i,s,o,u,l,c;const y=await this.adoClient.getGitSecurityNamespace(e);if(y===void 0)return N.None;try{const j=await this.adoClient.getRepository(e,t,r),b=`repoV2/${j.project.id}/${j.id}`,te=await this.adoClient.getSecurityPermissionEvaluation(e,y,b),Te=(i=y.actions.find(ct=>ct.name==="Administer"))==null?void 0:i.bit;if(Te&&((s=te==null?void 0:te.find(ct=>ct.permissions===Te))==null?void 0:s.value))return N.Admin;const _e=(o=y.actions.find(ct=>ct.name==="GenericContribute"))==null?void 0:o.bit;if(_e&&((u=te==null?void 0:te.find(ct=>ct.permissions===_e))==null?void 0:u.value))return N.Write;const Ue=(l=y.actions.find(ct=>ct.name==="GenericRead"))==null?void 0:l.bit;if(Ue&&((c=te==null?void 0:te.find(ct=>ct.permissions===Ue))==null?void 0:c.value))return N.Read}catch(j){Z.error(j)}return N.None}async getRepositoryInfo(e,t,r,i){var s,o,u;try{const l=await this.adoClient.getRepository(e,t,r);((s=l.defaultBranch)==null?void 0:s.startsWith("refs/heads/"))&&(l.defaultBranch=l.defaultBranch.substring(11));const c=await this.adoClient.getBranchStats(e,t,r,l.defaultBranch);if(c===void 0)throw new Error("Unable to retrieve the details of the default branch.");const y=await this.getRepositoryAccessLevel(e,t,r),j={repo:{organization:e,project:t,name:r},accessLevel:y,defaultBranch:{name:c.name,sha:c.commit.commitId},cloneUrl:{http:l.remoteUrl,ssh:l.sshUrl}};switch(i.type){case De.Branch:case De.Tag:{const b=i.type===De.Branch?"heads":"tags",Te=(await this.adoClient.getRefs(e,t,r,{filter:`${b}/${i.id}`})).find(_e=>_e.name===`refs/${b}/${i.id}`);return Te===void 0?void 0:{...j,ref:{name:i.type===De.Branch?Te.name.substring(11):Te.name.substring(10),sha:Te.objectId,prefix:i.type===De.Branch?"refs/heads/":"refs/tags/"}}}case De.Commit:return{...j,ref:{name:i.id==="HEAD"?l.defaultBranch:i.id,sha:I(i.id)?i.id:c.commit.commitId,prefix:I(i.id)?"":"refs/heads/"}};case De.PullRequest:{const b=await this.adoClient.getPullRequest(e,t,r,i.id);return{...j,ref:{name:b.sourceRefName.substring(11),sha:(u=(o=b.lastMergeCommit)==null?void 0:o.commitId)!=null?u:b.lastMergeSourceCommit.commitId,prefix:"refs/heads/"},pullRequest:{id:b.pullRequestId.toString(),state:qa(b.status),title:b.title}}}default:return}}catch(l){throw l instanceof Error&&l.message.includes("does not exist")?X.InvalidRepositoryError():l}}onRefreshOrRepositoryChanged(e){e=e.filter(t=>C.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async validateBranchOrTagCasing(e,t,r,i,s){const o=s===De.Branch?"heads":"tags",u=`${o}/${i}`,c=(await this.adoClient.getRefs(e,t,r,{filter:u})).find(te=>te.name===`refs/${o}/${i}`);if(c)return s===De.Branch?{type:De.Branch,id:c.name.substring(11)}:{type:De.Tag,id:c.name.substring(10)};const y=`${o}/`,b=(await this.adoClient.getRefs(e,t,r,{filter:y,filterContains:i})).find(te=>{var Te;return((Te=te.name)==null?void 0:Te.toLowerCase())===`refs/${o}/${i.toLowerCase()}`});if(b)return s===De.Branch?{type:De.Branch,id:b.name.substring(11)}:{type:De.Tag,id:b.name.substring(10)}}async getFileTree(e,t,r){var i,s,o,u,l;const c=this.isInWorkspace(e);let y=(i=r==null?void 0:r.cache)!=null?i:c,j,b,te;if(y||!t){const ct=(o=(s=r==null?void 0:r.prefetched)==null?void 0:s.metadata)!=null?o:this.getMetadata(e);te=c?this.getFileTreePermissions(e,ct):void 0;let pt;({repo:b,HEAD:{sha:pt},timestamp:j}=(u=r==null?void 0:r.prefetched)!=null?u:await ct),t&&pt!==t?(y=!1,j=Date.now()):t=pt}else({repo:b}=(l=r==null?void 0:r.prefetched)!=null?l:this.getVirtualUriMetadata(e)),j=Date.now();const Te=this.asFileTreeKey(e,t),_e=this.getProviderRootUri(e),Ue=new x(`AzureRepos.getFileTree(${Te}): ${e.toString()}`,{log:!1,logLevel:oe.Debug});try{let ct=a(function(){var xt;const Xt=new x(`AzureRepos.createFileTree(${Te})`);let Zt;const hn={dispose:()=>Zt==null?void 0:Zt.dispose(),permissions:te,getContent:async Fn=>{const An=await this.adoClient.getBlob(b.organization,b.project,b.name,Fn.sha);return new Uint8Array(An)},getTree:async(Fn,An)=>{const Yn=await this.adoClient.getItem(b.organization,b.project,b.name,t,"commit",Fn);if(Yn==null)throw new Error(`Git item was not found. CommitId: ${t}`);const rr=await this.adoClient.getTree(b.organization,b.project,b.name,Yn.objectId,An);if(rr==null)throw new Error(`Git tree was not found. ObjectId: ${Yn.objectId}`);return{sha:rr.objectId,truncated:!1,tree:rr.treeEntries.map(zr=>{var Ni;return{path:zr.relativePath,item:{mode:zr.mode,sha:zr.objectId,stat:{type:Xa(zr.gitObjectType),size:(Ni=zr.size)!=null?Ni:0,ctime:0,mtime:j}}}})}},onDidTriggerContentCaching:void 0,tryCachingContent:void 0};try{return new Ua(_e,t,j,hn,{path:r==null?void 0:r.path,recursive:(xt=r==null?void 0:r.recursive)!=null?xt:!1,preload:y||(r==null?void 0:r.recursive)})}catch(Fn){return Z.error(Fn),new Ua(_e,t,j,void 0)}finally{Xt.stop()}},"createFileTree"),pt=this.fileTreeCache.get(Te);return pt!==void 0||(pt=ct.call(this),y&&this.fileTreeCache.set(Te,pt)),pt}finally{Ue.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(r=>this.fileTreeCache.has(this.asFileTreeKey(e,r.HEAD.sha)))}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===B.Edit)return;const i=await this.providerService.getIndexMetadata(e);return J.isActive(i)?v.FilePermission.Readonly:void 0}asFileTreeKey(e,t){return e=C.getProviderUri(e),`${W(this.getProviderRootUri(e))}:${t}`}async getSearchableBranches(e){const t=await this.adoClient.getSearchableBranches(e.repo.organization,e.repo.project,e.repo.name);return t===void 0?(Z.debug("AzDOProvider.getSearchableBranches returned empty result"),[]):t.indexedBranches.map(r=>r.name)}async getRepoItems(e,t,r){const[,,,,...i]=t.split("/");let s;e.HEAD.type===Y.Commit?s={version:e.HEAD.sha,versionType:"commit"}:e.HEAD.type===Y.Branch?s={version:e.HEAD.branch.name,versionType:"branch"}:e.HEAD.type===Y.Tag&&(s={version:e.HEAD.name,versionType:"tag"});const o=await this.adoClient.getItems(e.repo.organization,e.repo.project,e.repo.name,s.version,s.versionType,r?"full":"oneLevel",i.join("/"));return o===void 0?(Z.debug(`AzDOProvider.getRepoItems returned empty result for path ${t}`),[]):o}async searchCodeQuery(e,t,r){var i;const{repo:{organization:s,project:o,name:u},HEAD:l,defaultBranch:c}=await this.getMetadata(t);try{const y=await this.adoClient.searchCode(s,o,u,l.branch?l.branch.name:c.name,e),j=new v.Range(0,0,0,0),b=[];let te;for(const Te of(i=y==null?void 0:y.results)!=null?i:[])for(const _e of Te.matches.content){te={path:Te.path,ranges:[],preview:"",matches:[]};const Ue=Math.max(0,_e.line-1),ct=_e.charOffset,pt=ct+_e.length;te.preview=_e.codeSnippet?_e.codeSnippet:`CharOffset: ${_e.charOffset}, Type: ${_e.type}`,te.ranges.push(new v.Range(Ue,ct,Ue,pt)),te.matches.push(j),b.push(te)}return{matches:b,limitHit:!1}}catch(y){return Z.error(y),{matches:[],limitHit:!1}}}async getOrganizations(){const e=a(async()=>{const t=await this.adoClient.getAccounts();return t?t.map(r=>({label:r})):[]},"getQuickPickItems");return v.window.showQuickPick(e(),{placeHolder:"Choose an Azure DevOps Organization",title:"Choose an Azure DevOps Organization",ignoreFocusOut:!0})}async getProjects(e){const t=a(async()=>(await this.adoClient.getProjects(e)).map(i=>({label:i.name,description:i.description})),"getQuickPickItems");return v.window.showQuickPick(t(),{placeholder:"Choose an Azure DevOps project",title:"Choose an Azure DevOps project",ignoreFocusOut:!0})}async getMetadata(e){return this.providerService.getMetadata(e)}isInWorkspace(e){var t;return((t=v.workspace.getWorkspaceFolder(C.getVirtualUri(e)))==null?void 0:t.uri)!==void 0}}a(Ya,"AzDORepositoryProvider");function Xa(n){switch(n){case"blob":return v.FileType.File;case"tree":return v.FileType.Directory;default:return v.FileType.Unknown}}a(Xa,"gitObjectTypeToFileType");function Za(n){switch(n.type){case U.Created:return"add";case U.Changed:return"edit";case U.Deleted:return"delete";default:return}}a(Za,"operationTypeToVersionControlChangeType");function qa(n){switch(n){case"active":return q.Open;case"completed":return q.Merged;case"abandoned":return q.Closed}}a(qa,"toPullRequestState");function es(n){return{registerVirtualProviderService:function(e){ye.configure("azureRepos",n),Z.configure(n,"Azure Repos",ge.get("logLevel")),x.start("Time to root directory",{log:!1});const t=ai.configure(n),r=new Mi(n);try{const i=new Zn(n.globalState),s=i.with(t),o=new vi(n.globalStorageUri,t),u=new $r(s),l=new Ar(e,s,o,r,t);l.getWorkspacesWithChanges();const c=new Ui(e,i,l,t,n),y=new Bi,j=new Wr(y),b=new Ya(e,y,u,j),te=new ci(e,l,b,j);n.subscriptions.push(ge.onDidChange(Te=>{!ge.changed(Te,"logLevel")||(Z.logLevel=ge.get("logLevel"))}),new fe(b),c,l,b,te),e.register("azurerepos","Azure Repos",b,te,i,l,u,c),r.publicLog2("activate")}catch(i){throw Z.error(i),xi(n,i),i}}}}a(es,"activate")})(),module.exports=Ea})();
